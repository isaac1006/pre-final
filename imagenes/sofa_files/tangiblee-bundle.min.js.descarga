!function(){try{self.TrackJS=self.trackJs=function(e,t,n){"use awesome";var i=function(e,t){this.config=e,this.onError=t,e.enabled&&this.watch()};i.prototype={watch:function(){f.forEach(["EventTarget","Node","XMLHttpRequest"],function(t){f.has(e,t+".prototype.addEventListener")&&f.hasOwn(e[t].prototype,"addEventListener")&&this.wrapEventTarget(e[t].prototype)},this),this.wrapTimer("setTimeout"),this.wrapTimer("setInterval")},wrap:function(e){function t(){try{return e.apply(this,arguments)}catch(t){throw n.onError("catch",t,{bindTime:o,bindStack:r}),f.wrapError(t)}}var n=this;try{if(!f.isFunction(e)||f.hasOwn(e,"__trackjs__"))return e;if(f.hasOwn(e,"__trackjs_state__"))return e.__trackjs_state__}catch(i){return e}var o,r;if(n.config.bindStack)try{throw Error()}catch(i){r=i.stack,o=f.isoNow()}for(var a in e)f.hasOwn(e,a)&&(t[a]=e[a]);return t.prototype=e.prototype,t.__trackjs__=!0,e.__trackjs_state__=t},wrapEventTarget:function(e){var t=this;f.has(e,"addEventListener.call")&&f.has(e,"removeEventListener.call")&&(f.patch(e,"addEventListener",function(e){return function(n,i,o,r){try{f.has(i,"handleEvent")&&(i.handleEvent=t.wrap(i.handleEvent))}catch(a){}return e.call(this,n,t.wrap(i),o,r)}}),f.patch(e,"removeEventListener",function(e){return function(t,n,i,o){try{n=n&&(n.__trackjs_state__||n)}catch(r){}return e.call(this,t,n,i,o)}}))},wrapTimer:function(t){var n=this;f.patch(e,t,function(e){return function(t,i){var o=Array.prototype.slice.call(arguments),r=o[0];return f.isFunction(r)&&(o[0]=n.wrap(r)),f.has(e,"apply")?e.apply(this,o):e(o[0],o[1])}})}};var o=function(e){this.initCurrent(e)||console.warn("[TrackJS] invalid config")};o.prototype={current:{},initOnly:{application:!0,cookie:!0,enabled:!0,token:!0,callback:{enabled:!0},console:{enabled:!0},navigation:{enabled:!0},network:{enabled:!0,fetch:!0},visitor:{enabled:!0},window:{enabled:!0,promise:!0}},defaults:{application:"",cookie:!1,dedupe:!0,dependencies:!0,enabled:!0,forwardingDomain:"",errorURL:"https://capture.trackjs.com/capture",errorNoSSLURL:"http://capture.trackjs.com/capture",faultURL:"https://usage.trackjs.com/fault.gif",usageURL:"https://usage.trackjs.com/usage.gif",onError:function(){return!0},serialize:function(e){function t(e){var t="<"+e.tagName.toLowerCase();e=e.attributes||[];for(var n=0;n<e.length;n++)t+=" "+e[n].name+'="'+e[n].value+'"';return t+">"}if(""===e)return"Empty String";if(e===n)return"undefined";if(f.isString(e)||f.isNumber(e)||f.isBoolean(e)||f.isFunction(e))return""+e;if(f.isElement(e))return t(e);if("symbol"==typeof e)return Symbol.prototype.toString.call(e);var i;try{i=JSON.stringify(e,function(e,i){return i===n?"undefined":f.isNumber(i)&&isNaN(i)?"NaN":f.isError(i)?{name:i.name,message:i.message,stack:i.stack}:f.isElement(i)?t(i):i})}catch(o){i="";for(var r in e)if(e.hasOwnProperty(r))try{i+=',"'+r+'":"'+e[r]+'"'}catch(a){}i=i?"{"+i.replace(",","")+"}":"Unserializable Object"}return i.replace(/"undefined"/g,"undefined").replace(/"NaN"/g,"NaN")},sessionId:"",token:"",userId:"",version:"",callback:{enabled:!0,bindStack:!1},console:{enabled:!0,display:!0,error:!0,warn:!1,watch:["log","debug","info","warn","error"]},navigation:{enabled:!0},network:{enabled:!0,error:!0,fetch:!0},visitor:{enabled:!0},window:{enabled:!0,promise:!0}},initCurrent:function(e){return this.removeEmpty(e),this.validate(e,this.defaults,"[TrackJS] config",{})?(this.current=f.defaultsDeep({},e,this.defaults),!0):(this.current=f.defaultsDeep({},this.defaults),!1)},setCurrent:function(e){return!!this.validate(e,this.defaults,"[TrackJS] config",this.initOnly)&&(this.current=f.defaultsDeep({},e,this.current),!0)},removeEmpty:function(e){for(var t in e)e.hasOwnProperty(t)&&e[t]===n&&delete e[t]},validate:function(e,t,n,i){var o=!0;n=n||"",i=i||{};for(var r in e)if(e.hasOwnProperty(r))if(t.hasOwnProperty(r)){var a=typeof t[r];a!==typeof e[r]?(console.warn(n+"."+r+": property must be type "+a+"."),o=!1):"[object Array]"!==Object.prototype.toString.call(e[r])||this.validateArray(e[r],t[r],n+"."+r)?"[object Object]"===Object.prototype.toString.call(e[r])?o=this.validate(e[r],t[r],n+"."+r,i[r]):i.hasOwnProperty(r)&&(console.warn(n+"."+r+": property cannot be set after load."),o=!1):o=!1}else console.warn(n+"."+r+": property not supported."),o=!1;return o},validateArray:function(e,t,n){var i=!0;n=n||"";for(var o=0;o<e.length;o++)f.contains(t,e[o])||(console.warn(n+"["+o+"]: invalid value: "+e[o]+"."),i=!1);return i}};var r=function(e,t,n,i,o,r,a){this.util=e,this.log=t,this.onError=n,this.onFault=i,this.serialize=o,a.enabled&&(r.console=this.wrapConsoleObject(r.console,a))};r.prototype={wrapConsoleObject:function(e,t){e=e||{};var n,i=e.log||function(){},o=this;for(n=0;n<t.watch.length;n++)(function(n){var r=e[n]||i;e[n]=function(){try{var i=Array.prototype.slice.call(arguments);if(o.log.add("c",{timestamp:o.util.isoNow(),severity:n,message:o.serialize(1===i.length?i[0]:i)}),t[n])if(f.isError(i[0])&&1===i.length)o.onError("console",i[0]);else try{throw Error(o.serialize(1===i.length?i[0]:i))}catch(a){o.onError("console",a)}t.display&&(o.util.hasFunction(r,"apply")?r.apply(e,i):r(i[0]))}catch(a){o.onFault(a)}}})(t.watch[n]);return e},report:function(){return this.log.all("c")}};var a=function(e,t,n,i,o){this.config=e,this.util=t,this.log=n,this.window=i,this.document=o,this.correlationId=this.token=null,this.initialize()};a.prototype={initialize:function(){this.token=this.getCustomerToken(),this.correlationId=this.getCorrelationId()},getCustomerToken:function(){if(this.config.current.token)return this.config.current.token;var e=this.document.getElementsByTagName("script");return e[e.length-1].getAttribute("data-token")},getCorrelationId:function(){var e;if(!this.config.current.cookie)return this.util.uuid();try{e=this.document.cookie.replace(/(?:(?:^|.*;\s*)TrackJS\s*\=\s*([^;]*).*$)|^.*$/,"$1"),e||(e=this.util.uuid(),this.document.cookie="TrackJS="+e+"; expires=Fri, 31 Dec 9999 23:59:59 GMT; path=/")}catch(t){e=this.util.uuid()}return e},report:function(){return{application:this.config.current.application,correlationId:this.correlationId,sessionId:this.config.current.sessionId,token:this.token,userId:this.config.current.userId,version:this.config.current.version}}};var s=function(e){this.config=e,this.loadedOn=(new Date).getTime(),this.originalUrl=f.getLocation(),this.referrer=f.isBrowser?t.referrer:""};s.prototype={discoverDependencies:function(){var t={TrackJS:"3.10.1"};e.jQuery&&e.jQuery.fn&&e.jQuery.fn.jquery&&(t.jQuery=e.jQuery.fn.jquery),e.jQuery&&e.jQuery.ui&&e.jQuery.ui.version&&(t.jQueryUI=e.jQuery.ui.version),e.angular&&e.angular.version&&e.angular.version.full&&(t.angular=e.angular.version.full);for(var n in e)if("_trackJs"!==n&&"_trackJS"!==n&&"_trackjs"!==n&&"webkitStorageInfo"!==n&&"webkitIndexedDB"!==n&&"top"!==n&&"parent"!==n&&"frameElement"!==n)try{if(e[n]){var i=e[n].version||e[n].Version||e[n].VERSION;"string"==typeof i&&(t[n]=i)}}catch(o){}return t.TrackJS&&t.trackJs&&delete t.trackJs,t},report:function(){return{age:(new Date).getTime()-this.loadedOn,dependencies:this.config.current.dependencies?this.discoverDependencies():{trackJs:"3.10.1"},originalUrl:this.originalUrl,referrer:this.referrer,userAgent:e.navigator.userAgent,viewportHeight:f.isBrowser?e.document.documentElement.clientHeight:0,viewportWidth:f.isBrowser?e.document.documentElement.clientWidth:0}}};var c=function(e){this.util=e,this.appender=[],this.maxLength=30};c.prototype={all:function(e){var t,n,i=[];for(n=0;n<this.appender.length;n++)(t=this.appender[n])&&t.category===e&&i.push(t.value);return i},clear:function(){this.appender.length=0},truncate:function(){this.appender.length>this.maxLength&&(this.appender=this.appender.slice(Math.max(this.appender.length-this.maxLength,0)))},add:function(e,t){var n=this.util.uuid();return this.appender.push({key:n,category:e,value:t}),this.truncate(),n},get:function(e,t){var n,i;for(i=0;i<this.appender.length;i++)if(n=this.appender[i],n.category===e&&n.key===t)return n.value;return!1}};var l=function(e){var t={};return{addMetadata:function(e,n){t[e]=n},removeMetadata:function(e){delete t[e]},report:function(){var n,i=[];for(n in t)t.hasOwnProperty(n)&&i.push({key:n,value:e(t[n])});return i},store:t}},u=function(e,t){this.log=e,this.options=t,t.enabled&&this.watch()};u.prototype={isCompatible:function(t){return t=t||e,!f.has(t,"chrome.app.runtime")&&f.has(t,"addEventListener")&&f.has(t,"history.pushState")},record:function(e,t,n){this.log.add("h",{type:e,from:f.truncate(t,250),to:f.truncate(n,250),on:f.isoNow()})},report:function(){return this.log.all("h")},watch:function(){if(this.isCompatible()){var t=this,n=f.getLocationURL().relative;e.addEventListener("popstate",function(){var e=f.getLocationURL().relative;t.record("popState",n,e),n=e},!0),f.forEach(["pushState","replaceState"],function(e){f.patch(history,e,function(i){return function(){n=f.getLocationURL().relative;var o=i.apply(this,arguments),r=f.getLocationURL().relative;return t.record(e,n,r),n=r,o}})})}}};var d=function(e,t,n,i,o,r){this.util=e,this.log=t,this.onError=n,this.onFault=i,this.window=o,this.options=r,r.enabled&&this.initialize(o)};d.prototype={initialize:function(e){e.XMLHttpRequest&&this.util.hasFunction(e.XMLHttpRequest.prototype.open,"apply")&&this.watchNetworkObject(e.XMLHttpRequest),e.XDomainRequest&&this.util.hasFunction(e.XDomainRequest.prototype.open,"apply")&&this.watchNetworkObject(e.XDomainRequest),this.options.fetch&&f.isWrappableFunction(e.fetch)&&this.watchFetch()},escapeUrl:function(e){return(""+e).replace(/ /gi,"%20").replace(/\t/gi,"%09")},watchFetch:function(){var t=this,n=this.log,i=this.options,o=this.onError;f.patch(e,"fetch",function(r){return function(a,s){if(s&&s.__trackjs__)return r.apply(e,arguments);var c;try{throw Error()}catch(l){c=l.stack}var u=a instanceof Request?a.url:a,d=a instanceof Request?a.method:(s||{}).method||"GET",u=t.escapeUrl(u),g=r.apply(e,arguments);return g.__trackjs_state__=n.add("n",{type:"fetch",startedOn:f.isoNow(),method:d,url:f.truncate(u,2e3)}),g.then(function(e){var t=n.get("n",g.__trackjs_state__);if(t){f.defaults(t,{completedOn:f.isoNow(),statusCode:e.status,statusText:e.statusText});var r=e.headers.get("trackjs-correlation-id");r&&(t.requestCorrelationId=r),i.error&&400<=e.status&&(t=Error(t.statusCode+" : "+t.method+" "+t.url),t.stack=c,o("ajax",t))}return e})["catch"](function(e){e=e||{};var t=n.get("n",g.__trackjs_state__);throw t&&(f.defaults(t,{completedOn:f.isoNow(),statusCode:0,statusText:e.toString()}),i.error&&(o("ajax",{name:e.name,message:(e.message||"Failed")+": "+t.method+" "+t.url,stack:e.stack||c}),e.__trackjs_state__=!0)),e})}})},watchNetworkObject:function(e){var t=this,n=e.prototype.open,i=e.prototype.send;return e.prototype.open=function(e,i){var o=(i||"").toString();return 0>o.indexOf("localhost:0")&&(o=t.escapeUrl(o),this._trackJs={method:e,url:o}),n.apply(this,arguments)},e.prototype.send=function(){if(!this._trackJs)try{return i.apply(this,arguments)}catch(e){return void t.onError("ajax",e)}try{this._trackJs.logId=t.log.add("n",{type:"xhr",startedOn:t.util.isoNow(),method:this._trackJs.method,url:f.truncate(this._trackJs.url,2e3)}),t.listenForNetworkComplete(this)}catch(e){t.onFault(e)}return i.apply(this,arguments)},e},listenForNetworkComplete:function(e){var t=this;t.window.ProgressEvent&&e.addEventListener&&e.addEventListener("readystatechange",function(){4===e.readyState&&t.finalizeNetworkEvent(e)},!0),e.addEventListener?e.addEventListener("load",function(){t.finalizeNetworkEvent(e),t.checkNetworkFault(e)},!0):setTimeout(function(){try{var n=e.onload;e.onload=function(){t.finalizeNetworkEvent(e),t.checkNetworkFault(e),"function"==typeof n&&t.util.hasFunction(n,"apply")&&n.apply(e,arguments)};var i=e.onerror;e.onerror=function(){t.finalizeNetworkEvent(e),t.checkNetworkFault(e),"function"==typeof oldOnError&&i.apply(e,arguments)}}catch(o){t.onFault(o)}},0)},finalizeNetworkEvent:function(e){if(e._trackJs){var t=this.log.get("n",e._trackJs.logId);t&&(t.completedOn=this.util.isoNow(),e.getAllResponseHeaders&&e.getResponseHeader&&0<=(e.getAllResponseHeaders()||"").toLowerCase().indexOf("trackjs-correlation-id")&&(t.requestCorrelationId=e.getResponseHeader("trackjs-correlation-id")),t.statusCode=1223==e.status?204:e.status,t.statusText=1223==e.status?"No Content":e.statusText)}},checkNetworkFault:function(e){if(this.options.error&&400<=e.status&&1223!=e.status){var t=e._trackJs||{};this.onError("ajax",e.status+" : "+t.method+" "+t.url)}},report:function(){return this.log.all("n")}};var g=function(t,n){this.util=t,this.config=n,this.disabled=!1,this.throttleStats={attemptCount:0,throttledCount:0,lastAttempt:(new Date).getTime()},e.JSON&&e.JSON.stringify||(this.disabled=!0)};g.prototype={errorEndpoint:function(t){var n=this.config.current,i=n.errorURL;return f.isBrowser&&!f.testCrossdomainXhr()&&-1===e.location.protocol.indexOf("https")?i=n.errorNoSSLURL:n.forwardingDomain&&(i="https://"+n.forwardingDomain+"/capture"),i+"?token="+t+"&v=3.10.1"},usageEndpoint:function(e){var t=this.config.current,n=t.usageURL;return t.forwardingDomain&&(n="https://"+t.forwardingDomain+"/usage.gif"),this.appendObjectAsQuery(e,n)},trackerFaultEndpoint:function(e){var t=(this.config||{}).current||o.prototype.defaults,n=t.faultURL;return t.forwardingDomain&&(n="https://"+t.forwardingDomain+"/fault.gif"),this.appendObjectAsQuery(e,n)},appendObjectAsQuery:function(e,t){t+="?";for(var n in e)e.hasOwnProperty(n)&&(t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n])+"&");return t},getCORSRequest:function(t,n){var i;return this.util.testCrossdomainXhr()?(i=new e.XMLHttpRequest,i.open(t,n),i.setRequestHeader("Content-Type","text/plain")):"undefined"!=typeof e.XDomainRequest?(i=new e.XDomainRequest,i.open(t,n)):i=null,i},sendTrackerFault:function(e){this.throttle(e)||(f.isBrowser?t.createElement("img").src=this.trackerFaultEndpoint(e):fetch(this.trackerFaultEndpoint(e),{mode:"no-cors",__trackjs__:!0}))},sendUsage:function(e){f.isBrowser?t.createElement("img").src=this.usageEndpoint(e):fetch(this.usageEndpoint(e),{mode:"no-cors",__trackjs__:!0})},sendError:function(t,i){var o=this;if(!this.disabled&&!this.throttle(t))try{if(f.isBrowser){var r=this.getCORSRequest("POST",this.errorEndpoint(i));r.onreadystatechange=function(){4!==r.readyState||f.contains([200,202],r.status)||(o.disabled=!0)},r._trackJs=n,r.send(e.JSON.stringify(t))}else if(f.isWorker){var a={method:"POST",mode:"cors",body:e.JSON.stringify(t),__trackjs__:1};fetch(this.errorEndpoint(i),a).then(function(e){e.ok||(o.disabled=!0)})["catch"](function(e){o.disabled=!0})}}catch(s){throw this.disabled=!0,s}},throttle:function(e){var t=(new Date).getTime();if(this.throttleStats.attemptCount++,this.throttleStats.lastAttempt+1e3>=t){if(this.throttleStats.lastAttempt=t,10<this.throttleStats.attemptCount)return this.throttleStats.throttledCount++,!0}else e.throttled=this.throttleStats.throttledCount,this.throttleStats.attemptCount=0,this.throttleStats.lastAttempt=t,this.throttleStats.throttledCount=0;return!1}};var f=function(){function i(e,t,r,a){return r=r||!1,a=a||0,f.forEach(t,function(t){f.forEach(f.keys(t),function(s){null===t[s]||t[s]===n?e[s]=t[s]:r&&10>a&&"[object Object]"===o(t[s])?(e[s]=e[s]||{},i(e[s],[t[s]],r,a+1)):e.hasOwnProperty(s)||(e[s]=t[s])})}),e}function o(e){return Object.prototype.toString.call(e)}return{isBrowser:"undefined"!=typeof e&&"undefined"!=typeof e.document,isWorker:"object"==typeof self&&self.constructor&&0<=(self.constructor.name||"").indexOf("WorkerGlobalScope"),isNode:"undefined"!=typeof process&&null!=process.versions&&null!=process.versions.node,addEventListenerSafe:function(e,t,n,i){e.addEventListener?e.addEventListener(t,n,i):e.attachEvent&&e.attachEvent("on"+t,n)},afterDocumentLoad:function(e){if(f.isWorker)f.defer(e);else{var n=!1;"complete"===t.readyState?f.defer(e):(f.addEventListenerSafe(t,"readystatechange",function(){"complete"!==t.readyState||n||(f.defer(e),n=!0)}),setTimeout(function(){n||(f.defer(e),n=!0)},1e4))}},bind:function(e,t){return function(){return e.apply(t,Array.prototype.slice.call(arguments))}},contains:function(e,t){return 0<=e.indexOf(t)},defaults:function(e){return i(e,Array.prototype.slice.call(arguments,1),!1)},defaultsDeep:function(e){return i(e,Array.prototype.slice.call(arguments,1),!0)},defer:function(e,t){setTimeout(function(){e.apply(t)})},forEach:function(e,t,n){if(f.isArray(e)){if(e.forEach)return e.forEach(t,n);for(var i=0;i<e.length;)t.call(n,e[i],i,e),i++}},getLocation:function(){return e.location.toString().replace(/ /g,"%20")},getLocationURL:function(){return f.parseURL(f.getLocation())},has:function(e,t){try{for(var n=t.split("."),i=e,o=0;o<n.length;o++){if(!i[n[o]])return!1;i=i[n[o]]}return!0}catch(r){return!1}},hasFunction:function(e,t){try{return!!e[t]}catch(n){return!1}},hasOwn:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},isArray:function(e){return"[object Array]"===o(e)},isBoolean:function(e){return"boolean"==typeof e||f.isObject(e)&&"[object Boolean]"===o(e)},isBrowserIE:function(t){t=t||e.navigator.userAgent;var n=t.match(/Trident\/([\d.]+)/);return n&&"7.0"===n[1]?11:!!(t=t.match(/MSIE ([\d.]+)/))&&parseInt(t[1],10)},isBrowserSupported:function(){var e=this.isBrowserIE();return!e||8<=e},isError:function(e){if(!f.isObject(e))return!1;var t=o(e);return"[object Error]"===t||"[object DOMException]"===t||f.isString(e.name)&&f.isString(e.message)},isElement:function(e){return f.isObject(e)&&1===e.nodeType},isFunction:function(e){return!(!e||"function"!=typeof e)},isNumber:function(e){return"number"==typeof e||f.isObject(e)&&"[object Number]"===o(e)},isObject:function(e){return!(!e||"object"!=typeof e)},isString:function(e){return"string"==typeof e||!f.isArray(e)&&f.isObject(e)&&"[object String]"===o(e)},isWrappableFunction:function(e){return this.isFunction(e)&&this.hasFunction(e,"apply")},isoNow:function(){var e=new Date;return e.toISOString?e.toISOString():e.getUTCFullYear()+"-"+this.pad(e.getUTCMonth()+1)+"-"+this.pad(e.getUTCDate())+"T"+this.pad(e.getUTCHours())+":"+this.pad(e.getUTCMinutes())+":"+this.pad(e.getUTCSeconds())+"."+String((e.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"},keys:function(e){if(!f.isObject(e))return[];var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push(t);return n},noop:function(){},pad:function(e){return e=String(e),1===e.length&&(e="0"+e),e},parseURL:function(e){var t=e.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);return t?(t={protocol:t[2],host:t[4],path:t[5],query:t[6],hash:t[8]},t.origin=(t.protocol||"")+"://"+(t.host||""),t.relative=(t.path||"")+(t.query||"")+(t.hash||""),t.href=e,t):{}},patch:function(e,t,n){e[t]=n(e[t]||f.noop)},testCrossdomainXhr:function(){return f.isBrowser&&"withCredentials"in new XMLHttpRequest},truncate:function(e,t){if(e=""+e,e.length<=t)return e;var n=e.length-t;return e.substr(0,t)+"...{"+n+"}"},tryGet:function(e,t){try{return e[t]}catch(n){}},uuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})},wrapError:function(e){var t=e||Object.prototype.toString.call(e);if(t&&t.innerError)return e;var n=Error("TrackJS Caught: "+(t.message||t));return n.description="TrackJS Caught: "+t.description,n.file=t.file,n.line=t.line||t.lineNumber,n.column=t.column||t.columnNumber,n.stack=t.stack,n.innerError=e,n}}}(),p=function(e,t,n,i,o,r){this.util=e,this.log=t,this.onError=n,this.onFault=i,this.options=r,this.document=o,e.isBrowser&&r.enabled&&this.initialize(o)};p.prototype={initialize:function(e){var t=this.util.bind(this.onDocumentClicked,this),n=this.util.bind(this.onInputChanged,this);e.addEventListener?(e.addEventListener("click",t,!0),e.addEventListener("blur",n,!0)):e.attachEvent&&(e.attachEvent("onclick",t),e.attachEvent("onfocusout",n))},onDocumentClicked:function(e){try{var t=this.getElementFromEvent(e);t&&t.tagName&&(this.isDescribedElement(t,"a")||this.isDescribedElement(t,"button")||this.isDescribedElement(t,"input",["button","submit"])?this.writeVisitorEvent(t,"click"):this.isDescribedElement(t,"input",["checkbox","radio"])&&this.writeVisitorEvent(t,"input",t.value,t.checked))}catch(n){this.onFault(n)}},onInputChanged:function(e){try{var t=this.getElementFromEvent(e);t&&t.tagName&&(this.isDescribedElement(t,"textarea")?this.writeVisitorEvent(t,"input",t.value):this.isDescribedElement(t,"select")&&t.options&&t.options.length?this.onSelectInputChanged(t):this.isDescribedElement(t,"input")&&!this.isDescribedElement(t,"input",["button","submit","hidden","checkbox","radio"])&&this.writeVisitorEvent(t,"input",t.value))}catch(n){this.onFault(n)}},onSelectInputChanged:function(e){if(e.multiple)for(var t=0;t<e.options.length;t++)e.options[t].selected&&this.writeVisitorEvent(e,"input",e.options[t].value);else 0<=e.selectedIndex&&e.options[e.selectedIndex]&&this.writeVisitorEvent(e,"input",e.options[e.selectedIndex].value)},writeVisitorEvent:function(e,t,i,o){"password"===this.getElementType(e)&&(i=n);var r=this.getElementAttributes(e);e.innerText&&(r.__trackjs_element_text=this.util.truncate(e.innerText,500)),this.log.add("v",{timestamp:this.util.isoNow(),action:t,element:{tag:e.tagName.toLowerCase(),attributes:r,value:this.getMetaValue(i,o)}})},getElementFromEvent:function(e){return e.target||t.elementFromPoint(e.clientX,e.clientY)},isDescribedElement:function(e,t,n){if(e.tagName.toLowerCase()!==t.toLowerCase())return!1;if(!n)return!0;for(e=this.getElementType(e),t=0;t<n.length;t++)if(n[t]===e)return!0;return!1},getElementType:function(e){return(e.getAttribute("type")||"").toLowerCase()},getElementAttributes:function(e){for(var t={},n=Math.min(e.attributes.length,10),i=0;i<n;i++){var o=e.attributes[i];f.contains(["data-value","value"],o.name.toLowerCase())||(t[o.name]=f.truncate(o.value,100))}return t},getMetaValue:function(e,t){return e===n?n:{length:e.length,pattern:this.matchInputPattern(e),checked:t}},matchInputPattern:function(e){return""===e?"empty":/^[a-z0-9!#$%&'*+=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/.test(e)?"email":/^(0?[1-9]|[12][0-9]|3[01])[\/\-](0?[1-9]|1[012])[\/\-]\d{4}$/.test(e)||/^(\d{4}[\/\-](0?[1-9]|1[012])[\/\-]0?[1-9]|[12][0-9]|3[01])$/.test(e)?"date":/^(?:(?:\+?1\s*(?:[.-]\s*)?)?(?:\(\s*([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9])\s*\)|([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9]))\s*(?:[.-]\s*)?)?([2-9]1[02-9]|[2-9][02-9]1|[2-9][02-9]{2})\s*(?:[.-]\s*)?([0-9]{4})(?:\s*(?:#|x\.?|ext\.?|extension)\s*(\d+))?$/.test(e)?"usphone":/^\s*$/.test(e)?"whitespace":/^\d*$/.test(e)?"numeric":/^[a-zA-Z]*$/.test(e)?"alpha":/^[a-zA-Z0-9]*$/.test(e)?"alphanumeric":"characters"},report:function(){return this.log.all("v")}};var m=function(e,t,n,i,o){this.onError=e,this.onFault=t,this.serialize=n,o.enabled&&this.watchWindowErrors(i),o.promise&&this.watchPromiseErrors(i)};m.prototype={watchPromiseErrors:function(e){var t=this;e.addEventListener?e.addEventListener("unhandledrejection",function(e){try{e=e||{};var i=e.detail?f.tryGet(e.detail,"reason"):f.tryGet(e,"reason");if(i!==n&&null!==i&&!i.__trackjs_state__){if(!f.isError(i))try{throw Error(t.serialize(i))}catch(o){i=o}t.onError("promise",i)}}catch(o){t.onFault(o)}}):f.patch(e,"onunhandledrejection",function(e){return function(n){t.onError("promise",n),e.apply(this,arguments)}})},watchWindowErrors:function(e){var t=this;f.patch(e,"onerror",function(e){return function(n,i,o,r,a){try{if(f.isError(a))return t.onError("window",a),void e.apply(this,arguments);a=a||{};var s={message:a.message||t.serialize(n),name:a.name||"Error",line:a.line||parseInt(o,10)||null,column:a.column||parseInt(r,10)||null,stack:a.stack||null};"[object Event]"!==Object.prototype.toString.call(n)||i?s.file=a.file||t.serialize(i):s.file=(n.target||{}).src,t.onError("window",s)}catch(c){t.onFault(c)}e.apply(this,arguments)}})}};var v=function(){this.hasInstalled=!1,this.hasEnabled=!0,this.window=e,this.document=t,this.util=f,this.install=f.bind(this.install,this),this.onError=f.bind(this.onError,this),this.onFault=f.bind(this.onFault,this),this.serialize=f.bind(this.serialize,this),this.log=new c(f),this.metadata=new l(this.serialize);var n=e&&(e._trackJs||e._trackJS||e._trackjs);n&&this.install(n)};return v.prototype={install:function(e){try{if(f.isNode)return this.warn("monitoring disabled in node"),!1;if(!f.has(e,"token"))return this.warn("missing token"),!1;if(this.hasInstalled)return this.warn("already installed"),!1;if(this.config=new o(e),this.transmitter=new g(this.util,this.config),this.environment=new s(this.config),this.customer=new a(this.config,this.util,this.log,this.window,this.document),!this.config.current.enabled)return this.hasEnabled=!1;if(this.windowConsoleWatcher=new r(this.util,this.log,this.onError,this.onFault,this.serialize,this.window,this.config.current.console),!this.util.isBrowserSupported())return!1;this.callbackWatcher=new i(this.config.current.callback,this.onError,this.onFault),this.visitorWatcher=new p(this.util,this.log,this.onError,this.onFault,this.document,this.config.current.visitor),this.navigationWatcher=new u(this.log,this.config.current.navigation),this.networkWatcher=new d(this.util,this.log,this.onError,this.onFault,this.window,this.config.current.network),this.windowWatcher=new m(this.onError,this.onFault,this.serialize,this.window,this.config.current.window);var t=this;return f.afterDocumentLoad(function(){t.transmitter.sendUsage({token:t.customer.token,correlationId:t.customer.correlationId,application:t.config.current.application,x:t.util.uuid()})}),this.hasInstalled=!0}catch(n){return this.onFault(n),!1}},pub:function(){var e=this,t={addMetadata:this.metadata.addMetadata,attempt:function(t,n){try{var i=Array.prototype.slice.call(arguments,2);return t.apply(n||this,i)}catch(o){throw e.onError("catch",o),f.wrapError(o)}},configure:function(t){return!e.hasInstalled&&e.hasEnabled?(e.warn("agent must be installed"),!1):e.config.setCurrent(t)},hash:"fb090f9249a14e8440f317f57bd82ec8d6ea32a4",isInstalled:function(){return e.hasInstalled},install:this.install,removeMetadata:this.metadata.removeMetadata,track:function(t){if(!e.hasInstalled&&e.hasEnabled)e.warn("agent must be installed");else{var n=f.isError(t)?t.message:e.serialize(t);if(t=t||{},!t.stack)try{throw Error(n)}catch(i){t=i}e.onError("direct",t)}},version:"3.10.1",watch:function(t,n){return function(){try{var i=Array.prototype.slice.call(arguments,0);return t.apply(n||this,i)}catch(o){throw e.onError("catch",o),f.wrapError(o)}}},watchAll:function(e){var t,n=Array.prototype.slice.call(arguments,1);for(t in e)"function"!=typeof e[t]||f.contains(n,t)||(e[t]=this.watch(e[t],e));return e}};return new r(f,e.log,e.onError,e.onFault,e.serialize,t,o.prototype.defaults.console),t},onError:function(){var t,n=!1;return function(i,o,r){if(this.hasInstalled&&this.hasEnabled&&f.isBrowserSupported())try{if(r=r||{bindStack:null,bindTime:null,force:!1},o&&f.isError(o)||(o={name:"Error",message:this.serialize(o,r.force)}),-1===o.message.indexOf("TrackJS Caught"))if(n&&-1!==o.message.indexOf("Script error"))n=!1;else{var a=f.defaultsDeep({},{agentPlatform:f.isBrowser?"browser":"worker",bindStack:r.bindStack,bindTime:r.bindTime,column:o.column||o.columnNumber,console:this.windowConsoleWatcher.report(),customer:this.customer.report(),entry:i,environment:this.environment.report(),file:o.file||o.fileName,line:o.line||o.lineNumber,message:o.message,metadata:this.metadata.report(),nav:this.navigationWatcher.report(),network:this.networkWatcher.report(),url:(e.location||"").toString(),stack:o.stack,timestamp:this.util.isoNow(),visitor:this.visitorWatcher.report(),version:"3.10.1"});if(!r.force)try{if(!this.config.current.onError(a,o))return}catch(s){a.console.push({timestamp:this.util.isoNow(),severity:"error",message:s.message});var c=this;setTimeout(function(){c.onError("catch",s,{force:!0})},0)}if(this.config.current.dedupe){var l=(a.message+a.stack).substr(0,1e4);if(l===t)return;t=l}!function(){function e(){var e=0;return f.forEach(a.console,function(t){e+=(t.message||"").length}),8e4<=e}for(var t=0;e()&&t<a.console.length;)a.console[t].message=f.truncate(a.console[t].message,1e3),t++}(),this.log.clear(),setTimeout(function(){n=!1}),n=!0,this.transmitter.sendError(a,this.customer.token)}}catch(s){this.onFault(s)}}}(),onFault:function(e){var t=this.transmitter||new g;e=e||{},e={token:(this.customer||{}).token,file:e.file||e.fileName,msg:e.message||"unknown",stack:(e.stack||"unknown").substr(0,1e3),url:this.window.location,v:"3.10.1",h:"fb090f9249a14e8440f317f57bd82ec8d6ea32a4",x:this.util.uuid()},t.sendTrackerFault(e)},serialize:function(e,t){if(this.hasInstalled&&this.config.current.serialize&&!t)try{return this.config.current.serialize(e)}catch(n){this.onError("catch",n,{force:!0})}return o.prototype.defaults.serialize(e)},warn:function(t){f.has(e,"console.warn")&&e.console.warn("TrackJS: "+t)}},(new v).pub()}("undefined"==typeof self?void 0:self,"undefined"==typeof document?void 0:document),window.tangibleeAnalytics=window.tangibleeAnalytics||function(){(window.tangibleeAnalytics.q=window.tangibleeAnalytics.q||[]).push(arguments)};var e={hideThumb:!1,domain:"",activeLocale:document.documentElement.lang,useAnalyticsCookies:!0,useCookies:!0,doNotTrack:!1,trackingId:"",container:".tangiblee-modal-iframe-container",sideView:null,xlView:!1,xlModal:!1,setLayoutUx4:!1,preloaderDesign:"",spinnerColor:"",mobileToDesktopLayoutWidthThreshold:769,widgetVersion:"v3",showCTA:function(e,t){},hideCTA:function(){},SKUs:[],activeSKU:"",prevOpenedSKU:"",activePrice:"",activeSalePrice:"",activeCurrency:"",activeATC:"",qrCodeState:{image:"",show:!1,title:"",clickable:!0},analyticsPluginsIsSet:!1,isEmbed:!1,onCTAShown:function(){},onCtaClicked:function(){},onModalOpened:function(){},onStackOpened:function(){},onStackClosed:function(){},onCloseButtonClicked:function(){},onWidgetSwipedLeft:function(){},onWidgetSwipedRight:function(){},onIframeLoaded:function(){},onUserInteracted:function(){},onModalClosed:!1,onKeepAlive:!1,onBeforeATCClickInWidget:function(){},onATCClickInWidget:function(){},onWidgedRendered:function(){},onIframeSrcChange:function(){},onCameraModeChange:function(){},onSKUsValidated:function(){},onProductUpdated:function(){},onNewItemStacked:function(){},onRequestItemsData:function(){},onProductVariationChanged:function(){},onBatchATCReceived:function(){},onGoogleAnalyticsIsReady:function(){},iframe:{},modal:{},updateSKU:{},utils:{},validateSKUs:{},setCtaClickHandler:function(){var t,n=document.getElementsByClassName(e.ctaCssClass);if(!n.length)return!1;for(var i=!1,o=function(t){return!i&&(e.onCtaClicked(t),void(i=setTimeout(function(){"onCTAClick"===e.loadIframe&&(e.iframe.exists()?e.iframe.update():e.iframe.inject());var n=function(t){return"BODY"===t.tagName||t.classList.contains(e.ctaCssClass)?t:n(t.parentNode)},o=n(t.target).getAttribute("data-tng-alt");e.modal.show(e.modal.isUsed(),o),clearTimeout(i),i=!1},50)))},r=0;r<n.length;r++)t=n[r],e.utils.bindClickAndTouch(t,o,e.preventDefaultOnCtaClick,e.stopPropagationOnCtaClick,!0)},updateCTAAttributes:function(){var t=document.querySelectorAll("."+e.ctaCssClass);if(1===t.length){var n=t[0],i=n.getAttribute("role"),o=n.getAttribute("aria-label"),r=n.getAttribute("tabindex");"button"!==n.tagName.toLowerCase()&&(i||n.setAttribute("role","button"),r||n.setAttribute("tabindex","0")),o||n.setAttribute("aria-label","tangiblee cta")}},ctaCssClass:"tangiblee-cta",validSKUs:[],activateResizeInject:!1,isContainedId:!1,getContainedId:function(){var t;return!!e.isContainedId&&(t=[].find.call(e.validSKUs,function(t){return t.indexOf(e.activeSKU)>-1}))},useMultiVariations:!1,globaleConfig:!1,variationSKUs:[],isWishlistValidated:!1,wishlistSKUs:[],historySKUs:[],isVisibleProduct:!0,isArActive:!1,setSelectorsDisplay:function(t,n){var i=[".tangiblee-outside",".tng-select-wrapper"];i.forEach(function(i){var o=document.querySelectorAll(i);o.length>0&&o.forEach(function(o){
(n||e.isArActive||t)&&(o.style.display="none"),n||e.isArActive||(o.style.display=".tangiblee-outside"===i?"flex":"block")})})},onLandscapeChange:function(t){e.setSelectorsDisplay(!1,t)},features:[],isARAvailable:!1,LockValidation:!1,QMEnabled:!1,product:{},products:[],thumbs:[],getFaceDiameter:!1,getFaceDiameterDimensions:!1,loadIframe:"onCTAClick",logOn:!1,translations:[],preventDefaultOnCtaClick:!0,stopPropagationOnCtaClick:!0,useClickEventInsteadMousedown:!1,usePDPHistory:!1,maxPDPHistoryItems:10,skipCategoryInPDPHistory:!1,availableModes:[],categoryThumbsDefault:{},customIframeSrcAttributes:[],disableMobileScrollTop:!1,getHistoryBack:!0,getThumb:function(t){var n=e.thumbs[t||e.product.id],i=n&&n.indexOf("tangiblee-thumb")>-1;return i?e.categoryThumbsDefault[e.product.category]||e.categoryThumbsDefault["default"]||n:n},skipFrameSrcUpdate:!1,historyPushStateObj:{},setActiveSKUAttribute:function(e){var t=document.querySelector('script[src*="tangiblee-bundle.min.js"]')||document.querySelector('script[src*="tangiblee-app-mapper.js"]');t&&t.setAttribute("sku",e)},shouldForceWidgetOpen:function(){var t="1"===e.utils.getParam("tangiblee-opened")||"true"===e.utils.getParam("tangiblee-opened");return t},onForceWidgetOpen:function(e){this.shouldForceWidgetOpen()&&e&&tangiblee("setCustomIframeSrcAttributes",[{key:"forceArOpen",value:"1"}])},onForceWidgetClose:function(e){this.shouldForceWidgetOpen()&&e&&tangiblee("setCustomIframeSrcAttributes",[{key:"forceArOpen",value:"0"}])},setTangibleeParams:function(t){if(e.tangibleeGA3TrackingId=t.trackingIds&&t.trackingIds[0],e.analyticsSettings=t.analyticsSettings,e.translations=t.translations,e.products=t.products,e.isVisibleProduct=t.hide!==!0,e.thumbs=e.utils.renamePropsToLowerCase(t.cta_urls),e.features=t.features,e.contextModeCtaUrls=e.utils.renamePropsToLowerCase(t.contextModeCtaUrls||{}),e.isARAvailable=e.utils.validateFeatureFlag("AR Mode",e.features),e.LockValidation=e.utils.validateFeatureFlag("LockValidation",e.features),e.isViewIn2DContextDisabled=e.utils.validateFeatureFlag("ViewIn2DContextDisabled",e.features),e.QMEnabled=e.utils.validateFeatureFlag("QM Enabled",e.features),e.setLayoutUx4=e.utils.validateFeatureFlag("UX4",e.features),e.xlModal=e.utils.validateFeatureFlag("XL Gallery",e.features)||"1"===e.utils.getParam("xtng_xl_on"),e.setLayoutUx4&&e.utils.validateFeatureFlag("UX4",e.features).mobileToDesktopLayoutWidthThreshold&&(e.mobileToDesktopLayoutWidthThreshold=e.utils.validateFeatureFlag("UX4",e.features).mobileToDesktopLayoutWidthThreshold,window.innerWidth<e.mobileToDesktopLayoutWidthThreshold&&!e.sideView&&(e.sideView="right")),e.utils.validateFeatureFlag("Preloader Design",e.features)&&(e.preloaderDesign=e.utils.validateFeatureFlag("Preloader Design",e.features).design,e.spinnerColor=e.utils.validateFeatureFlag("Preloader Design",e.features).color,"loader3"===e.preloaderDesign&&t.logo)){var n=t.logo.slice(t.logo.lastIndexOf(".")+1);n&&(e.preloaderDesign="loader3="+n)}window.tangibleeAnalytics("setCurrentServerTime",t.currentTime)},trackHistory:function(){if(e.usePDPHistory&&e.validSKUs.indexOf(e.activeSKU)>-1){var t="TNG_PDP_HISTORY",n=e.utils.getFromLS(t);n||(n={});var i=e.products[e.activeSKU],o=e.skipCategoryInPDPHistory?0:i.parentCategoryId||i.categoryId;n[o]||(n[o]=[]);var r=[];r.push(e.activeSKU);for(var a=0;a<n[o].length&&!(r.length>=e.maxPDPHistoryItems);a++)n[o][a]!==e.activeSKU&&r.push(n[o][a]);e.historySKUs=r,n[o]=r,e.utils.saveToLS(t,n)}},trackJSInstalled:!1};!function(){e.promise="undefined"==typeof Promise?function(){"use strict";function e(e,t){g.add(e,t),d||(d=p(g.drain))}function t(e){var t,n=typeof e;return null==e||"object"!=n&&"function"!=n||(t=e.then),"function"==typeof t&&t}function n(){for(var e=0;e<this.chain.length;e++)i(this,1===this.state?this.chain[e].success:this.chain[e].failure,this.chain[e]);this.chain.length=0}function i(e,n,i){var o,r;try{n===!1?i.reject(e.msg):(o=n===!0?e.msg:n.call(void 0,e.msg),o===i.promise?i.reject(TypeError("Promise-chain cycle")):(r=t(o))?r.call(o,i.resolve,i.reject):i.resolve(o))}catch(a){i.reject(a)}}function o(i){var a,c=this;if(!c.triggered){c.triggered=!0,c.def&&(c=c.def);try{(a=t(i))?e(function(){var e=new s(c);try{a.call(i,function(){o.apply(e,arguments)},function(){r.apply(e,arguments)})}catch(t){r.call(e,t)}}):(c.msg=i,c.state=1,c.chain.length>0&&e(n,c))}catch(l){r.call(new s(c),l)}}}function r(t){var i=this;i.triggered||(i.triggered=!0,i.def&&(i=i.def),i.msg=t,i.state=2,i.chain.length>0&&e(n,i))}function a(e,t,n,i){for(var o=0;o<t.length;o++)!function(o){e.resolve(t[o]).then(function(e){n(o,e)},i)}(o)}function s(e){this.def=e,this.triggered=!1}function c(e){this.promise=e,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function l(t){if("function"!=typeof t)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var i=new c(this);this.then=function(t,o){var r={success:"function"!=typeof t||t,failure:"function"==typeof o&&o};return r.promise=new this.constructor(function(e,t){if("function"!=typeof e||"function"!=typeof t)throw TypeError("Not a function");r.resolve=e,r.reject=t}),i.chain.push(r),0!==i.state&&e(n,i),r.promise},this["catch"]=function(e){return this.then(void 0,e)};try{t.call(void 0,function(e){o.call(i,e)},function(e){r.call(i,e)})}catch(a){r.call(i,a)}}var u,d,g,f=Object.prototype.toString,p="undefined"!=typeof setImmediate?function(e){return setImmediate(e)}:setTimeout;try{Object.defineProperty({},"x",{}),u=function(e,t,n,i){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:i!==!1})}}catch(m){u=function(e,t,n){return e[t]=n,e}}g=function(){function e(e,t){this.fn=e,this.self=t,this.next=void 0}var t,n,i;return{add:function(o,r){i=new e(o,r),n?n.next=i:t=i,n=i,i=void 0},drain:function(){var e=t;for(t=n=d=void 0;e;)e.fn.call(e.self),e=e.next}}}();var v=u({},"constructor",l,!1);return l.prototype=v,u(v,"__NPO__",0,!1),u(l,"resolve",function(e){var t=this;return e&&"object"==typeof e&&1===e.__NPO__?e:new t(function(t,n){if("function"!=typeof t||"function"!=typeof n)throw TypeError("Not a function");t(e)})}),u(l,"reject",function(e){return new this(function(t,n){if("function"!=typeof t||"function"!=typeof n)throw TypeError("Not a function");n(e)})}),u(l,"all",function(e){var t=this;return"[object Array]"!=f.call(e)?t.reject(TypeError("Not an array")):0===e.length?t.resolve([]):new t(function(n,i){if("function"!=typeof n||"function"!=typeof i)throw TypeError("Not a function");var o=e.length,r=Array(o),s=0;a(t,e,function(e,t){r[e]=t,++s===o&&n(r)},i)})}),u(l,"race",function(e){var t=this;return"[object Array]"!=f.call(e)?t.reject(TypeError("Not an array")):new t(function(n,i){if("function"!=typeof n||"function"!=typeof i)throw TypeError("Not a function");a(t,e,function(e,t){n(t)},i)})}),l}():Promise}();var t=function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)||navigator.userAgent.match(/Mac/)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2},n=function(){return window.navigator.userAgent.indexOf("CriOS")>=0},i=function(){return window.navigator.userAgent.indexOf("Safari")>-1&&window.navigator.userAgent.indexOf("Chrome")<=-1};e.utils.isItiOS=t()&&!window.MSStream,e.utils.isItChromeIOS=n(),e.utils.isItSafariDesktop=i(),e.utils.isItMobileOrTablet=function(){var e=navigator.userAgent;return e.match(/Android/i)||e.match(/BlackBerry/i)||e.match(/Opera Mini/i)||e.match(/IEMobile/i)||t()},e.utils.fireEvent=function(e,t){if(!e)return!1;var n;if(e.ownerDocument)n=e.ownerDocument;else{if(9!==e.nodeType)throw new Error("Invalid node passed to fireEvent: "+e.id);n=e}if(e.dispatchEvent){var i="";switch(t){case"click":case"mousedown":case"mouseup":i="MouseEvents";break;case"focus":case"change":case"blur":case"select":i="HTMLEvents";break;default:throw"fireEvent: Couldn't find an event class for event '"+t+"'."}var o=n.createEvent(i);o.initEvent(t,!0,!0),o.synthetic=!0,e.dispatchEvent(o,!0)}},e.utils.bindClickAndTouch=function(t,n,i,o,r){function a(e){var i=t.getAttribute("data-last-event-handled");if(!i||"touch"===i){var o=f-d,r=p-g;Math.abs(o)<u&&Math.abs(r)<u&&n(e),t.setAttribute("data-last-event-handled","touch"),setTimeout(function(){t.setAttribute("data-last-event-handled","")},50)}}if(!t||t.getAttribute("data-click-and-touch-bound"))return!1;if(e.useClickEventInsteadMousedown)t.addEventListener("click",function(e){i&&e.preventDefault(),o&&e.stopPropagation();var a=t.getAttribute("data-last-event-handled");a&&"click"!==a&&"keydown"!==a||(r?n(e,!0):n(e),t.setAttribute("data-last-event-handled","click"))});else{var s,c=50;t.addEventListener("mousedown",function(e){s=e.clientX}),t.addEventListener("mouseup",function(e){var a=e.clientX;i&&e.preventDefault(),o&&e.stopPropagation();var l=t.getAttribute("data-last-event-handled");if(!l||"click"===l||"keydown"===l){var u=!0;e.button&&0!==e.button&&(u=!1),u&&Math.abs(a-s)<c&&(r?n(e,!0):n(e),t.setAttribute("data-last-event-handled","click"),setTimeout(function(){t.setAttribute("data-last-event-handled","")},50))}})}var l=window.innerWidth||document.body.clientWidth,u=Math.max(1,Math.floor(.01*l)),d=0,g=0,f=0,p=0,m=!1,v=function(){if(!m)try{var e=Object.defineProperty({},"passive",{get:function(){return m=!0,v}});window.addEventListener("test",null,e)}catch(t){}return!!m&&{passive:!1}};t.addEventListener("touchstart",function(e){d=e.changedTouches[0].screenX,g=e.changedTouches[0].screenY},v()),t.addEventListener("touchend",function(e){i&&e.cancelable&&e.preventDefault(),o&&e.stopPropagation(),f=e.changedTouches[0].screenX,p=e.changedTouches[0].screenY,a(e)}),r&&t.addEventListener("keydown",function(e){var r=e.code||e.key;"Enter"!==r&&"NumpadEnter"!==r&&"Space"!==r||(i&&e.preventDefault(),o&&e.stopPropagation(),n(e,!0),t.setAttribute("data-last-event-handled","keydown"),setTimeout(function(){t.setAttribute("data-last-event-handled","")},50))}),t.setAttribute("data-click-and-touch-bound","true")},e.utils.http={fetch:function(t,n,i){return new e.promise(function(e,o){try{var r=new XMLHttpRequest;r.open(n,t,!0),r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.setRequestHeader("Content-Type","application/json");var a=function(){r.readyState>3&&r.status>=200&&r.status<400&&e(r.responseText.length&&JSON.parse(r.responseText))};r.onreadystatechange=a,r.onerror=function(){o(r.statusText)},r.send(i),r.onreadystatechange!==a&&(r.onreadystatechange=a)}catch(s){o()}})},get:function(t){return new e.promise(function(e,n){try{var i=new XMLHttpRequest;i.open("GET",t,!0),i.setRequestHeader("Content-Type","application/json");var o=function(){i.readyState>3&&i.status>=200&&i.status<400&&e(i.responseText.length&&JSON.parse(i.responseText))};i.onreadystatechange=o,i.onerror=function(){n(i.statusText)},i.send(),i.onreadystatechange!==o&&(i.onreadystatechange=o)}catch(r){n()}})},post:function(t,n,i){return new e.promise(function(e,o){try{var r=new XMLHttpRequest;r.open("POST",t,!0),i&&r.setRequestHeader("Content-type",i);var a=function(){r.readyState>3&&r.status>=200&&r.status<400&&e(r.responseText)};r.onreadystatechange=a,r.onerror=function(){o(r.statusText)},r.send(n),r.onreadystatechange!==a&&(r.onreadystatechange=a)}catch(s){o()}})},jsonp:function(t){return new e.promise(function(e,n){try{window.tangibleeCallbackRegistry={};var i=function(e,t,n){function i(){o||(delete tangibleeCallbackRegistry[r],n(e))}var o=!1,r="cb"+String(Math.random()).slice(-6);e+=~e.indexOf("?")?"&":"?",e+="callback=tangibleeCallbackRegistry."+r,tangibleeCallbackRegistry[r]=function(e){o=!0,delete tangibleeCallbackRegistry[r],t(e)};var a=document.createElement("script");a.onreadystatechange=function(){"complete"!==this.readyState&&"loaded"!==this.readyState||(this.onreadystatechange=null,setTimeout(i,0))},a.onload=i,a.onerror=i,a.src=e,document.head.appendChild(a)},o=function(t){e(t)};i(t,o,a)}catch(r){var a=function(e){n("error request: "+e)}}})}},e.utils.isElementVisible=function(e){return e&&(null!==e.offsetParent||"fixed"===window.getComputedStyle(e).position)},e.utils.log=function(t){e.logOn&&console.log(t)},e.utils.createCustomEvent=function(e,t){if("function"==typeof window.CustomEvent)var n=new CustomEvent(e,{detail:t});else{var n=document.createEvent("CustomEvent");n.initCustomEvent(e,!0,!0,t)}document.dispatchEvent(n)},e.utils.waitForConditionToMet=function(e,t){t=t||500;var n,i=0,o=function(){};return{then:function(r){return function a(){var s=!1;try{s=e()}catch(c){}s?(r(),"undefined"!=typeof n&&clearTimeout(n)):i++>t?(o(),"undefined"!=typeof n&&clearTimeout(n)):n=setTimeout(a,100)}(),{fail:function(e){o=e}}}}},e.utils.formatNumberWithCommas=function(e){var t,n,i=function(e){var t=/.*\d+.*/g;return t.test(e)};if(i(e))try{e=e.replace(/,/g,""),t=parseFloat(e).toFixed(2);var o=t.toString().split(".");o[0]=o[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),n=o.join(".")}catch(r){}return n},e.utils.ready=function(e){"loading"!=document.readyState?e():document.addEventListener("DOMContentLoaded",e)},e.utils.getParam=function(e){var t=function(){for(var e,t,n,i={},o=window.location.search.substring(1).split("&"),r=0;r<o.length;r++)e=o[r],t=e.split("="),n={key:t[0],value:t[1]},n.key&&(i[n.key]=n.value||"");return i},n=t();return!!n[e]&&decodeURI(n[e])},e.utils.getCookie=function(e){var t,n,i=e+"=",o=document.cookie.split(";");for(t=0;t<o.length;t++){for(n=o[t];" "===n.charAt(0);)n=n.substring(1);if(0===n.indexOf(i))return n.substring(i.length,n.length)}return""},e.utils.setCookie=function(e,t,n){var i=new Date;i.setTime(i.getTime()+24*(n||365)*60*60*1e3);var o="expires="+i.toUTCString();document.cookie=e+"="+t+";"+o+";path=/; Secure;"},e.utils.saveToLS=function(e,t){try{var n=t;"object"==typeof t&&(n=JSON.stringify(n)),window.localStorage.setItem(e,n)}catch(i){}},e.utils.getFromLS=function(e){try{var t=window.localStorage.getItem(e);t=JSON.parse(t)}catch(n){}return t},e.utils.hasClickedTargetSpecificClassName=function(e,t,n){if(e&&e.target&&t){n&&"string"==typeof n&&n.length||(n="body");for(var i,o=e.target,r=document.querySelector(n),a=document.querySelector("body");o&&!(i=o.classList.contains(t)?o:null)&&(o=o.parentNode,!o.isEqualNode(r)&&!o.isEqualNode(a)););return i}};var o=function(e){var t=/OS (\d+_\d+)/;if(t.test(e))return parseFloat(t.exec(e)[1].replace("_","."));var n=13;return n};e.utils.iosVersion=o,e.utils.browserNotSupportAR=function(){var t=e.utils.isItiOS&&/Version\/[\d.]+.*Safari/i.test(window.navigator.userAgent),n=e.utils.isItiOS&&o(window.navigator.userAgent)>=14.3;return e.utils.isItiOS&&!n&&!t};var r=function(){return(navigator.userAgent.indexOf("Opera")||navigator.userAgent.indexOf("OPR"))!==-1?"opera":navigator.userAgent.indexOf("Chrome")!==-1?"chrome":navigator.userAgent.indexOf("Safari")!==-1?"safari":navigator.userAgent.indexOf("Firefox")!==-1?"firefox":navigator.userAgent.indexOf("MSIE")!==-1||!!document.documentMode==!0?"ie":null},a=function(t){return!t||(!(!e.utils.isItMobileOrTablet()||!t.mobile)||!(e.utils.isItMobileOrTablet()||!t.desktop))},c=function(e){if(!e)return!0;var t=r();return!t||(!(t in e)||(e[t]||!1))};e.utils.validateFeatureFlag=function(e,t){if(e in t){var n=t[e];if(null===n)return!0;try{var i=JSON.parse(n);return!!a(i.device)&&(!!c(i.browser)&&(i.data||!0))}catch(o){return!1}}return!1},e.utils.getPoweredByHref=function(){var t=(e.product.poweredbylink||"https://www.tangiblee.com/powered-by/tangiblee")+"?utm_campaign=PoweredBy&utm_source="+e.domain+"&utm_medium=app";return t},e.utils.renamePropsToLowerCase=function(e){for(var t,n=Object.keys(e),i=n.length,o={};i--;)t=n[i],o[t.toLowerCase()]=e[t];return o},e.utils.getWidgetUrlByPdpParam=function(){var t={prod:"widget",staging:"widget-staging",dev:"widget-dev",local:"https://localhost:3000/index.html"},n="https://cdn.tangiblee.com/$slot/index.html",i=e.utils.getParam("tng_w");if(i){if("local"===i)return t[i];if(!t[i])return n.replace("$slot","widget-poc/"+i);var o=n.replace("$slot",t[i]);return o}return null},e.validateSKUs=function(){if(e.SKUs.then)return e.SKUs.then(function(t){return e.validateSKUs(t)});if(e.SKUs.length&&e.SKUs[0]&&"string"==typeof e.SKUs[0]){var t="https://api.tangiblee.com/api/tngimpr?ids="+e.SKUs.join()+"&domain="+e.domain+"&activeLocale="+e.activeLocale+"&isContainedId="+(e.isContainedId?"true":"false");return e.utils.http.fetch(t,"GET")}return new e.promise(function(e,t){t({message:"Not correct SKUs format in _tangiblee.validateSKUs method"})})},e.validateAny=function(){if(e.SKUs.then)return e.SKUs.then(function(t){return e.validateAny(t)});if(e.SKUs.length&&e.SKUs[0]&&"string"==typeof e.SKUs[0]){var t="https://api.tangiblee.com/api/productvalidateany?ids="+e.SKUs.join()+"&domain="+e.domain;return e.utils.http.fetch(t,"GET")}return new e.promise(function(e,t){t({message:"Not correct SKUs format in _tangiblee.validateAny method"})})},e.validateSelectedSKUs=function(t){if(t&&t[0]&&"string"==typeof t[0]){var n="https://api.tangiblee.com/api/tngimpr?ids="+t.join()+"&domain="+e.domain+"&activeLocale="+e.activeLocale;return e.utils.http.fetch(n,"GET")}return new e.promise(function(e,t){t({message:"Not correct SKUs format in _tangiblee.validateSelectedSKUs method"})})},e.updateSku=function(){if(e.validSKUs.length){e.setActiveSKUAttribute(e.activeSKU);var t=e.product?e.product.id:null;if(e.product=e.products[e.activeSKU],window.tangibleeAnalytics("setProduct",e.product),t===e.activeSKU)return;if(e.validSKUs.indexOf(e.activeSKU)>-1){var n=e.showCTA(e.activeSKU,e.getThumb());n&&n.then?n.then(function(t){e.ctaCssClass=t,e.setCtaClickHandler()}):(e.ctaCssClass=n,e.setCtaClickHandler()),e.trackHistory(),window.tangibleeAnalytics("trackImpression",[e.activeSKU]),e.iframe.exists()&&e.iframe.update()}else e.hideCTA(e.activeSKU),e.modal.close(e.modal.isUsed())}},function(){function t(e){e.preventDefault()}function n(){document.documentElement.style.setProperty("--window-inner-height",window.innerHeight+"px")}var i=function(){var t=function(){var t=window.screen.width,n=window.screen.height,i=window.devicePixelRatio;if(window.innerHeight>window.innerWidth&&e.utils.isItiOS&&i>=2){if(375===t&&667===n)return 547;if(414===t&&736===n)return 618;if(375===t&&812===n)return 629;if(414===t&&896===n)return 714;if(390===t&&844===n)return 658;if(320===t&&568===n)return 448;if(428===t&&926===n)return 740;if(768===t&&1024===n)return 950}return!1};return"v2"===e.widgetVersion?Math.round(.92*window.innerHeight):t()!==!1?t():null!==e.sideView?window.innerHeight:window.innerHeight-10},o=function(){var t;return t=window.innerWidth<1024&&e.utils.isItiOS||null!==e.sideView?window.innerWidth:window.innerWidth-10,"v2"===e.widgetVersion&&(t=window.innerWidth-10),t},r=function(){var t=document.getElementsByClassName("tangiblee-modal-content")[0];t.style.width=o()+"px",t.style.height=i()+"px",e.utils.isItiOS&&e.utils.iosVersion(navigator.userAgent)>=15&&!e.utils.isItChromeIOS&&(t.style.height="calc(100% - 5px)"),(null!==e.sideView||e.setLayoutUx4)&&(t.style.width="100%")},a=function(){var t=document.getElementsByClassName("tangiblee-modal-content")[0];if("v2"===e.widgetVersion)return t.style.width="800px",void(t.style.height="610px");if(e.xlModal){var n=function(){var e,t=1.78,n=window.innerWidth,i=window.innerHeight;if(e=n>=2560?{width:1574,height:885}:n>=950&&n<=1023?{width:889,height:500}:n>=1483&&n<=2559?{width:1422,height:800}:n>=850&&n<=949||n>=1024&&n<=1482?{width:n-60,height:Math.round((n-60)/t)}:n>=1024&&n<=1482||n>=783&&n<=849?{width:n,height:Math.round(n/t)}:{width:n,height:i},e.height+30>=i){var o=e.height-i,r=Math.round(e.height-o-30),a=Math.round(r*t);e={width:a,height:r}}return e};return t.style.width="100%",t.style.height="100%",t.style.maxWidth=n().width+"px",void(t.style.maxHeight=n().height+"px")}if(e.xlView){var i=1.46,o=878,r=window.innerWidth<o?Math.min(window.innerHeight,window.innerWidth/i)+"px":"601px";return t.style.width="100%",t.style.height="100%",t.style.maxWidth=o+"px",void(t.style.maxHeight=r)}if(null!==e.sideView)return t.style.width="100%",t.style.maxWidth=window.innerHeight>1080&&window.innerWidth>1920?"1000px":"600px",void(t.style.height="100%");if(e.setLayoutUx4){var a=[{width:e.mobileToDesktopLayoutWidthThreshold,height:610},{width:630,height:800}],n=function(){for(var e=300,t=a[0],n=1;n<a.length;n++)window.innerHeight>t.height+e&&a[n].height>t.height&&(t=a[n]);return t};if(t.style.width="100%",t.style.maxWidth=n().width+"px",t.style.height="100%",t.style.maxHeight=n().height+"px",t.style.aspectRatio="auto",window.innerHeight>730&&window.innerHeight<910&&window.innerWidth>770){var s=Math.round(window.innerHeight-30);t.style.maxHeight=s+"px",t.style.maxWidth=Math.round(.78*s)+"px"}}else{var c=e.utils.isItMobileOrTablet(),l=c?768:980,u=c?900:610;t.style.width=Math.min(window.innerWidth-120,l)+"px",t.style.height=Math.min(window.innerHeight-120,u)+"px"}},s=function(){if(!e.setLayoutUx4){var t=document.getElementsByClassName("tangiblee-modal-content")[0],n=document.createElement("a"),i=document.createElement("div");n.id="tng-btn-close-modal",n.href="javascript:void(0)",n.rel="modal:tng-close",n.className="tng-close-modal",n.title="Close Tangiblee Popup",n.style.position=i.style.position="absolute",n.style.display="block",n.style.zIndex="2",n.style.cursor="pointer",n.setAttribute("tabindex","-1"),"v2"===e.widgetVersion?(n.style.backgroundImage="url(//cdn.tangiblee.com/tangiblee-static/shared/lib/jquery.modal/tng_close@2x.png)",n.style.backgroundSize="18px 18px",n.style.backgroundPosition="center center",n.style.backgroundColor="#f9f9f9",n.style.backgroundRepeat="no-repeat",n.style.top=i.style.top="5px",n.style.right=i.style.right="5px",n.style.width=i.style.width="32px",n.style.height=i.style.height="32px"):(n.style.backgroundImage="url(https://cdn.tangiblee.com/tangiblee-static-img/close-mobile.svg)",n.style.backgroundSize="18px 18px",n.style.backgroundColor="rgba(0,0,0,0.05)",n.style.backgroundPosition="8px 8px",n.style.backgroundRepeat="no-repeat",n.style.top=i.style.top="0",n.style.right=i.style.right="0",n.style.width=i.style.width="40px",n.style.height=i.style.height="35px",null!==e.sideView&&(n.style.right=i.style.right="0px",n.style.top=i.style.top="0px")),i.id="tng-btn-close-modal__focusable",i.setAttribute("role","button"),i.setAttribute("tabindex","0"),t.appendChild(i),t.appendChild(n)}},c=function(){if(!e.setLayoutUx4){var t=document.getElementsByClassName("tangiblee-modal-content")[0],n=document.createElement("a"),i=document.createElement("div");n.id="tng-btn-close-modal",n.href="javascript:void(0)",n.rel="modal:tng-close",n.className="tng-close-modal",n.title="Close Tangiblee Popup",n.style.backgroundImage="url(https://cdn.tangiblee.com/tangiblee-static-img/close-x.svg)",n.style.backgroundSize="26px 28px",n.style.backgroundRepeat="no-repeat",n.style.position=i.style.position="absolute",n.style.top=i.style.top="0px",n.style.right=i.style.right="-42px",n.style.display=i.style.display="block",n.style.width=i.style.width="26px",n.style.height=i.style.height="28px",n.style.zIndex="2",n.setAttribute("tabindex","-1"),n.setAttribute("aria-hidden","true"),i.id="tng-btn-close-modal__focusable",i.setAttribute("role","button"),i.setAttribute("tabindex","0"),i.setAttribute("aria-label","Close Tangiblee modal"),null!==e.sideView&&(n.style.right=i.style.right="5px",n.style.top=i.style.top="5px"),t.appendChild(i),t.appendChild(n)}},l=function(){if(!e.setLayoutUx4){var t=document.createElement("div"),n=document.createElement("a");t.style.backgroundSize="contain",t.style.backgroundRepeat="no-repeat",t.style.width=n.style.width="155px",t.style.height=n.style.height="35px",n.id="tng-logo__focusable",n.style.position="absolute",n.style.top="0",n.style.left="0",n.style.zIndex="-1",n.setAttribute("role","button"),n.setAttribute("tabindex","0"),n.setAttribute("rel","nofollow"),n.setAttribute("aria-label","Powered By Tangiblee");var i=document.createElement("a");i.id="tng-logo-wrapper",i.href=n.href=e.utils.getPoweredByHref(),i.rel=n.rel="nofollow noopener",i.target=n.target="_blank",i.style.display="flex",i.style.alignItems="center",i.style.width="155px",i.style.position="relative",i.setAttribute("tabindex","-1"),i.setAttribute("rel","nofollow"),null!==e.sideView&&(i.style.position="absolute",i.style.left="0px",i.style.top="0px"),"v2"===e.widgetVersion?(t.style.backgroundImage='url("//cdn.tangiblee.com/tangiblee-static-img/powered-by-full-logo-horizontal.svg")',i.style.position="absolute",i.style.bottom="12px",i.style.left="2px",i.style.zIndex="10"):t.style.backgroundImage='url("//cdn.tangiblee.com/tangiblee-static-img/powered-by-full-logo-horizontal-inverted.svg")',i.appendChild(n),i.appendChild(t),document.getElementsByClassName("tangiblee-modal-content")[0].appendChild(i)}},u=function(){if(!e.setLayoutUx4&&"v3"===e.widgetVersion){var t=document.createElement("a"),n=document.createElement("a");t.style.backgroundImage='url("//cdn.tangiblee.com/tangiblee-static-img/powered-by-full-logo-horizontal-inverted.svg")',t.style.backgroundSize="contain",t.style.backgroundRepeat="no-repeat",t.style.backgroundPosition="center",t.style.display="inline-block",t.rel=n.rel="nofollow noopener",t.href=n.href=e.utils.getPoweredByHref(),t.target=n.target="_blank",t.style.width=n.style.width="150px",t.style.height=n.style.height="35px",t.id="tng-logo-link",t.setAttribute("tabindex","-1"),n.setAttribute("rel","nofollow"),n.id="tng-logo__focusable",n.style.position="absolute",n.style.top="0",n.style.left="50%",n.style.transform="translateX(-50%)",n.style.zIndex="-1",n.setAttribute("tabindex","0"),n.setAttribute("role","button"),n.setAttribute("rel","nofollow");var i=document.createElement("div");i.id="tng-logo-wrapper",i.style.display="flex",i.style.alignItems="center",i.style.justifyContent="center",i.style.position="relative",null!==e.sideView&&(i.style.position="absolute",i.style.top="0",i.style.right="0",i.style.width="100%",i.style.justifyContent="flex-start"),i.appendChild(n),i.appendChild(t);var o=document.getElementsByClassName("tangiblee-modal-iframe-container")[0];document.getElementsByClassName("tangiblee-modal-content")[0].insertBefore(i,o)}},d=function(){if(e.qrCodeState.clickable){var t={type:"open_qr"};e.iframe.messaging.postMessageToIframe(JSON.stringify(t)),e.qrCodeState.show=!1,g()}},g=function(){if(!e.xlModal&&e.setLayoutUx4&&e.qrCodeState.image){var t="tangiblee-qr-code",n="tangiblee-qr-code__qr",i="tangiblee-qr-code__title",o="tangiblee-qr-code__gif-container",r="tangiblee-qr-code__gif-container--active",a="tangiblee-qr-code__gif",s=document.querySelector("."+t),c=document.querySelector("."+n),l=document.querySelector("."+i),u=document.querySelector("."+o),g=document.querySelector("."+a);if(!s){s=document.createElement("div"),c=document.createElement("img"),l=document.createElement("div"),u=document.createElement("div"),g=document.createElement("img"),u.appendChild(g),s.appendChild(c),s.appendChild(l),s.appendChild(u);var f=document.getElementsByClassName("tangiblee-modal-content")[0];if(f){var p=function(t){return function(){g.src&&(t?(u.style.height="75px",u.classList.add(r)):e.qrCodeState.hideTimerGif||(u.style.height="0px",u.classList.remove(r)))}};f.appendChild(s),e.utils.bindClickAndTouch(s,d),s.addEventListener("mouseenter",p(!0)),s.addEventListener("mouseleave",p(!1))}}s.classList.add(t);var m="background:rgba(255, 255, 255, 0.64);position:absolute;z-index:10;padding:10px;transition:0.6s;border-radius:10px;text-align:center;font-size:12px;line-height:normal;font-weight:500;"+("right"===e.sideView?"top:10px;right:calc(100% + 10px);":"top:0;left:calc(100% + 10px);");s.setAttribute("style",m),s.style.opacity=e.qrCodeState.show?"1":"0",s.style.transform=e.qrCodeState.show?"translate(0%, 0%)":"translate(0px, -130%)",s.style.width=window.screen.width<840?"112px":"148px",c.classList.add(n),c.setAttribute("style","display:block;width:100%;margin: 0 0 10px 0;"),c.setAttribute("src",e.qrCodeState.image),l.classList.add(i),l.innerHTML=e.qrCodeState.title,g.setAttribute("style","display: inline-block;width: auto; height: 100%;"),g.classList.add(a),u.setAttribute("style","transition: 0.5s; overflow: hidden;"),u.classList.add(o),u.classList.contains(r)?u.style.height="75px":u.style.height="0px";var v=2,h=500,y=5e3,b=4900*v-h,w="https://cdn.tangiblee.com/tangiblee-static-img/qr-code-scan.gif",k=e.qrCodeState,C=function(e){return setTimeout(function(){u&&k.show&&(k.showTimerGif=null,g.setAttribute("src",w),u.style.height="75px",u.classList.add(r))},e)},S=function(e){return setTimeout(function(){u&&k.show&&(k.hideTimerGif=null,u.style.height="0px",u.classList.remove(r))},e)};k.show&&(g.src||(k.showTimerGif&&clearTimeout(k.showTimerGif),k.hideTimerGif&&clearTimeout(k.hideTimerGif),k.showTimerGif=C(y),k.hideTimerGif=S(y+b)))}},f=function(){if("v3"===e.widgetVersion){var t=document.getElementsByClassName("tangiblee-modal-content")[0],n=document.createElement("a");n.id="tng-first-focusable-el",n.href="javascript:void(0)",n.rel="nofollow",n.style.position="absolute",n.style.top=0,n.style.left=0,n.setAttribute("aria-hidden",!0),n.addEventListener("focusin",function(){var e=document.getElementById("tangiblee_iframe");e&&e.focus()});var i=t&&t.children[0];t.insertBefore(n,i)}},p=function(){if("v3"===e.widgetVersion){var t=document.getElementsByClassName("tangiblee-modal-content")[0],n=document.createElement("a");n.id="tng-last-focusable-el",n.href="javascript:void(0)",n.rel="nofollow",n.style.position="absolute",n.style.top=0,n.style.right=0,n.setAttribute("aria-hidden",!0),n.addEventListener("focusin",function(){var e=document.getElementById("tangiblee_iframe");e&&e.focus()}),t.appendChild(n)}},m=function(){document.getElementById("tng-btn-close-modal")&&document.getElementById("tng-btn-close-modal").remove(),document.getElementById("tng-btn-close-modal__focusable")&&document.getElementById("tng-btn-close-modal__focusable").remove(),document.getElementById("tng-logo-wrapper")&&document.getElementById("tng-logo-wrapper").remove(),document.getElementById("tng-logo__focusable")&&document.getElementById("tng-logo__focusable").remove(),document.getElementById("tng-first-focusable-el")&&document.getElementById("tng-first-focusable-el").remove(),document.getElementById("tng-last-focusable-el")&&document.getElementById("tng-last-focusable-el").remove(),document.getElementsByClassName("tangiblee-atc")[0]&&document.getElementsByClassName("tangiblee-atc")[0].remove()},v=function(t){var n=document.getElementsByClassName("tangiblee-modal-content")[0];if(n){window.innerWidth<e.mobileToDesktopLayoutWidthThreshold?(r(),f(),u(),s(),p(),g(),n.style.position="absolute",e.utils.isItiOS?(n.style.top="0px",n.style.left="0px"):(n.style.top="5px",n.style.left="5px"),"v2"===e.widgetVersion&&(n.style.top="5px",n.style.left="5px"),"right"===e.sideView&&(n.style.top="0","right"===e.sideView?n.style.right="0":n.style.left="0","right"===e.sideView?n.style.left="":n.style.right="")):(a(),f(),g(),l(),c(),p(),null!==e.sideView?(n.style.position="absolute",n.style.top="0","right"===e.sideView?(n.style.right="0",n.style.left=""):"left"===e.sideView&&(n.style.left="0",n.style.right="")):(n.style.position="relative",n.style.top="0",n.style.left="0"));var i=document.getElementById("tng-logo-wrapper");e.utils.bindClickAndTouch(i,function(){},!1,!0,!1);var o=document.getElementById("tng-btn-close-modal");e.utils.bindClickAndTouch(o,e.modal.close,!0,!0,!1);var d=document.getElementById("tng-logo__focusable");e.utils.bindClickAndTouch(d,function(){},!1,!0,!0);var m=document.getElementById("tng-btn-close-modal__focusable");e.utils.bindClickAndTouch(m,e.modal.close,!0,!0,!0)}},h=function(){var t=navigator.userAgent.match(/iPhone/i);if(t){var n=!1;window.addEventListener("orientationchange",function(){n||(n=setTimeout(function(){e.validSKUs.indexOf(e.activeSKU)>-1&&(m(),v(),e.showCTA(e.activeSKU,e.getThumb()),clearTimeout(n),n=!1)},250))})}else{var i=!1;window.addEventListener("resize",function(){i||(i=setTimeout(function(){e.validSKUs.indexOf(e.activeSKU)>-1&&(m(),v(),e.showCTA(e.activeSKU,e.getThumb()),clearTimeout(i),i=!1)},250));
})}},y=function(){v(!0),h()},b=function(){if("v2"===e.widgetVersion)return window.innerWidth<=768?"position: absolute; top: 5px; left: 5px; background:#fff;width:100%;height:100%;":"position: relative; background:#fff;width:100%;height:100%;";if(null!==e.sideView){var t="left"===e.sideView?"left: 0px; transform: translateX(-100%);":"right: 0px; transform: translateX(100%);";return"position: absolute; top: 0px; "+t+" transition: transform 0.4s; width:100%; height:"+(e.setLayoutUx4?i()+"px":"calc(100% - 35px);")}return e.setLayoutUx4?window.innerWidth<e.mobileToDesktopLayoutWidthThreshold?"position: absolute; top: 5px; left: 5px;width:100%;height: "+i()+"px;":"position: relative;width:100%;height:100%;":window.innerWidth<=768?"position: absolute; top: 5px; left: 5px;width:100%;height:calc(100% - 35px);":"position: relative;width:100%;height:calc(100% - 35px);"},w=function(){var t;return t="v2"===e.widgetVersion?"display: flex!important; justify-content: center; align-items: center; position: fixed; top: 0px; left: 0px; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.7); z-index: 2147483647; touch-action: none; transform: translate(-100%,-100%) translateZ(0); will-change: transform;":null!==e.sideView?"position: fixed; top: 0px; left: 0px; width: 100%; height: 100%; overflow: hidden; background-color: rgba(0, 0, 0, 0.7); z-index: 2147483647; touch-action: none; transform: translate(-100%,-100%) translateZ(0); will-change: transform;":"display: flex!important; justify-content: center; align-items: center; position: fixed; top: 0px; left: 0px; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.7); z-index: 2147483647; touch-action: none; transform: translate(-100%,-100%) translateZ(0); will-change: transform;"};e.modal.updateQr=function(){g()},e.modal.isUsed=function(){return".tangiblee-modal-iframe-container"===e.container},e.modal.inject=function(){var t,n=b(),i=w();"v2"===e.widgetVersion&&(t='<div class="tangiblee-modal-overlay tng-disable-scrolling" style="'+i+'"><div class="tangiblee-modal-content" style="'+n+'"><div class="tangiblee-modal-iframe-container" style="width:100%;height:calc(100%);"></div></div></div>'),t=null!==e.sideView?'<div class="tangiblee-modal-overlay tng-disable-scrolling" style="'+i+'"><div class="tangiblee-modal-content" style="'+n+'">'+(e.setLayoutUx4?"":'<div class="tangiblee-head" style="position: absolute;top: 0;left: 0;width: 100%; height: 38px; background: rgba(0,0,0,0.9);"></div>')+'<div class="tangiblee-modal-iframe-container" style="width:100%;height:100%;'+(e.setLayoutUx4?"":"padding-top:38px;")+'box-sizing: border-box;"></div></div></div>':'<div class="tangiblee-modal-overlay tng-disable-scrolling" style="'+i+'"><div class="tangiblee-modal-content" style="'+n+'">'+(e.utils.isItiOS&&window.innerWidth<=768?'<div class="tangiblee-modal-bg" style="background:white;position:absolute;top:35px;left:5px;width:calc(100% - 10px);z-index: -1;height:calc(100% - 35px);"></div>':"")+'<div class="tangiblee-modal-iframe-container" style="width:100%;height:'+(e.setLayoutUx4?"100%;":"calc(100% - 35px);")+'"></div></div></div>',document.head.insertAdjacentHTML("beforeend","<style>#tng-logo-wrapper:focus, #tng-btn-close-modal:focus {outline: none; box-shadow: none;} #tng-logo__focusable:focus, #tng-btn-close-modal__focusable:focus {outline: 2px solid #65d594;}"+(e.utils.isItiOS&&768===window.innerWidth?"@media (max-width: 770px) and (min-width: 767px) and (orientation: portrait) {.tangiblee-modal-content{height: calc(100% - 10px) !important;}}":"")+"</style>"),document.body.insertAdjacentHTML("beforeend",t);var o=document.getElementsByClassName("tangiblee-modal-overlay")[0];o&&(setTimeout(function(){e.utils.bindClickAndTouch(o,function(t){t.target===o&&e.modal.close(e.modal.isUsed())},!0,!0)},1e3),o.onkeydown=function(t){27==t.keyCode&&e.modal.close(e.modal.isUsed(),!0)},y())},e.openedProducts=[],e.isCurrentArRingMode=!1;var k=function(t){e.modal.close(e.modal.isUsed(),!1,!0)},C=e.utils.isItiOS&&e.utils.iosVersion(navigator.userAgent)>=15,S=function(){var e={};return{lock:function(t){if(t){e[t.tagName]={position:t.style.position,"box-sizing":t.style.boxSizing,height:t.style.height,overflow:t.style.overflow,width:t.style.width};var n=t.getAttribute("style");t.setAttribute("style",(n||"")+"position: absolute!important; box-sizing:border-box!important; height:calc(var(--window-inner-height) - 1px)!important; width: 100%!important; overflow: hidden!important;")}},unlock:function(t){if(t&&e[t.tagName]){for(var n=Object.keys(e[t.tagName]),i=0;i<n.length;i++)""!==n[i]?t.style.setProperty(n[i],e[t.tagName][n[i]]):t.style.removeProperty(n[i]);e[t.tagName]}}}}(),_=function(){var e=0,t="window";return{savePosition:function(){document.body.scrollTop?(e=document.body.scrollTop,t="body"):document.documentElement.scrollTop?(e=document.documentElement.scrollTop,t="documentElement"):isNaN(window.screenY)||(e=window.screenY,t="window")},scrollToPosition:function(){switch(t){case"body":document.body.scrollTop=e;break;case"documentElement":document.documentElement.scrollTop=e;break;case"window":window.scrollTo(0,e)}}}}(),I=function(){S.lock(document.getElementsByTagName("html")[0]),setTimeout(function(){S.lock(document.body)},1e3);var e=document.getElementsByClassName("tangiblee-modal-overlay")[0];e&&e.addEventListener("pointermove",t)},x=function(){S.unlock(document.getElementsByTagName("html")[0]),setTimeout(function(){S.unlock(document.body)},1e3);var e=document.getElementsByClassName("tangiblee-modal-overlay")[0];e&&e.removeEventListener("pointermove",t)};e.modal.show=function(t,i){C&&_.savePosition();var o=document.getElementsByClassName("tangiblee-modal-overlay")[0],r=document.querySelector(".tangiblee-modal-content");if(o||!e.modal.isUsed()){if(t)o.style.transform="translate(0,0) translateZ(0)";else if(o)o.style.transform="translate(0,0) translateZ(0)",o.style.display="block";else{var a=document.querySelector(e.container);a&&(a.style.display="block")}if(r&&null!==e.sideView&&(setTimeout(function(){r.style.transform="translateX(0)",history.pushState(e.historyPushStateObj,"Tangiblee Virtual Try-On")},0),window.removeEventListener("popstate",k,!1),window.addEventListener("popstate",k,!1)),o&&o.setAttribute("is-showing",!0),e.utils.isItMobileOrTablet()&&window.scrollY)if(e.disableMobileScrollTop){var s=document.querySelector(".tangiblee-iframe").getBoundingClientRect();window.scrollTo(0,s.top)}else{var c=window.scrollY;window.scrollTo(0,-1),setTimeout(function(){window.scrollTo(0,c)},50)}window.tangibleeAnalytics("getTangibleeUserId",function(t){e.iframe.onLoadIsSet&&e.iframe.messaging.postMessageToIframe('{"type":"widgetopened", "data":"'+t+'"}')});var l=e.isCurrentArRingMode?e.activeSKU+"_ar":e.activeSKU;l=i?l+"_alt":l,l!==e.prevOpenedSKU&&(window.tangibleeAnalytics("trackWidgetOpen"),e.prevOpenedSKU=l,e.openedProducts.push(l)),window.tangibleeAnalytics("startRegisteringSession"),e.iframe.focusOnLoad(),e.onModalOpened(),e.setSelectorsDisplay(!0,!1);var u=e.customIframeSrcAttributes.some(function(e){return"availableIntegratedEmbedIframe"===e.key&&"1"===e.value}),d=e.customIframeSrcAttributes.some(function(e){return"availableRegularEmbedIframe"===e.key&&"1"===e.value});!C||u||d||(n(),I()),(e.onModalClosed||e.onKeepAlive)&&(e.timeInWidget=0,e.keepAliveIntervalId=setInterval(function(){e.onKeepAlive&&e.onKeepAlive(),e.timeInWidget+=5},5e3))}};var A=function(){var t;if("v3"===e.widgetVersion&&(t=document.getElementById("tng-a11y-focusable-el"),!t)){var n=document.createElement("a");n.id="tng-a11y-focusable-el",n.href="javascript:void(0)",n.rel="nofollow",n.style.position="absolute",n.style.top=0,n.style.right=0,n.setAttribute("aria-hidden",!0);var i=document.getElementsByTagName("div")[0];i&&i.children&&i.children[0]&&(i.insertBefore(n,i.children[0]),t=document.getElementById("tng-a11y-focusable-el"))}return t};e.modal.close=function(t,i,o){var r=document.getElementsByClassName("tangiblee-modal-overlay")[0],a=document.getElementsByClassName("tangiblee-modal-content")[0],s=e.iframe.getIframeSrc(),c=new URLSearchParams(s),l=c.get("availableRegularEmbedIframe");if(e.iframe.messaging.postMessageToIframe('{"type":"widgetclosed"}'),!r&&e.modal.isUsed()||!e.xlModal&&l){var u=document.querySelector(e.container);u&&(u.style.display="none",e.onCloseButtonClicked())}else{if(t)if(r)null!==e.sideView?setTimeout(function(){r.style.transform="translate(-100%,-100%) translateZ(0)"},300):r.style.transform="translate(-100%,-100%) translateZ(0)";else{var u=document.querySelector(e.container);u&&(u.style.display="none")}else r.style.display="none";a&&null!==e.sideView&&(a.style.transform="right"===e.sideView?"translateX(100%)":"translateX(-100%)",window.removeEventListener("popstate",k,!1),!o&&e.getHistoryBack&&r&&"true"===r.getAttribute("is-showing")&&history.back()),r&&r.setAttribute("is-showing",!1)}if(window.tangibleeAnalytics("trackWidgetClose"),e.keepAliveIntervalId&&clearInterval(e.keepAliveIntervalId),C&&(n(),x(),setTimeout(function(){_.scrollToPosition()},10)),window.tangibleeAnalytics("stopRegisteringSession"),e.onModalClosed&&e.onModalClosed(e.timeInWidget),e.onForceWidgetClose&&e.onForceWidgetClose(e.isARAvailable),i){var d=document.querySelector("."+e.ctaCssClass);if(d&&("button"===d.tagName.toLowerCase()||"a"===d.tagName.toLowerCase()||d.hasAttribute("tabindex")))d.focus();else{var g=A();g&&g.focus()}}}}(),function(){var t=function(){if(e.activeATC)if("string"==typeof e.activeATC){var t=document.querySelectorAll(e.activeATC);n(t)}else Node.prototype.isPrototypeOf(e.activeATC)?e.utils.isElementVisible(e.activeATC)&&e.utils.fireEvent(e.activeATC,"click"):(HTMLCollection.prototype.isPrototypeOf(e.activeATC)||NodeList.prototype.isPrototypeOf(e.activeATC))&&n(e.activeATC)},n=function(t){for(var n,i=0;i<t.length;i++)if(n=t[i],e.utils.isElementVisible(n)){e.utils.fireEvent(n,"click");break}},i=[{type:"widgetready",listener:function(){e.storage.sendBunchProperties(),window.tangibleeAnalytics("getTangibleeUserId",function(t,n,i,o,r,a,s){var c={userId:t,sessionId:n,userIdForGA4:i,sessionCount:o,sessionEngaged:r,pageRefferer:a,pageURL:s,debugMode:!1};"debug"===e.utils.getParam("xtng_fake")&&(c.debugMode=!0);var l={type:"user",data:c};e.iframe.messaging.postMessageToIframe(JSON.stringify(l))}),e.iframe.messaging.postMessageToIframe('{"type":"tng_referrer","data":"'+encodeURIComponent(window.location.href)+'"}')}},{type:"widget_rendered",listener:function(){e.onWidgedRendered()}},{type:"tng_stack_open",listener:function(){e.onStackOpened()}},{type:"tng_stack_close",listener:function(){e.onStackClosed()}},{type:"tng_swipe_left",listener:function(){e.onWidgetSwipedLeft()}},{type:"tng_swipe_right",listener:function(){e.onWidgetSwipedRight()}},{type:"add_to_cart",listener:function(n){if(e.onBeforeATCClickInWidget(),n.isStagingRoom){var i=e.activeSKU;return i=n.variants.join(),e.onBatchATCReceived(n.variants),e.onATCClickInWidget(),void window.tangibleeAnalytics("trackATCWidgetClick",n.atcTitle,n.variants)}var o=n.variants,i=e.activeSKU;o?(i=o.join(),e.onBatchATCReceived(o),e.modal.close(e.modal.isUsed())):e.activeATC&&(e.modal.close(e.modal.isUsed()),t());var r="";n.atcTitle&&(r=n.atcTitle),window.tangibleeAnalytics("trackATCWidgetClick",r,n.variants),e.isARAvailable&&window.tangibleeAnalytics("trackCustomEvent",{action:"ATC Widget AR",label:i,value:1,isInteraction:!1}),e.onATCClickInWidget()}},{type:"tng_popup_close",listener:function(t){e.modal.close(e.modal.isUsed(),t)}},{type:"tng_powered_by",listener:function(){var t=e.utils.getPoweredByHref();window.open(t,"_blank")}},{type:"widget_event",listener:function(e){window.tangibleeAnalytics("trackWidgetEvent",e)}},{type:"tng_ar_camera",listener:function(t){e.onCameraModeChange(t),e.isArActive="true"===t}},{type:"tng_product_variation_changed",listener:function(t){e.onProductVariationChanged(t)}},{type:"tng_item_stacked",listener:function(t){e.onNewItemStacked(t,function(t){var n={type:"stacked_item_data",data:t};e.iframe.messaging.postMessageToIframe(JSON.stringify(n))})}},{type:"tng_request_items_data",listener:function(t){e.onRequestItemsData(t,function(t){var n={type:"requested_items_data",data:t};e.iframe.messaging.postMessageToIframe(JSON.stringify(n))})}},{type:"qr_update",listener:function(t){e.qrCodeState.image=t.image,e.qrCodeState.show=t.show,e.qrCodeState.title=t.title,e.qrCodeState.clickable=t.clickable,e.modal.updateQr()}},{type:"tng_landscape_layout",listener:function(t){var n="true"===t;e.onLandscapeChange(n)}}],o=function(e){if(("https://cdn.tangiblee.com"===e.origin||e.origin.indexOf("localhost")!==-1)&&e&&e.data&&"string"==typeof e.data){var t={};try{t=JSON.parse(e.data)}catch(n){}for(var o=0;o<i.length;o++)if(t.type==i[o].type){t.variants&&t.payload&&(t.payload.variants=t.variants);var r=t.isKeyboardEvent||t.step||t.active||t.sku||t.payload||t.landscape||t.data||void 0;i[o].listener(r)}}},r=function(t){var n,i=e.customIframeSrcAttributes.some(function(e){return"availableIntegratedEmbedIframe"===e.key&&"1"===e.value}),o=e.customIframeSrcAttributes.some(function(e){return"availableRegularEmbedIframe"===e.key&&"1"===e.value});return n="v2"===e.widgetVersion?'<iframe scrolling="no" style="position:relative;z-index:1;width:100%;height:100%;border:none;" src="'+t+'" class="tangiblee-iframe" id="tangiblee_iframe"></iframe>':null===e.sideView||i||o?i||o?'<iframe scrolling="no" style="position:relative;z-index:1;width:100%;height:100%;border:none;box-sizing:border-box;" src="'+t+'" class="tangiblee-iframe" id="tangiblee_iframe" allow="camera; accelerometer; gyroscope; magnetometer; web-share;"></iframe>':window.innerWidth<1024&&e.utils.isItiOS?'<iframe scrolling="no" style="padding:0 5px;position:relative;z-index:1;width:100vw;max-width: 100%;height:100%;border:none;box-sizing:border-box;" src="'+t+'" class="tangiblee-iframe" id="tangiblee_iframe" allow="camera; accelerometer; gyroscope; magnetometer; web-share;"></iframe>':'<iframe scrolling="no" style="background:white;position:relative;z-index:1;width:100%;height:100%;border:none;" src="'+t+'" class="tangiblee-iframe" id="tangiblee_iframe" allow="camera; accelerometer; gyroscope; magnetometer; web-share;"></iframe>':'<iframe scrolling="no" style="background:white;position:relative;z-index:1;width:100vw;max-width: 100%;height:100%;border:none;box-sizing:border-box;" src="'+t+'" class="tangiblee-iframe" id="tangiblee_iframe" allow="camera; accelerometer; gyroscope; magnetometer; web-share;"></iframe>'};e.iframe.onLoadIsSet=!1,e.iframe.getIframeSrc=function(){var t;if("v2"===e.widgetVersion)t=window.innerWidth<=808?"//widget.tangiblee.com/mobile/"+e.product.id+"?domain="+e.domain:"//widget.tangiblee.com/desktop/"+e.product.id+"?domain="+e.domain;else{var n=e.product&&e.product.id,i=[];!!n&&i.push(n),e.variationSKUs.forEach(function(t){e.validSKUs.indexOf(t)!==-1&&i.indexOf(t)===-1&&i.push(t)});var o=e.utils.getWidgetUrlByPdpParam(),r="//cdn.tangiblee.com/widget/index.html",a=o||r;if(t=a+"?id="+(e.useMultiVariations?i.join(","):e.product.id)+"&domain="+e.domain,t+="&useCookies="+(e.useCookies?"1":"0"),e.activePrice&&(t+="&price="+e.activePrice),e.activeSalePrice&&e.activePrice&&(t+="&discount="+e.activeSalePrice),e.activeCurrency&&(t+="&currency="+e.activeCurrency),e.getFaceDiameter&&e.getFaceDiameter()&&(t+="&faceDiameter="+e.getFaceDiameter()),e.getFaceDiameter&&e.getFaceDiameter()&&e.getFaceDiameterDimensions()&&(t+="&faceDiameterDimensions="+e.getFaceDiameterDimensions()),e.doNotTrack&&(t+="&doNotTrack="+e.doNotTrack),e.availableModes.length>0){var s=e.availableModes.join(",");t+="&modes="+s}if(e.version&&(t+="&version="+e.version),e.wishlistSKUs.length>0&&(t+="&wishlist="+e.wishlistSKUs.join(",")),e.historySKUs.length>0&&(t+="&history="+e.historySKUs.join(",")),e.setLayoutUx4&&(t+="&ux4=1"),e.preloaderDesign&&(t+="&"+e.preloaderDesign),e.spinnerColor&&(t+="&spinnerColor="+e.spinnerColor),e.QMEnabled){var c=!!window.sessionStorage&&!!sessionStorage.getItem("QuantumMetricSessionID")&&sessionStorage.getItem("QuantumMetricSessionID"),l=!!window.localStorage&&!!localStorage.getItem("QuantumMetricUserID")&&localStorage.getItem("QuantumMetricUserID");t+="&qmenable=1",t+="&qmsid="+c.toString(),t+="&qmuid="+l.toString()}e.hideThumb&&(t+="&hideThumb=1"),e.globaleConfig&&(t+="&glCountry="+e.globaleConfig.glCountry,t+="&glCurrency="+e.globaleConfig.glCurrency),e.customIframeSrcAttributes.forEach(function(e){t+="&"+e.key+"="+e.value})}return t},e.iframe.inject=function(){e.modal.isUsed()&&e.modal.inject();var t=document.querySelector(e.container);if(t){var n=e.iframe.getIframeSrc(),i=r(n);t.innerHTML=i}},e.iframe.update=function(){var t=document.getElementById("tangiblee_iframe");if(t){var n=t.getAttribute("src").indexOf("localhost")!==-1,i=t.getAttribute("src"),o=n?i:i.replace(/(^\w+:|^)/,""),r=e.iframe.getIframeSrc();o!=r&&(t.src=r,e.onIframeSrcChange())}},e.iframe.exists=function(){return document.getElementById("tangiblee_iframe")},e.iframe.switchWidgetVariation=function(t){e.setActiveSKUAttribute(t.sku);var n=JSON.stringify(t);e.iframe.messaging.postMessageToIframe('{"type":"variationchanged","data":'+n+"}")},e.iframe.focusOnLoad=function(){var t=document.getElementById("tangiblee_iframe");e.iframe.onLoadIsSet?t.focus():t.onload=function(){e.onIframeLoaded(),e.isUserInteractedBefore||(t.addEventListener("click",e.onUserInteracted),e.isUserInteractedBefore=!0),setTimeout(function(){t.focus(),e.iframe.onLoadIsSet=!0},200)}},e.iframe.messaging={addMessageListener:function(e){i.push(e)},startListening:function(){!window.initialTangiblee&&window.addEventListener("message",o,!1),window.initialTangiblee=!0},postMessageToIframe:function(e){var t=document.getElementById("tangiblee_iframe");if(t){var n=t.contentWindow;n&&"function"==typeof n.postMessage&&n.postMessage(e,"https://cdn.tangiblee.com")}}}}(),function(){var t={STORAGE_NAME:"TNG_HISTORY",get:function(){return this._loadData()},send:function(){var t=this.get();e.iframe.messaging.postMessageToIframe(JSON.stringify({type:"tng_storage",name:this.STORAGE_NAME,data:t}))},save:function(e){try{window.localStorage.setItem(this.STORAGE_NAME,JSON.stringify(e))}catch(t){window[this.STORAGE_NAME]=e}},remove:function(e){for(var t=this._loadData(),n=[],i=0;i<t.length;i++)t[i].id!==e&&n.push(t[i]);try{window.localStorage.setItem(this.STORAGE_NAME,JSON.stringify(n))}catch(o){window[this.STORAGE_NAME]=e}this.send()},_loadData:function(){if(window[this.STORAGE_NAME])return window[this.STORAGE_NAME];try{return JSON.parse(window.localStorage.getItem(this.STORAGE_NAME))||[]}catch(e){}return[]}},n={get:function(e){if(window[e])return window[e];try{var t=window.localStorage.getItem(e);t=JSON.parse(t)}catch(n){}return t},send:function(t){var n=this.get(t);n&&e.iframe.messaging.postMessageToIframe(JSON.stringify({type:"tng_storage",name:t,data:n}))},save:function(e,t){try{var n=t;"object"==typeof t&&(n=JSON.stringify(n)),window.localStorage.setItem(e,n)}catch(i){window[e]=t}},remove:function(e){try{window.localStorage.setItem(e,void 0)}catch(t){window[e]=void 0}}};e.storage={memo:{},complexProperties:{TNG_HISTORY:t},postMessageEventHandler:function(e){if(e&&e.name&&e.action){var t=e.data;this.complexProperties[e.name]&&this.complexProperties[e.name][e.action]?this.complexProperties[e.name][e.action](t):e&&e.name&&e.name.indexOf("TNG_")>-1&&n[e.action](e.name,t)}},sendProperties:function(){var e=this;Object.keys(localStorage).forEach(function(t){if(e.complexProperties[t]){var i=JSON.stringify(e.complexProperties[t].get());return void(i!==e.memo[t]&&(e.memo[t]=i,e.complexProperties[t].send()))}if(t&&t.indexOf("TNG_")>-1){var i=n.get(t);return void(i!==e.memo[t]&&(e.memo[t]=i,n.send(t)))}})},sendBunchProperties:function(){var t={},i=this;Object.keys(window.localStorage).forEach(function(e){if(i.complexProperties[e]){var o=i.complexProperties[e].get();return void(o&&(t[e]=o))}if(e&&e.indexOf("TNG_")>-1){var o=n.get(e);return void(o&&(t[e]=o))}}),e.iframe.messaging.postMessageToIframe(JSON.stringify({type:"tng_storage",name:"all",data:t}))}},e.iframe.messaging.addMessageListener({type:"tng_storage",listener:e.storage.postMessageEventHandler.bind(e.storage)}),window.addEventListener("storage",function(){e.storage.sendProperties()})}(),function(){window.tangiblee_instance=window.tangiblee_instance||0,window.tangiblee_instance>0||(window.tangiblee_instance+=1,window.tangiblee=window.tangiblee||function(){(tangiblee.q=tangiblee.q||[]).push(arguments)},tangiblee("require",["utils"],function(t){var n=function(){var e=function(){return'.tg-carousel{position:relative;}.tg-carousel__scroll {position:relative; min-height: 36px; padding-top: 3px; overflow:hidden; width:100%;white-space:nowrap;text-align:right;font-size:0;}.tg-carousel__item {flex-shrink:0;flex-basis:auto;display:inline-block;cursor:pointer;}.tg-carousel__arrow {position:absolute; top:0; width:30px; height:100%;display:flex;justify-content: flex-end;align-items: center;cursor:pointer;}.tg-carousel__arrow:before {content: "";height: 15px;width: 15px;display: block;border: 5px solid black;border-right: 0;border-bottom: 0;transform: rotate(-45deg);}.tg-carousel__arrow--left {left:-30px;}.tg-carousel__arrow--right {right:-30px;justify-content: flex-start;}.tg-carousel__arrow--right:before {transform: rotate(135deg);}'},t=function(e,n){if(!(this instanceof t))return new t(e,n);var i={onDrag:function(){},onDragStart:function(){},onDragEnd:function(){}},o=n||{};for(var r in i)o.hasOwnProperty(r)||(o[r]=i[r]);var a=document.querySelector("html"),s=null,c=null,l=null,u=null,d=!1,g=!1,f=function(e,t,n,i){t.forEach(function(t){e.addEventListener(t,n,i)})},p=function(e,t,n,i){t.forEach(function(t){e.removeEventListener(t,n,i)})},m=function(t){d=!1,s=t.touches?t.touches[0].pageX:t.pageX,c=t.touches?t.touches[0].pageY:t.pageY,l=e.scrollLeft,u=e.scrollTop,f(a,["click"],y,!0),f(a,["mousemove","touchmove"],v,!0),f(a,["mouseup","touchend"],h,!0),o.onDragStart()},v=function(t){if(null!==s&&null!==c){var n=t.touches?t.touches[0].pageX:t.pageX,i=(t.touches?t.touches[0].pageY:t.pageY,s-n);Math.abs(i)>20&&(d=!0),e.scrollLeft=l+i,o.onDrag(),t.preventDefault()}},h=function(e){return d?(g=!0,e.stopPropagation(),e.preventDefault(),d=!1):g=!1,p(a,["mousemove","touchmove"],v,!0),p(a,["mouseup","touchend"],h,!0),o.onDragEnd(),null},y=function(e){g&&(e.stopPropagation(),e.preventDefault()),p(a,["click"],y,!0)};f(e,["mousedown","touchstart"],m,!0)},n=function(e,n){if(e){n||(n={});var i,o,r,a,s={current:n.current||0},c=[],l=function(){i=e.cloneNode(!0),o=document.createElement("div"),o.classList.add("tg-carousel__scroll"),[].slice.call(e.childNodes).forEach(function(e){var t=p(e);c.push(t),o.appendChild(t)}),e.innerHTML="",e.classList.add("tg-carousel"),e.appendChild(o);var n=function(){f()};new t(o,{onDrag:n,onDragEnd:n}),u(),h(s.current),v(s.current),f()},u=function(){e&&(r=document.createElement("div"),r.classList.add("tg-carousel__arrow"),a=r.cloneNode(!0),r.classList.add("tg-carousel__arrow--left"),a.classList.add("tg-carousel__arrow--right"),r.addEventListener("click",g),a.addEventListener("click",d),r.addEventListener("touchend",g),a.addEventListener("touchend",d),e.insertAdjacentElement("afterbegin",r),e.insertAdjacentElement("beforeend",a))},d=function(){if(o){var e=o.scrollLeft+c[0].clientWidth;o.scrollLeft=e,f()}},g=function(){if(o){var e=o.scrollLeft-c[0].clientWidth;o.scrollLeft=e,f()}},f=function(){o&&(o.scrollWidth<=o.clientWidth?(r.style.display="none",a.style.display="none"):(0===o.scrollLeft?r.style.display="none":r.style.display="flex",Math.round(o.scrollLeft)>=o.scrollWidth-o.clientWidth?a.style.display="none":a.style.display="flex"))},p=function(e){var t=document.createElement("div");return t.classList.add("tg-carousel__item"),["click","touchend"].forEach(function(e){t.addEventListener(e,m)}),t.appendChild(e),t},m=function(e){var t=c.indexOf(this);h(t)},v=function(e){var t=c[e];if(t){var n=t.clientWidth,i=t.offsetLeft,r=0;i+n>=o.scrollLeft+o.clientWidth&&(r=i+n-(o.scrollLeft+o.clientWidth)),i<=o.scrollLeft&&(r=i-o.scrollLeft),o.scrollTo?o.scrollTo({left:o.scrollLeft+r,top:0,behavior:"smooth"}):o.scrollLeft=o.scrollLeft+r,setTimeout(function(){f()},300)}},h=function(e){var t=c[e];c.forEach(function(e){e.classList.remove("active")}),t&&(t.classList.add("active"),v(e))};return l(),{getContainer:function(){return e},setActive:h}}};return{getCss:e,tgCarousel:n}}(),i=function(t){function i(t){if(!t.currentTarget.classList.contains("active"))for(var n=t.currentTarget.getAttribute("data-sku"),i=0;i<o.length;i++)if(o[i].sku===n){e.utils.fireEvent(o[i].buttonRef,"click");break}}var o,r,t=t,a=[],s=null,c=function(){var e=document.createElement("div");return e.classList.add("tangiblee-carousel"),e};s=c();var l=function(){a=[],o.forEach(function(t){e.validSKUs.indexOf(t.sku)!==-1&&a.push(t)}),a=[].concat(a)},u=function(){var t=c();return a.forEach(function(n){var o=document.createElement("div"),r=document.createElement("div");r.classList.add("item"),r.setAttribute("data-sku",n.sku),r.style.background=n.imgSrc?'url("'+n.imgSrc+'")':n.color,e.utils.bindClickAndTouch(r,i),o.appendChild(r),t.appendChild(o)}),s=t,t},d=function(e){var t;e?t=e:o.forEach(function(e){e.active&&(t=e.sku)});var n=document.querySelector(".tangiblee-carousel");if(!n)return-1;var i=[].slice.call(n.querySelectorAll(".item")).indexOf(n.querySelector('.item[data-sku="'+t+'"]'));return i},g=function(e){if(t){p(),o=e,l();var i=u();if(!(i.querySelectorAll(".item").length<=1)){var a=document.createElement("div");a.classList.add("tangiblee-outside"),a.addEventListener("wheel",function(e){e.preventDefault()});var s=document.createElement("div");s.classList.add("tangiblee-outside__carousel"),s.appendChild(i),a.appendChild(s);var c=document.querySelector(".tangiblee-modal-iframe-container");c&&c.appendChild(a),r=new n.tgCarousel(i,{current:d()===-1?0:d()})}}},f=function(e){t&&r&&r.setActive(d(e))},p=function(){t&&[].forEach.call(document.querySelectorAll(".tangiblee-outside"),function(e){e&&e.parentNode&&e.parentNode.removeChild(e)})};return{remove:p,update:f,insert:g,carouselNode:s,validVariations:a}},o=function(){var t=function(n,i){i||(i={});var o={salePrice:!1,classList:"",hideCTA:v,showCTA:m,tangiblee:tangiblee,_tangiblee:e,getSKUs:u,getActiveSKU:c,getActivePrice:w,getActiveCurrency:C,isProductOutOfStock:h,setCustomIframeSrcAttributes:b,nodeTangibleeIframe:"#tangiblee_iframe",isSwitchWidgetVariation:!0,shouldWidgetResize:!1};for(var r in o)i[r]=void 0!==i[r]?i[r]:o[r];if(i.hideCTA(),i._tangiblee.SKUs.indexOf(n)===-1)return void tangiblee("validateSKUs",i.getSKUs(),function(){var e=i.getActiveSKU();i._tangiblee.SKUs.indexOf(e)&&i._tangiblee.validSKUs.indexOf(e)>-1&&t(e)});var a=i.tangiblee("variationSKUs"),s=i.tangiblee("activeSKU"),l=document.querySelector(i.nodeTangibleeIframe);if(l&&a.indexOf(s)>-1&&a.indexOf(n)>-1&&i.isSwitchWidgetVariation){var d=i.getActivePrice(),g=i.getActiveCurrency(),f=!!i.salePrice&&i.salePrice();i.tangiblee("switchWidgetVariation",{sku:n,price:d,discount:f,currency:g,outOfStock:i.isProductOutOfStock()?"1":"0",externalClasses:i.classList?i.classList:"",shouldWidgetResize:!!i.shouldWidgetResize})}else{for(var p=i.getSKUs(),y=[],k=0;k<p.length;k++)i._tangiblee.validSKUs.indexOf(p[k].toLowerCase())>-1&&y.push(p[k]);i.tangiblee("activeSKU",n),i.tangiblee("activePrice",i.getActivePrice()),i.tangiblee("activeSalePrice",!!i.salePrice&&i.salePrice()),i.tangiblee("activeCurrency",i.getActiveCurrency()),i.tangiblee("variationSKUs",y),i.setCustomIframeSrcAttributes()}i.showCTA(n,i.thumbUrl),e.updateCTAAttributes()};return{handlerVariationChanged:t}}(),r=function(){var t=function(){return".tng-select__title {z-index: 1; position: absolute; top: 5px; left: 23px; display: block; padding: 0 8px; font-size: 10px; text-align: center; color: #8e8e8e; background-color: #fff; opacity:1; transition: opacity 0.3s;}.tng-select__title.animate {opacity: 1;}.tng-select__title.error {color: #d11919;}.tng-select__title.blur {opacity: 0;}.tng-select-form{;position: absolute;margin: -1px;padding: 0;width: 1px;height: 1px;white-space: nowrap;border: 0;clip-path: inset(100%);clip: rect(0 0 0 0);overflow: hidden;}.tng-select-form.error + .tng-select .tng-select__trigger{border: 1px solid #d11919;color:#d11919;}.tng-select-form:focus-visible + .tng-select .tng-select__trigger{outline: 2px solid #65d594;outline-offset: 2px;box-shadow: 0 0 10px 0 #65d594,inset 0 0 20px 0 #65d594;}.tng-select-wrapper{position:absolute;z-index:2;width: 100%;}.tng-select{font-family: Avenir;display: flex;flex-direction: column;overflow:hidden;}.tng-select__trigger-wrapper{padding: 12px 16px 12px;}.tng-select__trigger{position: relative;display: flex;align-items: center;justify-content: space-between;padding: 0 18px;font-size: 12px;font-weight: 500;color: #000;height: 34px;line-height: 34px;background: #ffffff;border:1px solid #000;border-radius:17px;cursor: pointer;}.tng-select__options{position: absolute;display: block;bottom: 100%;left: 0;right: 0;background-color: rgba(255, 255, 255, 0.8); -webkit-backdrop-filter: blur(20px); backdrop-filter: blur(20px);transition: all 0.3s;opacity: 0;transform:translateY(10px);visibility: hidden;pointer-events: none;z-index: 2;max-height:190px;overflow-y:auto;box-shadow: inset 0 -6px 6px -6px rgb(0 0 0 / 20%);}.tng-select__options::-webkit-scrollbar {width: 11px;}.tng-select__options::-webkit-scrollbar-track {background-color: #fffc; opacity: 1; backdrop-filter: blur(20px);}.tng-select__options::-webkit-scrollbar-thumb {background-color: #999; border-radius: 6px;}.tng-select__options::-webkit-scrollbar-button{display: none !important; width: 0px !important;}.tng-select.open .tng-select__options{scrollbar-color: #999 #fffc;}.tng-select__option{position: relative;display: block;padding: 16px 22px;font-size: 16px;line-height: 25px;letter-spacing: 0.3px;text-align: center;font-weight: 500;color: #000;border-bottom:0.5px solid #c6c6c8;cursor: pointer;}.tng-select__option:focus-visible{outline: 2px solid #65d594;outline-offset: 2px;box-shadow: 0 0 10px 0 #65d594,inset 0 0 20px 0 #65d594;}.tng-select.open .tng-select__options{opacity: 1;visibility: visible;pointer-events: all;transform: none;}.tng-select.open .tng-select__arrow{transform: translateY(-50%) rotate(180deg)}.tng-select__option:hover{cursor: pointer;color: #000;font-weight: 900;}.tng-select__option.selected{color: #000;font-weight: 900;}.tng-select__option.disabled{color: #000;opacity: 0.3;pointer-events: none;}.tng-select__option.hidden{display:none;}.tng-select__arrow{position:absolute;top:50%;right:14px;transform: translateY(-50%);display: flex;align-items: center;justify-content: center;transition:transform 0.3s ease;}"},n=function(e,t){if(e){var n=e.querySelectorAll("option");n[t].selected=!0;var i=document.createEvent("Events"),i=new Event("change",{bubbles:!0,cancelable:!1});e.dispatchEvent(i)}},i=function(e){if(e.length&&!document.querySelector("#tng_select")){var t=document.createElement("select");return t.id="tng_select",e.forEach(function(e){var n=document.createElement("option");n.value=e.value,n.innerText=e.innerText,n.selected=e.selected,n.disabled=e.disabled,t.appendChild(n)}),t}},o=function(t,i,o){var s=t.selectedIndex,c=o&&o.triggerPdpATCClick||null,l=function(e){n(t,e.target.dataset.tngIndex),i(e)};return!t||t.children.length<2||!e.iframe.exists()?-1:(r(),void a(t,{current:s,label:o&&o.label?o.label:"Select size",defaultTitle:o&&o.defaultTitle?o.defaultTitle:"Select size",errorText:o&&o.errorText?o.errorText:"Select a size to purchase",arrow:o&&o.arrow?o.arrow:'<svg xmlns="http://www.w3.org/2000/svg" width="18px" height="18px" viewBox="0 0 185.344 185.344" style="enable-background:new 0 0 185.344 185.344" xml:space="preserve"><path style="fill:currentColor" d="M92.672 144.373a10.707 10.707 0 0 1-7.593-3.138L3.145 59.301c-4.194-4.199-4.194-10.992 0-15.18a10.72 10.72 0 0 1 15.18 0l74.347 74.341 74.347-74.341a10.72 10.72 0 0 1 15.18 0c4.194 4.194 4.194 10.981 0 15.18l-81.939 81.934a10.694 10.694 0 0 1-7.588 3.138z"/></svg>'
},l,c))},r=function(){[].forEach.call(document.querySelectorAll(".tng-select-wrapper"),function(e){e&&e.parentNode&&e.parentNode.removeChild(e)})},a=function(t,n,i,o){if(t){n||(n={});var r,a,s,c,l,u,d,g,f,p,m,v,h={isNotDefaultSelected:n.isNotDefaultSelected,label:n.label||"Select size",defaultTitle:n.defaultTitle||"Select size",errorText:n.errorText||"Select a size to purchase",current:n.current||0,arrow:n.arrow&&n.arrow.svg||'<svg xmlns="http://www.w3.org/2000/svg" width="18px" height="18px" viewBox="0 0 185.344 185.344" style="enable-background:new 0 0 185.344 185.344" xml:space="preserve"><path style="fill:currentColor" d="M92.672 144.373a10.707 10.707 0 0 1-7.593-3.138L3.145 59.301c-4.194-4.199-4.194-10.992 0-15.18a10.72 10.72 0 0 1 15.18 0l74.347 74.341 74.347-74.341a10.72 10.72 0 0 1 15.18 0c4.194 4.194 4.194 10.981 0 15.18l-81.939 81.934a10.694 10.694 0 0 1-7.588 3.138z"/></svg>'},y=function(){a=t.cloneNode(!0),a.setAttribute("id","tng-select-size"),a.setAttribute("name","tng-select-size"),s=document.createElement("form"),s.classList.add("tng-select-form"),s.setAttribute("action",""),s.setAttribute("tabindex","0"),s.addEventListener("keydown",function(e){var t=e.code||e.key;"Enter"!==t&&"Space"!==t||(e.preventDefault(),e.stopPropagation(),S(),_())}),r=document.querySelector(".tangiblee-modal-iframe-container"),m=document.createElement("div"),m.classList.add("tng-select-wrapper"),p=document.createElement("div"),p.classList.add("tng-select"),l=document.createElement("div"),l.classList.add("tng-select__trigger-wrapper"),c=document.createElement("div"),c.classList.add("tng-select__trigger"),g=document.createElement("div"),g.classList.add("tng-select__arrow"),g.innerHTML=h.arrow,f=document.createElement("div"),f.classList.add("tng-select__options"),u=document.createElement("span"),d=document.createElement("span"),d.textContent=h.label,d.classList.add("tng-select__title"),""===t.value&&d.classList.add("blur"),l.appendChild(d),c.appendChild(u),c.appendChild(g),l.appendChild(c),[].slice.call(a).forEach(function(e,t){var n=b(e,t);f.appendChild(n)}),p.appendChild(l),p.appendChild(f),["click","touchend"].forEach(function(e){c.addEventListener(e,function(){S(),A(h.current)})}),s.appendChild(a),m.appendChild(s),m.appendChild(p),r.appendChild(m),s.addEventListener("submit",function(e){return e.preventDefault(),""===t.value?(s.classList.add("error"),u.textContent=h.errorText,d.classList.add("error"),d.classList.remove("blur"),d.classList.add("animate"),!1):void o()}),T(h.current),k(),C(),window.addEventListener("blur",function(){this.setTimeout(function(){"tangiblee_iframe"===document.activeElement.id&&(p.classList.remove("open"),T(h.current))})})},b=function(t,n){var i=document.createElement("div");i.classList.add("tng-select__option");for(var o=0;o<t.attributes.length;o++){var r=t.attributes[o];/^data-/.test(r.nodeName)&&i.setAttribute(r.nodeName,r.nodeValue)}return i.setAttribute("data-tng-value",t.value),i.setAttribute("data-tng-index",n),i.setAttribute("tabindex","-1"),i.textContent=t.textContent,e.utils.bindClickAndTouch(i,function(e){w(e)},!0,!0),t.selected&&i.classList.add("selected"),t.disabled&&i.classList.add("disabled"),t.hidden&&i.classList.add("hidden"),i},w=function(e){var n=e.target;if(!n.classList.contains("selected")){var o=[].slice.call(f.children).indexOf(n);h.current=o,T(o),i(e),S(),t.checkValidity()&&(s.classList.remove("error"),d.classList.remove("error"))}},k=function(){l.addEventListener("wheel",function(e){e.preventDefault()})},C=function(){var e=f.offsetHeight,t=f.scrollHeight;["scroll","touchmove","wheel"].forEach(function(n){f.addEventListener(n,function(n){(Math.abs(f.scrollTop-(t-e))<1&&n.deltaY>0||0===f.scrollTop&&n.deltaY<0)&&n.preventDefault()})})},S=function(){""===t.value&&d.classList.remove("blur"),p.classList.contains("open")?(p.classList.remove("open"),window.blur(),T(h.current)):(p.classList.add("open"),window.focus(),u.textContent="-",""===!t.value&&d.classList.add("error"),d.classList.add("animate"))},_=function(){p.classList.contains("open")?I():x()},I=function(){function e(e){switch(e.keyCode){case o.BOTTOM:e.preventDefault(),t();break;case o.TOP:e.preventDefault(),n();break;case o.SPACE:if(e.preventDefault(),e.stopPropagation(),e.target.classList.contains("disabled"))break;w(e),x();break;case o.ENTER:if(e.preventDefault(),e.stopPropagation(),e.target.classList.contains("disabled"))break;w(e),x();break;case o.ESCAPE:e.preventDefault(),e.stopPropagation(),p.classList.remove("open"),x()}}function t(){var e=document.activeElement;e.nextElementSibling&&i(e.nextElementSibling)}function n(){var e=document.activeElement;e.previousElementSibling&&i(e.previousElementSibling)}function i(e){f.querySelectorAll(".tng-select__option").forEach(function(e){return e.tabIndex=-1}),e.tabIndex=0,setTimeout(function(){e.focus()},50)}v=document.activeElement,f.addEventListener("keydown",e);var o={TOP:38,BOTTOM:40,SPACE:32,ENTER:13,ESCAPE:27};[].slice.call(f.children).some(function(e,t){return h.current=t,!e.classList.contains("hidden")}),A(h.current),i(f.children[h.current])},x=function(){f.querySelectorAll(".tng-select__option").forEach(function(e){return e.tabIndex=-1}),v.focus()},A=function(e){var t=f.children[e];if(t){var n=t.clientHeight,i=t.offsetTop,o=i+n/2-(f.scrollTop+f.clientHeight/2);p.scrollTo?f.scrollTo({top:f.scrollTop+o,behavior:"smooth"}):p.scrollTop=p.scrollTop+o}},T=function(e){e===-1||!f.children[e].dataset.tngValue||h.isNotDefaultSelected?u.textContent=h.defaultTitle:u.textContent=f.children[e].textContent.trim(),a.value=e===-1?h.defaultTitle:f.children[e].dataset.value;var t=f.children[e];[].slice.call(f.children).forEach(function(e){e.classList.remove("selected")}),t&&t.classList.add("selected")};y(),h.isNotDefaultSelected===!0&&(h.isNotDefaultSelected=!1)}};return{getCss:t,createSelect:i,changeSelect:n,insertSelect:o,removeSelect:r,tngSelect:a}}(),a=function(){var t=function(t){var n="https://appapi.tangiblee.com/jewelry/Shopify/GetCTAConfig?shop="+t;return e.utils.http.fetch(n,"GET")},i=function(e){if(e&&"hue"in e&&"saturation"in e&&"brightness"in e){var t=e.hue,n=e.saturation,i=e.brightness,o=function(e){return(e+t/60)%6},r=function(e){return i*(1-n*Math.max(0,Math.min(o(e),4-o(e),1)))};return"rgb("+255*r(5)+","+255*r(3)+","+255*r(1)+")"}return!1},o=function(e){var t="";if(e.addIcon&&e.activeIcon){var n='<svg width="24" height="24" fill="none"><path fill="'+(i(e.textColor)||"rgb(255,255,255)");switch(e.activeIcon){case"camera":t=n+'" d="M19.721 19.992H4.267a2.264 2.264 0 0 1-2.57-2.538V8.577a2.264 2.264 0 0 1 2.57-2.538h2.365a1.32 1.32 0 0 0 1.263-.562l.691-.766a1.956 1.956 0 0 1 1.7-.7h3.337a1.947 1.947 0 0 1 1.7.7l.691.766a1.328 1.328 0 0 0 1.263.562h2.451a2.269 2.269 0 0 1 2.582 2.538v8.877a2.27 2.27 0 0 1-2.589 2.538ZM12.001 8.22a4.62 4.62 0 1 0 .029 9.241 4.62 4.62 0 0 0-.033-9.241H12Zm6.047.508A1.057 1.057 0 0 0 17 9.765a1.026 1.026 0 0 0 1.048 1.025 1.045 1.045 0 0 0 1.037-1.025 1.064 1.064 0 0 0-1.038-1.037h.001ZM12 16.364a3.5 3.5 0 1 1 0-7 3.5 3.5 0 0 1 0 7Z"/></svg>';break;case"hand":t=n+'" d="M15.3 22v-.892h5.8v-5.99h.9V22h-6.7ZM2 22v-6.882h.892v5.991h5.835V22H2Zm5.914-7.926V8.51a.585.585 0 0 1 .629-.532.566.566 0 0 1 .591.6v3.712c.212-.13.435-.24.666-.33V6.742a.611.611 0 0 1 1.22 0v4.887c.22-.036.442-.06.665-.07V6.293a.611.611 0 0 1 1.22 0v5.3c.225.028.447.071.666.13V7.054a.611.611 0 0 1 1.22 0v5.7c0 .624.058.953.256.953.331 0 .746-1.317 1.087-2.009.3-.638.506-.869 1.031-.869.232 0 .58.225.58.479a8.259 8.259 0 0 1-.532 1.733 9.115 9.115 0 0 1-1.856 3.888 4.552 4.552 0 0 1-3.451 1.371c-2.324 0-3.992-1.312-3.992-4.226Zm13.194-5.187V2.893H15.3V2H22v6.887h-.892ZM2 8.887V2h6.727v.893H2.892v5.994H2Z"/></svg>';break;case"vto":t=n+'" fill-rule="evenodd" clip-rule="evenodd" d="M20 20.514a.493.493 0 0 1-.5.486h-15a.494.494 0 0 1-.5-.486 7.894 7.894 0 0 1 8-7.784 7.894 7.894 0 0 1 8 7.784Zm-8-8.757a4.44 4.44 0 0 1-4.5-4.378 4.44 4.44 0 0 1 4.5-4.38 4.44 4.44 0 0 1 4.5 4.38 4.44 4.44 0 0 1-4.5 4.378Z"/></svg>';break;default:t=n+'" d="M19.721 19.992H4.267a2.264 2.264 0 0 1-2.57-2.538V8.577a2.264 2.264 0 0 1 2.57-2.538h2.365a1.32 1.32 0 0 0 1.263-.562l.691-.766a1.956 1.956 0 0 1 1.7-.7h3.337a1.947 1.947 0 0 1 1.7.7l.691.766a1.328 1.328 0 0 0 1.263.562h2.451a2.269 2.269 0 0 1 2.582 2.538v8.877a2.27 2.27 0 0 1-2.589 2.538ZM12.001 8.22a4.62 4.62 0 1 0 .029 9.241 4.62 4.62 0 0 0-.033-9.241H12Zm6.047.508A1.057 1.057 0 0 0 17 9.765a1.026 1.026 0 0 0 1.048 1.025 1.045 1.045 0 0 0 1.037-1.025 1.064 1.064 0 0 0-1.038-1.037h.001ZM12 16.364a3.5 3.5 0 1 1 0-7 3.5 3.5 0 0 1 0 7Z"/></svg>'}}return t},a=function(n,i,r,a){t(n).then(function(t){if(!(document.querySelector("."+i)||e.validSKUs.indexOf(tangiblee("activeSKU"))<0)){var n=JSON.parse(t),s=document.createElement("div"),c=o(n);s.classList.add(i),s.classList.add("automate-cta");var l=(c?'<span class="tangiblee-cta__icon" style="margin-right:5px; height: 24px;">'+c+"</span>":"")+'<span class="tangiblee-cta__text">'+(n.title||"Try It on")+"</span>";s.innerHTML=l,r&&(a?r.insertAdjacentElement(a,s):r.appendChild(s),e.setCtaClickHandler())}})["catch"](function(e){console.log(e)})},s=function(e){return".automate-cta{display: flex;justify-content: center;align-items: center;font-size: "+(e.fontSize||"12")+"px;font-weight: "+(e.fontWeight||"400")+";font-family: "+(e.fontFamily||"sans-serif")+";border-radius: "+(e.borderRadius||"4")+"px;border: "+(e.borderSize||"0")+"px solid "+(i(e.borderColor)||"rgb(0,0,0)")+";color: "+(i(e.textColor)||"rgb(255,255,255)")+";background: "+(i(e.fillColor)||"rgb(0,128,96)")+";}"},c=function(e){var t=document.createElement("style");t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e)),document.getElementsByTagName("head")[0].appendChild(t)},l=function(e,i,o,a){var l=e?n.getCss():"",u=i?r.getCss():"",d=l+u+(a?a:".tangiblee-cta{width:139px;height:48px;right:8px;top:18px;border:1px solid #0072ce;border-radius:100px;background:#fff;cursor:pointer;z-index:2;display:flex;justify-content:center;align-items:center;padding-left:10px;letter-spacing:normal;color:#0072ce;text-align:left}.tng-icon{margin-right:11px;display:inline-block;width:26px;height:26px;background:url(https://cdn.tangiblee.com/integration/3.1/managed/www.homecenter.com.co/revision_1/variation_original/img/icon_desktop.svg) 50% no-repeat}.tng-text{width:-webkit-min-content;width:-moz-min-content;width:min-content;font-weight:700;font-stretch:normal;font-style:normal;line-height:15px;text-align:left;font-size:13.3px}.tangiblee-outside{position:absolute;right:0;bottom:82px;z-index:1;width:100%;padding:0 10px}.tangiblee-outside__carousel{width:100%;padding:0 21px}.tg-carousel__scroll{padding-top:2px;text-align:center;display:flex;flex-direction:row;justify-content:center}.tng-select-wrapper+.tangiblee-outside{bottom:135px}.tng-select-wrapper{bottom:62px}.tg-carousel__item.active>div{border:2px solid #888;padding:2px}.tangiblee-outside,.tangiblee-outside *{box-sizing:border-box}.tg-carousel__item>div{width:36px;height:36px;margin-right:4px;margin-left:4px;border-radius:50%;border:1px solid #ddd;cursor:pointer}.tg-carousel__item .item{width:100%;height:100%;border-radius:50%;background-size:cover!important}@media (max-width:1279px){.tangiblee-cta{right:0;top:5px}}@media (max-width:719px){.tangiblee-cta{top:8px;right:8px;width:31.5%;height:44px;padding-top:0;padding-left:0}.tng-icon{margin-right:4px;display:inline-block;width:20px;height:20px;background:url(https://cdn.tangiblee.com/integration/3.1/managed/www.homecenter.com.co/revision_1/variation_original/img/icon_mobile.svg) 50% no-repeat}.tng-text{text-transform:none;font-size:10px;font-weight:700;font-stretch:normal;font-style:normal;line-height:1.08}}");o?t(o).then(function(e){var t=JSON.parse(e);d+=s(t),c(d)})["catch"](function(e){console.log(e),c(d)}):c(d)};return{getCss:l,createAutomateCTA:a}}();a.getCss(!0,!0);var s,c=function(){var e,t=/[^A-Za-z0-9_]/g,n=window.__NEXT_DATA__.props.pageProps.productProps.result,i=function(n){if(!n){var i=document.querySelector(".product-info .product-cod").textContent.split(" ");e=i[i.length-1]}return e&&e.toLowerCase&&(e=e.toLowerCase().replace(t,"-")),e};if(n.variants.length<2)return e=n.currentVariant,i(e);var o=document.querySelector(".product-details-wrapper .product-info .color-selector");if(o){var r=o.querySelector(".color-swatch-border .color-swatch.selected"),a=r.id.split("-")[1];return n.variantMap[a].forEach(function(t){t.primaryColorHex===a&&(e=t.id)}),i(e)}var s=document.querySelector(".product-details-wrapper .product-info .variant-selectors");if(s){var c=s.querySelector(".size-selector .size-container.selected");if(c){var l=c.innerText.replace(/\s+/g,"");n.variantMap[l].forEach(function(t){t.size===c.innerText&&(e=t.id)})}else e=n.currentVariant;return i(e)}return i(e)},l=c(),u=function(){var e=[],t=window.__NEXT_DATA__.props.pageProps.productProps.result.variants;return t?t.forEach(function(t){e.push(t.id)}):e=[c()],e},d=window.innerWidth<=719,g=!1,f=function(){g||(g=setTimeout(function(){v(),e.validSKUs.indexOf(e.activeSKU)>-1&&(m(),e.setCtaClickHandler()),clearTimeout(g),g=!1},500))},p="tangiblee-cta",m=function(n,i){if(document.querySelector("."+p))return p;if(!(e.validSKUs.indexOf(c().toLowerCase())<0)){var o=function(){var e=document.createElement("button");return e.className=p,e.innerHTML='<span class="tng-icon"></span><span class="tng-text">Ver en Proyecto</span>',e},r=document.querySelector(".product-swatches"),a=d?"beforebegin":"afterend";return r.insertAdjacentElement(a,o()),t.waitForConditionToMet(function(){return document.querySelector(".buttonsRA_3DM#buttonsRA_3DM")||document.querySelector(".buttonsRA_3D#buttonsRA_3D")},100).then(function(){v();var e=document.querySelector(".buttonsRA_3DM#buttonsRA_3DM")||document.querySelector(".buttonsRA_3D#buttonsRA_3D");return e.append(o()),tangiblee("setCtaClickHandler"),window.addEventListener("resize",f),p}),tangiblee("setCtaClickHandler"),p}},v=function(){window.removeEventListener("resize",f);var e=document.querySelector("."+p);e&&e.parentElement&&e.parentElement.removeChild(e)},h=function(){return!document.querySelector('.product-basic-info .product-details-wrapper .product-info .addto-cart-component [id*="btn-add-to-cart"]')},y=function(){var e=[],t=[].slice.call(document.querySelectorAll(".product-details-wrapper .product-info .color-selector .color-swatch-border")),n=document.querySelectorAll(".product-details-wrapper .product-info .variant-selectors .size-selector .size-container"),i=tangiblee("variationSKUs");return t.length>1&&i.length>1&&e.push("tg-color-selector"),n.length>0&&i.length>0&&e.push("tg-size-selector"),e.length>1?e.join(","):e.join()},b=function(){h()?tangiblee("setCustomIframeSrcAttributes",[{key:"outOfStock",value:1},{key:"externalClasses",value:y()}]):tangiblee("setCustomIframeSrcAttributes",[{key:"outOfStock",value:0},{key:"externalClasses",value:y()}])},w=function(){if(!h()){var e,t=document.querySelector(".pdp-price .primary");return t&&t.textContent&&(e=t.textContent.replace(/[^A-Za-z0-9,.]/g,"").trim()),e}},k=function(){if(!h()){var e,t=document.querySelector(".pdp-price .secondary");return t&&t.textContent&&(e=t.textContent.replace(/[^A-Za-z0-9,.]/g,"").trim()),e}},C=function(){var e=document.querySelector(".pdp-price .primary");return e&&e.textContent.trim()[0]},S=function(e){var t=u(),n=[];Object.keys(e).forEach(function(i){e[i]&&t.indexOf(i)>-1&&n.push(i)}),tangiblee("variationSKUs",n),b()},_=function(){var t=[];return[].forEach.call(document.querySelectorAll(".product-details-wrapper .product-info .color-selector .color-swatch-border .color-swatch"),function(n){var i,o=n.id.split("-")[1];window.__NEXT_DATA__.props.pageProps.productProps.result.variantMap[o].forEach(function(e){e.primaryColorHex===o&&(i=e.id)}),e.validSKUs.indexOf(i)!==-1&&t.push({imgSrc:null,color:n.style.backgroundColor||"#"+o,sku:i,active:!!n.classList.contains("selected"),buttonRef:n})}),t},I=function(e){var n=document.querySelectorAll(".product-details-wrapper .product-info .variant-selectors .size-selector .size-container");[].forEach.call(n,function(n,i){n.id===e.target.getAttribute("data-tng-value")&&t.fireEvent(n,"click")})},x=function(){var e=r.createSelect(T()),t=document.querySelector(".product-details-wrapper .product-info .variant-selectors .size-selector .selector-title");e&&t&&r.insertSelect(e,I,{label:t.innerText})},A=function(){x(),s.insert(_())},T=function(){var t=[],n=document.querySelectorAll(".product-details-wrapper .product-info .variant-selectors .size-selector .size-container");if(!n.length)return t;var i=[].some.call(n,function(e){return e.classList.contains("selected")});return t.push({value:"Elije un tamao",innerText:"Elije un tamao",selected:!i,disabled:!0}),[].forEach.call(n,function(n){var i,o=n.innerText.replace(/\s+/g,"");window.__NEXT_DATA__.props.pageProps.productProps.result.variantMap[o].forEach(function(e){e.size===n.innerText&&(i=e.id)}),e.validSKUs.indexOf(i)!==-1&&t.push({value:n.id,innerText:n.innerText,selected:n.classList.contains("selected"),disabled:!1})}),t},E=function(){r.removeSelect(),s.remove()},O=function(t){var n="https://www.homecenter.com.co/s/products/v1/soco/tangiblee-products/"+t;return new e.promise(function(e){fetch(n).then(function(t){e(t.json())})})},D=function(){var t=e.utils.getCookie("cartId"),n="https://www.homecenter.com.co/s/checkout/v1/carts/?cartId="+t+"&priceGroup=10&zoneId=1&rebuildDependencies=true&processAlerts=true",i={method:"GET",headers:{"x-channel-id":"WEB","x-ecomm-name":"homecenter-co"}};return t?new Promise(function(e){fetch(n,i).then(function(e){return e.json()}).then(function(t){e(t.data)})}):new Promise(function(e){e(null)})},U=function(t,n){var i=[];D().then(function(o){t.forEach(function(t){i.push(new e.promise(function(e){L(t,function(t){e(t)},o)}))}),e.promise.all(i).then(function(e){n(e)})})},L=function(e,t,n){void 0!==n&&O(e).then(function(i){var o=null!==n&&n.cart.cartLines.find(function(t){return t.variantId===e}),r=i.variants[0],a={sku:r.id,isCurrentSKU:r.id===c(),currency:r.price.symbol,available:r.isInStock,price:r.price.price,isAddedToCart:o};t(a)})},P=function(n){if(n){n.indexOf(c()>-1)&&n.length>1&&(n=n.slice(1));var i=e.utils.getCookie("cartId"),o=i?"https://www.homecenter.com.co/s/checkout/v1/carts?cartId="+i+"&rebuildDependencies=false&return=ALL":"https://www.homecenter.com.co/s/checkout/v1/carts?rebuildDependencies=false&return=ALL",r={data:{cart:{cartLines:[]}},metadata:{priceGroup:"10",zoneId:"1"}};[].forEach.call(n,function(e){var t={compatibilityGroup:0,priceGroup:"10",item:{},quantity:{quantityNumber:1,quantityGroup:"und"}};t.cartLineNumber=e,t.item.variantId=e,r.data.cart.cartLines.push(t)});var a={method:"POST",headers:{"content-type":"application/json","x-channel-id":"WEB","x-ecomm-name":"homecenter-co"},body:JSON.stringify(r)};return n.indexOf(c())>-1?void t.fireEvent(document.querySelector("#testId-btn-add-to-cart"),"click"):new Promise(function(){fetch(o,a).then(function(e){return e.json()}).then(function(t){e.utils.setCookie("cartId",t.data.cart.cartId)}).then(function(e){t.fireEvent(document.querySelector("#testId-btn-add-to-cart"),"click")})})}},N=function(){t.waitForConditionToMet(function(){return document.querySelector(".ins-pos-middle-right")}).then(function(){t.isItMobileOrTablet()&&(document.querySelector(".ins-pos-middle-right").style.position="static")})},R=function(){var e=document.querySelector(".ins-pos-middle-right");e&&t.isItMobileOrTablet()&&(e.style.position="fixed")};tangiblee("domain","www.homecenter.com.co/homecenter-co/"),tangiblee("useCookies",!0),tangiblee("showCTA",m),tangiblee("hideCTA",v),tangiblee("activeATC","#testId-btn-add-to-cart"),tangiblee("onWidgedRendered",A),tangiblee("onCtaClicked",N),tangiblee("onModalClosed",R),tangiblee("onIframeSrcChange",E),tangiblee("onRequestItemsData",U),tangiblee("onNewItemStacked",L),tangiblee("onBatchATCReceived",P),tangiblee("onSKUsValidated",S),tangiblee("activateMultiVariations"),tangiblee("xlView",!0),t.ready(function(){l=c(),tangiblee("activeSKU",c()),tangiblee("activePrice",w()),tangiblee("activeSalePrice",k()),tangiblee("activeCurrency",C()),tangiblee("startOnSKUs",u()),b(),s=i(document.querySelectorAll(".product-details-wrapper .product-info .color-selector .color-swatch-border").length>1);var t=document.querySelector(".product-details-wrapper .product-info .color-selector .color-swatches")||document.querySelector(".product-info .product-cod"),n=new MutationObserver(function(){l!==c()&&(e.validSKUs.indexOf(c())!==-1?(s&&s.update(c()),x(),o.handlerVariationChanged(c(),{getActiveSKU:c,getActivePrice:w,salePrice:k,setCustomIframeSrcAttributes:b,classList:_().length>1||T().length>1?y():""}),l=c()):v())});t&&n.observe(t,{attributes:!0,subtree:!0,characterData:!0,childList:!0})})}),tangiblee("onGoogleAnalyticsIsReady",function(e,t){window.tangibleeAnalytics=window.tangibleeAnalytics||function(){(window.tangibleeAnalytics.q=window.tangibleeAnalytics.q||[]).push(arguments)},window.tangibleeAnalytics("setAnalyticsPlugin","GoogleAnalytics",{trackingId:e}),t.sendGAEventsDirectly===!0&&window.tangibleeAnalytics("setAnalyticsPlugin","GoogleAnalytics4",{trackingId:t.tangibleeMeasurementId,isAvailable:!0}),t.sendGAEventsViaInfoPortal===!0&&window.tangibleeAnalytics("setAnalyticsPlugin","InfoPortalAnalyticsForGA4",{trackingId:t.tangibleeMeasurementId})}))}();var l=function(){window.tangibleeAnalytics("trackATCClick")},u={startOnSKUs:function(t){window.parent.postMessage(JSON.stringify({type:"qr_update",payload:{action:"image-update",show:!1}}));var n=!0,i=function(t){if(t){if("string"==typeof t)n=!1,e.SKUs.push(t);else if(t.constructor===Array&&t.length>0)for(var i=0;i<t.length;i++)t[i]&&"string"==typeof t[i]&&e.SKUs.indexOf(t[i])===-1&&(n=!1,e.SKUs.push(t[i]));e.SKUs&&0!==e.SKUs.length&&(1===e.SKUs.length&&tangiblee("activeSKU",e.SKUs[0]),e.thumbs={},n||e.validateSKUs().then(function(t){e.setTangibleeParams(t),e.onSKUsValidated(t.exists,t.products);var n=[];for(var i in t.products)t.exists[i]&&n.push(t.products[i].id);if(e.analyticsPluginsIsSet||(e.analyticsSettings&&void 0!==e.analyticsSettings.useAnalyticsCookie&&tangiblee("useAnalyticsCookies",e.analyticsSettings.useAnalyticsCookie),e.onGoogleAnalyticsIsReady(e.tangibleeGA3TrackingId,e.analyticsSettings),e.analyticsPluginsIsSet=!0),n.length){for(var o=0;o<n.length;o++)e.validSKUs.indexOf(n[o])===-1&&e.validSKUs.push(n[o]);var r=e.getContainedId();if(r&&(e.activeSKU=r),e.product=e.products[e.activeSKU],n.indexOf(e.activeSKU)>-1){e.iframe.update();var a=function(t){t&&(e.onCTAShown&&e.onCTAShown(),e.setCtaClickHandler(),"onActiveSKUChange"===e.loadIframe&&e.iframe.inject());var i=n.slice().sort(function(t){return t==e.activeSKU?-1:0});e.trackHistory(),window.tangibleeAnalytics("trackImpression",i)};window.tangibleeAnalytics("setProduct",e.product);var s=e.showCTA(e.activeSKU,e.getThumb());e.updateCTAAttributes(),s&&s.then?s.then(function(t){e.ctaCssClass=t,a(t)}):s&&s.skipImpression||(e.ctaCssClass=s,a(s)),e.shouldForceWidgetOpen()&&(e.iframe.exists()?e.iframe.update():e.iframe.inject(),e.onCtaClicked({}),e.onForceWidgetOpen(e.isARAvailable),e.modal.show(e.modal.isUsed()))}else e.hideCTA()}else e.hideCTA()})["catch"](function(e){e&&TrackJS.isInstalled()&&TrackJS.track(e.message)}))}};t&&t.then?t.then(function(e){i(e)}):i(t)},isSKUEligible:function(t){return e.validSKUs.indexOf(t)>-1},onGoogleAnalyticsIsReady:function(t){e.onGoogleAnalyticsIsReady=t},domain:function(t){return t?(e.domain=t,void window.tangibleeAnalytics("setRetailer",t)):e.domain},useCookies:function(t){return"undefined"==typeof t?e.useCookies:void(e.useCookies=t)},useAnalyticsCookies:function(t){return"undefined"==typeof t?e.useAnalyticsCookies:void(e.useAnalyticsCookies=t)},embedState:function(t){return"undefined"==typeof t?e.isEmbed:(e.isEmbed=t,void window.tangibleeAnalytics("setEmbedState",t))},container:function(t){e.container=t},sideView:function(t){e.sideView=t},xlView:function(t){e.xlView=t},xlModal:function(t){e.xlModal=t},require:function(t,n){if(t){for(var i=[],o=0;o<t.length;o++)e[t[o]]&&i.push(e[t[o]]);i.length>0&&n.apply(this,i)}},showCTA:function(t){if(e.activateResizeInject){var n=!1;window.addEventListener("resize",function(){n=setTimeout(function i(){e.hideCTA(),window.removeEventListener("resize",i),e.validSKUs.indexOf(e.activeSKU)>-1&&(t(),e.setCtaClickHandler()),clearTimeout(n),n=!1},500)})}e.showCTA=t},hideCTA:function(t){e.hideCTA=t},updateCTAAttributes:function(){e.updateCTAAttributes()},setCtaClickHandler:function(){e.setCtaClickHandler()},widgetVersion:function(t){var n=["v3","v2"];n.indexOf(t)>-1&&(e.widgetVersion=t)},usePDPHistory:function(t){t&&(e.usePDPHistory=!0,t.maxPDPHistoryItems&&(e.maxPDPHistoryItems=t.maxPDPHistoryItems),t.skipCategoryInPDPHistory&&(e.skipCategoryInPDPHistory=t.skipCategoryInPDPHistory))},activeSKU:function(t){return t&&t.toLowerCase&&(e.setActiveSKUAttribute(t),e.activeSKU=t.toLowerCase(),e.updateSku()),e.activeSKU},hideThumb:function(t){return void 0!==t&&(e.hideThumb=t),e.hideThumb},activeLocale:function(t){e.activeLocale=t,e.iframe.exists()&&e.activeSKU&&e.validSKUs.indexOf(e.activeSKU)>-1&&e.iframe.update()},activePrice:function(t){e.activePrice=t,e.iframe.exists()&&e.activeSKU&&e.validSKUs.indexOf(e.activeSKU)>-1&&e.iframe.update()},activeSalePrice:function(t){e.activeSalePrice=t,e.iframe.exists()&&e.activeSKU&&e.validSKUs.indexOf(e.activeSKU)>-1&&e.iframe.update()},activateResizeInject:function(){e.activateResizeInject=!0},isContainedId:function(t){e.isContainedId=t()},activateMultiVariations:function(){e.useMultiVariations=!0},activateGlobale:function(t){e.globaleConfig=t},variationSKUs:function(t){return t?(e.variationSKUs=t,void(e.iframe.exists()&&e.activeSKU&&e.validSKUs.indexOf(e.activeSKU)>-1&&(e.skipFrameSrcUpdate||e.iframe.update()))):e.variationSKUs},wishlistSKUs:function(t,n){n&&n.length&&!e.isWishlistValidated?e.validateSelectedSKUs(t).then(function(t){var i=Object.keys(t.products).map(function(e){return t.products[e]}),o=i.filter(function(e){return n.indexOf(e.categoryId)>-1}).map(function(e){return e.id});e.wishlistSKUs=o,e.iframe.update(),e.isWishlistValidated=!0})["catch"](function(t){e.isWishlistValidated=!0,t&&TrackJS.isInstalled()&&TrackJS.track(t.message)}):t&&(e.wishlistSKUs=t)},productSilentUpdate:function(t){t.sku!==t.oldSku&&(e.setActiveSKUAttribute(t.sku),t.oldSku=e.activeSKU,e.variationSKUs=t.variations,e.validSKUs=t.variations,e.product={id:t.sku},e.activeSKU=t.sku,e.activeSalePrice=t.discountedPrice,e.activePrice=t.price,e.activeCurrency=t.currency,e.onProductUpdated&&e.onProductUpdated(t))},onNewItemStacked:function(t){e.onNewItemStacked=t},onRequestItemsData:function(t){e.onRequestItemsData=t},onProductVariationChanged:function(t){e.onProductVariationChanged=t},onBatchATCReceived:function(t){e.onBatchATCReceived=t},switchWidgetVariation:function(t){var n=e.getContainedId();n&&(t.sku=n);var i=t.sku;if(e.validSKUs.indexOf(i)>-1&&e.variationSKUs.indexOf(i)>-1){var o=e.showCTA(i,e.getThumb(i));o&&o.then?o.then(function(t){e.ctaCssClass=t,e.setCtaClickHandler()}):(e.ctaCssClass=o,e.setCtaClickHandler()),e.iframe.switchWidgetVariation(t)}else e.hideCTA(i),e.modal.close(e.modal.isUsed())},activeCurrency:function(t){e.activeCurrency=t,e.iframe.exists()&&e.activeSKU&&e.validSKUs.indexOf(e.activeSKU)>-1&&e.iframe.update()},activeATC:function(t){e.activeATC=t,"string"==typeof t&&e.utils.ready(function(){for(var e=document.querySelectorAll(t),n=0;n<e.length;n++){var i=e[n];i.removeEventListener("click",l),i.addEventListener("click",l)}})},openWidget:function(){e.utils.waitForConditionToMet(function(){return e.activeSKU&&e.validSKUs.indexOf(e.activeSKU)>-1}).then(function(){var t=!1,n="arEnabled";e.customIframeSrcAttributes.forEach(function(e){e.key===n&&(e.value="1",t=!0)}),t||e.customIframeSrcAttributes.push({key:n,value:"1"}),e.iframe.exists()?e.skipFrameSrcUpdate||e.iframe.update():e.iframe.inject(),e.modal.show(e.modal.isUsed())})},onSKUsValidated:function(t){e.onSKUsValidated=t},onCTAShown:function(t){e.onCTAShown=t},onCtaClicked:function(t){e.onCtaClicked=t},onModalOpened:function(t){e.onModalOpened=t},onIframeLoaded:function(t){e.onIframeLoaded=t},onProductUpdated:function(t){e.onProductUpdated=t},onUserInteracted:function(t){e.onUserInteracted=t},onModalClosed:function(t){e.onModalClosed=t},onStackOpened:function(t){e.onStackOpened=t},onStackClosed:function(t){e.onStackClosed=t},onCloseButtonClicked:function(t){e.onCloseButtonClicked=t},onWidgetSwipedLeft:function(){e.onWidgetSwipedLeft=onWidgetSwipedLeft},onWidgetSwipedRight:function(){e.onWidgetSwipedRight=onWidgetSwipedRight},onKeepAlive:function(t){e.onKeepAlive=t},onCameraModeChange:function(t){e.onCameraModeChange=t},onBeforeATCClickInWidget:function(t){e.onBeforeATCClickInWidget=t},onATCClickInWidget:function(t){e.onATCClickInWidget=t},onWidgedRendered:function(t){e.onWidgedRendered=t},onIframeSrcChange:function(t){e.onIframeSrcChange=t},cleanTangibleeSKUs:function(){e.SKUs=[]},validateSKUs:function(t,n){var i=function(t){if(t){if("string"==typeof t)e.SKUs.push(t);else if(t.constructor===Array&&t.length>0)for(var i=0;i<t.length;i++)t[i]&&"string"==typeof t[i]&&e.SKUs.indexOf(t[i])===-1&&e.SKUs.push(t[i]);e.SKUs&&0!==e.SKUs.length&&(1===e.SKUs.length&&tangiblee("activeSKU",e.SKUs[0]),e.thumbs={},e.validateSKUs().then(function(t){e.setTangibleeParams(t),e.onSKUsValidated(t.exists,t.products);var i=[];for(var o in t.products)t.exists[o]&&i.push(t.products[o].id);e.analyticsPluginsIsSet||(e.analyticsSettings&&void 0!==e.analyticsSettings.useAnalyticsCookie&&tangiblee("useAnalyticsCookies",e.analyticsSettings.useAnalyticsCookie),e.onGoogleAnalyticsIsReady(e.tangibleeGA3TrackingId,e.analyticsSettings),e.analyticsPluginsIsSet=!0),i.length?(e.validSKUs=i,e.activeSKU||(e.activeSKU=i[0]),e.product=e.products[e.activeSKU],n()):e.hideCTA()})["catch"](function(e){e&&TrackJS.isInstalled()&&TrackJS.track(e.message)}))}};t.then?t.then(function(e){i(e)}):i(t)},activateABTest:function(){window.parent.postMessage(JSON.stringify({type:"qr_update",payload:{action:"image-update",show:!1}}));var t=e.validSKUs,n=e.getContainedId();if(n&&(e.activeSKU=n),t.length&&t.indexOf(e.activeSKU)>-1){e.iframe.update();var i=function(n){n&&(e.onCTAShown&&e.onCTAShown(),e.setCtaClickHandler(),"onActiveSKUChange"===e.loadIframe&&e.iframe.inject());var i=t.slice().sort(function(t){return t==e.activeSKU?-1:0});e.trackHistory(),window.tangibleeAnalytics("trackImpression",i)};window.tangibleeAnalytics("setProduct",e.product);var o=e.showCTA(e.activeSKU,e.thumbs[e.product.id]);o&&o.then?o.then(function(t){e.ctaCssClass=t,i(t)}):(e.ctaCssClass=o,i(o)),e.shouldForceWidgetOpen()&&(e.iframe.exists()?e.iframe.update():e.iframe.inject(),e.onCtaClicked({}),e.onForceWidgetOpen(e.isARAvailable),e.modal.show(e.modal.isUsed()))}else e.hideCTA()},preventDefaultOnCtaClick:function(t){e.preventDefaultOnCtaClick=t},stopPropagationOnCtaClick:function(t){e.stopPropagationOnCtaClick=t},useClickEventInsteadMousedown:function(t){e.useClickEventInsteadMousedown=t},availableModes:function(t){t&&Array.prototype.isPrototypeOf(t)&&(e.availableModes=t,e.iframe.exists()&&e.activeSKU&&e.validSKUs.indexOf(e.activeSKU)>-1&&e.iframe.update())},categoryThumbsDefault:function(t){e.categoryThumbsDefault=t},setCustomIframeSrcAttributes:function(t){var n=function(e){return e.toString().trim().replace(/[^0-9A-z]/g,"")};t instanceof Array&&t.forEach(function(t){if(t.key){var i=!1;e.customIframeSrcAttributes.forEach(function(e){e.key===n(t.key)&&(e.value=encodeURI(t.value),i=!0)}),i||e.customIframeSrcAttributes.push({key:n(t.key),value:encodeURI(t.value)})}}),e.iframe.exists()&&e.activeSKU&&e.validSKUs.indexOf(e.activeSKU)>-1&&e.iframe.update()},disableMobileScrollTop:function(t){e.disableMobileScrollTop=t},getHistoryBack:function(t){e.getHistoryBack=t},clearIframeSrcAttributes:function(){e.customIframeSrcAttributes=[],e.iframe.exists()&&e.activeSKU&&e.validSKUs.indexOf(e.activeSKU)>-1&&e.iframe.update()},skipFrameSrcUpdate:function(t){e.skipFrameSrcUpdate=t},onForceWidgetOpen:function(t){e.onForceWidgetOpen=t},onForceWidgetClose:function(t){e.onForceWidgetClose=t},isModalOpened:function(){var e=document.querySelector(".tangiblee-modal-overlay");return e&&"true"===e.getAttribute("is-showing")},setHistoryPushStateObj:function(t){e.historyPushStateObj=t}};if(Math.random()<.005&&TrackJS.install({token:"361b2d56afe74d42bc4f2b449e00b39a",application:"integration-scripts-31",console:{enabled:!1},callback:{enabled:!1},network:{enabled:!1},visitor:{enabled:!1},window:{enabled:!1,promise:!1}}),!window.tangibleeScriptLoaded){window.tangibleeScriptLoaded=!0;var d=window.tangiblee&&window.tangiblee.q||[];window.tangiblee=function(){try{for(var e=arguments[0],t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);return u[e].apply(this,t)}catch(i){i&&TrackJS.isInstalled()&&TrackJS.track(i.message)}};for(var g=!1,f=0;f<d.length;f++)"openWidget"===d[f][0]?g=d[f]:window.tangiblee.apply(this,d[f]);g&&window.tangiblee.apply(this,g),e.version="3.1.1.219",e.timeOfInit=new Date,e.iframe.messaging.startListening()}!function(){var e={config:{variation:"Tangiblee ON",variationGA4:"yes",retailer:"www.tangiblee.com",product:{category:"Default",categoryId:-1,label:"Unknown"},parseOn:!1,trackOn:!1,orderParser:!1,useCookies:"function"!=typeof tangiblee||tangiblee("useCookies")!==!1,useAnalyticsCookies:"function"!=typeof tangiblee||tangiblee("useAnalyticsCookies")!==!1,isEmbed:!1,cookieUserKey:"tangiblee:widget:user",cookieCDKey:"tangiblee_cd",trackingIdForIP:!1,isUserInitialized:!1},state:{userId:!1,sessionId:!1,sessionCount:!1,sessionEngaged:!1,plugins:{},activatedPlugins:[],timeOfInit:new Date,customDimensions:{},customMetrics:{},timeDelta:0},mailBox:{}};e.utils={},e.utils.storage={getCookie:function(e){var t,n,i=e+"=",o=document.cookie.split(";");for(t=0;t<o.length;t++){
for(n=o[t];" "===n.charAt(0);)n=n.substring(1);if(0===n.indexOf(i))return n.substring(i.length,n.length)}return""},setCookie:function(e,t,n){var i=new Date;i.setTime(i.getTime()+24*(n||365)*60*60*1e3);var o="expires="+i.toUTCString();document.cookie=e+"="+t+";"+o+";path=/; Secure;"},removeCookie:function(t){e.utils.storage.getCookie(t)&&(document.cookie=t+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT; path=/;")},setLS:function(e,t){var n="object"==typeof t?JSON.stringify(t):t;if(n.length>0)try{return localStorage.setItem(e,n),!0}catch(i){return!1}return!1},getLS:function(e){try{var t=localStorage.getItem(e);return JSON.parse(t)}catch(n){return!1}},removeLS:function(e){try{return localStorage.removeItem(e),!0}catch(t){return!1}}},e.utils.getParam=function(e){var t=function(){for(var e,t,n,i={},o=window.location.search.substring(1).split("&"),r=0;r<o.length;r++)e=o[r],t=e.split("="),n={key:t[0],value:t[1]},n.key&&(i[n.key]=n.value||"");return i},n=t();return!!n[e]&&decodeURI(n[e])},e.utils.pageChecker=function(){var t=function(e){if(!window.location||!window.location.href)return!1;var t,n,i;for(t=0;t<e.length;t++)if(n=e[t],i=!1,i="function"==typeof n?n():"function"==typeof n.test?n.test(window.location.href):window.location.href.toLowerCase().indexOf(n.toString().toLowerCase())>0)return!0;return!1};return{isParseRevenuePage:function(){return!!e.config.parseOn&&t(e.config.parseOn)},isTrackRevenuePage:function(){return!!e.config.trackOn&&t(e.config.trackOn)}}}(),e.utils.transferCookies=function(){var t=e.config.cookieUserKey,n=e.utils.getParam(encodeURIComponent(t));n&&e.utils.storage.setCookie(t,n)},e.utils.http={fetch:function(e,t,n,i,o){try{var r=new XMLHttpRequest;r.open(t,e,!0),r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.setRequestHeader("Content-Type","application/json"),r.onreadystatechange=function(){r.readyState>3&&r.status>=200&&r.status<400&&i&&i(r.responseText.length&&JSON.parse(r.responseText))},r.onerror=function(){o&&o(r.statusText)},r.send(n)}catch(a){o&&o(a)}}},e.utils.waitForConditionToMet=function(e,t){t=t||500;var n,i=0,o=function(){};return{then:function(r){return function a(){e()?(r(),"undefined"!=typeof n&&clearTimeout(n)):i++>t?(o(),"undefined"!=typeof n&&clearTimeout(n)):n=setTimeout(a,100)}(),{fail:function(e){o=e}}}}},e.utils.ready=function(e){"loading"!=document.readyState?e():document.addEventListener("DOMContentLoaded",e)},e.utils.isItMobileOrTablet=function(){var e=navigator.userAgent;return e.match(/Android/i)||e.match(/BlackBerry/i)||e.match(/iPhone|iPad|iPod/i)||e.match(/Opera Mini/i)||e.match(/IEMobile/i)},e.utils.isItTablet=function(){const e=navigator.userAgent.toLowerCase(),t=/(ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/.test(e);return t},e.utils.setUserID=function(){var t=window.crypto||window.msCrypto,n=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"===e?t:3&t|8;return n.toString(16)})},i=function(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(e){return(e^t.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)})};e.state.userId||("undefined"!=typeof t&&t.getRandomValues?e.state.userId=i():e.state.userId=n())},e.utils.setSessionId=function(t){var n=(new Date).getTime()+"";n=n.slice(0,-3);var i;if(t){var o=e.utils.storage.getCookie("_ga_"+t.slice(2));o&&(i=o.split(".")[2])}e.config.useAnalyticsCookies&&i&&!e.state.sessionId?e.state.sessionId=i:e.state.sessionId||(e.state.sessionId=n)},e.utils.setSessionCount=function(t){var n=e.utils.storage.getCookie("_ga_"+t.slice(2));if(n){var i=n.split(".")[3];e.state.sessionCount=i}},e.utils.setSessionEngaged=function(t){var n=e.utils.storage.getCookie("_ga_"+t.slice(2));if(n){var i=n.split(".")[4];e.state.sessionEngaged=i}},function(){var t="AdobeAnalytics";e.state.plugins[t]=function(t,n){var i=!1;t=t||{};var o={tangibleeEVar:!1,tangibleeSessionEVar:!1,widgetEVar:!1,widgetSessionEVar:!1,userIdEVar:!1};for(var r in o)t[r]="undefined"!=typeof t[r]?t[r]:o[r];var a=function(){if(e.mailBox[n])for(var t=0;t<e.mailBox[n].length;t++)e.mailBox[n][t]();i=!0,e.mailBox[n]=[]};return a(),{_unique_id:t._unique_id,isReady:function(){return i},activate:function(){return!0},setExperiment:function(){return!1},trackImpression:function(){s&&(s[t.tangibleeEVar]=e.config.variation,s[t.tangibleeSessionEVar]=e.config.variation,s[t.userIdEVar]=e.state.userId.split(";")[0],s.linkTrackVars=[t.tangibleeEVar,t.tangibleeSessionEVar,t.userIdEVar].join(),s.tl(!0,"o","Tangiblee Experience"))},trackWidgetOpen:function(){if(s){var e=(new Date).toISOString().substring(0,10),n="Widget Opened "+e;s[t.widgetEVar]=n,s[t.widgetSessionEVar]=n,s.linkTrackVars=[t.widgetEVar,t.widgetSessionEVar].join(),s.tl(!0,"o","Tangiblee Experience")}},trackWidgetClose:function(){return!1},trackATCClick:function(){return!1},trackATCWidgetClick:function(){return!1},trackOrder:function(e){return!1},trackCustomEvent:function(e){return!1},trackWidgetEvent:function(e){return!1},trackImpressionOnJewelryConfigurators:function(e){return!1}}}}(),function(){var t="AzureAnalytics";e.state.plugins[t]=function(t,n){var i=!1;t=t||{};var o={appKey:"b934bb02-9526-424c-b803-831e89bc8d5c"};for(var r in o)t[r]="undefined"!=typeof t[r]?t[r]:o[r];var a=function(){if(e.mailBox[n])for(var t=0;t<e.mailBox[n].length;t++)e.mailBox[n][t]();i=!0,e.mailBox[n]=[]};a(),!function(e,n,i){var o=e.location,r="script",a="instrumentationKey",s="ingestionendpoint",c="disableExceptionTracking",l="ai.device.",u="toLowerCase",d="crossOrigin",g="POST",f="appInsightsSDK",p=i.name||"appInsights";(i.name||e[f])&&(e[f]=p);var m=e[p]||function(f){function p(e,t){var n={},i="Browser";return n[l+"id"]=i[u](),n[l+"type"]=i,n["ai.operation.name"]=o&&o.pathname||"_unknown_",n["ai.internal.sdkVersion"]="javascript:snippet_"+(w.sv||w.version),{time:function(){function e(e){var t=""+e;return 1===t.length&&(t="0"+t),t}var t=new Date;return t.getUTCFullYear()+"-"+e(1+t.getUTCMonth())+"-"+e(t.getUTCDate())+"T"+e(t.getUTCHours())+":"+e(t.getUTCMinutes())+":"+e(t.getUTCSeconds())+"."+((t.getUTCMilliseconds()/1e3).toFixed(3)+"").slice(2,5)+"Z"}(),iKey:e,name:"Microsoft.ApplicationInsights."+e.replace(/-/g,"")+"."+t,sampleRate:100,tags:n,data:{baseData:{ver:2}}}}function m(n){var r,c,l,d,m,v,h,C,S,_,I;y=!0,w.queue=[],b||(b=!0,r=k,h=function(){var e={},t=f.connectionString;if(t)for(var n=t.split(";"),i=0;i<n.length;i++){var o=n[i].split("=");2===o.length&&(e[o[0][u]()]=o[1])}if(!e[s]){var r=e.endpointsuffix,a=r?e.location:null;e[s]="https://"+(a?a+".":"")+"dc."+(r||"services.visualstudio.com")}return e}(),C=h[a]||f[a]||"",S=h[s],_=S?S+"/v2/track":t.endpointUrl,(I=[]).push((c="SDK LOAD Failure: Failed to load Application Insights SDK script (See stack for details)",l=r,d=_,(v=(m=p(C,"Exception")).data).baseType="ExceptionData",v.baseData.exceptions=[{typeName:"SDKLoadFailed",message:c.replace(/\./g,"-"),hasFullStack:!1,stack:c+"\nSnippet failed to load ["+l+"] -- Telemetry is disabled\nHelp Link: https://go.microsoft.com/fwlink/?linkid=2128109\nHost: "+(o&&o.pathname||"_unknown_")+"\nEndpoint: "+d,parsedStack:[]}],m)),I.push(function(e,t,n,i){var o=p(C,"Message"),r=o.data;r.baseType="MessageData";var a=r.baseData;return a.message='AI (Internal): 99 message:"'+("SDK LOAD Failure: Failed to load Application Insights SDK script (See stack for details) ("+n+")").replace(/\"/g,"")+'"',a.properties={endpoint:i},o}(0,0,r,_)),function(t,n){if(JSON){var o=e.fetch;if(o&&!i.useXhr)o(n,{method:g,body:JSON.stringify(t),mode:"cors"});else if(XMLHttpRequest){var r=new XMLHttpRequest;r.open(g,n),r.setRequestHeader("Content-type","application/json"),r.send(JSON.stringify(t))}}}(I,_))}function v(e,t){b||setTimeout(function(){!t&&w.core||m()},500)}function h(e){for(;e.length;)!function(e){w[e]=function(){var t=arguments;y||w.queue.push(function(){w[e].apply(w,t)})}}(e.pop())}var y=!1,b=!1,w={initialize:!0,queue:[],sv:"4",version:2,config:f},k=f.url||i.src;if(k){var C=function(){var e=n.createElement(r);e.src=k;var t=i[d];return!t&&""!==t||"undefined"==e[d]||(e[d]=t),e.onload=v,e.onerror=m,e.onreadystatechange=function(t,n){"loaded"!==e.readyState&&"complete"!==e.readyState||v(0,n)},e}();i.ld<0?n.getElementsByTagName("head")[0].appendChild(C):setTimeout(function(){n.getElementsByTagName(r)[0].parentNode.appendChild(C)},i.ld||0)}try{w.cookie=n.cookie}catch(S){}var _="track",I="TrackPage",x="TrackEvent";h([_+"Event",_+"PageView",_+"Exception",_+"Trace",_+"DependencyData",_+"Metric",_+"PageViewPerformance","start"+I,"stop"+I,"start"+x,"stop"+x,"addTelemetryInitializer","setAuthenticatedUserContext","clearAuthenticatedUserContext","flush"]),w.SeverityLevel={Verbose:0,Information:1,Warning:2,Error:3,Critical:4};var A=(f.extensionConfig||{}).ApplicationInsightsAnalytics||{};if(!0!==f[c]&&!0!==A[c]){method="onerror",h(["_"+method]);var T=e[method];e[method]=function(e,t,n,i,o){var r=T&&T(e,t,n,i,o);return!0!==r&&w["_"+method]({message:e,url:t,lineNumber:n,columnNumber:i,error:o}),r},f.autoExceptionInstrumented=!0}return w}(i.cfg);(e[p]=m).queue&&0===m.queue.length&&m.trackPageView({})}(window,document,{src:"https://az416426.vo.msecnd.net/scripts/b/ai.2.min.js",name:"tngAppInsights",cfg:{instrumentationKey:t.appKey}});var s=function(e,t){tngAppInsights.trackEvent({name:e})};return{_unique_id:t._unique_id,isReady:function(){return i},activate:function(){return!0},setExperiment:function(){return!1},trackImpression:function(){s("impression")},trackWidgetOpen:function(){s("open widget")},trackWidgetClose:function(){s("close widget")},trackATCClick:function(){s("ATC")},trackATCWidgetClick:function(){s("ATC Widget")},trackOrder:function(e){s("Conversion")},trackCustomEvent:function(e){s(e.action)},trackWidgetEvent:function(e){return!1},trackImpressionOnJewelryConfigurators:function(e){return!1}}}}(),function(){var t="ConvertAnalytics",n="Convert";e.state.plugins[t]=function(t,i){var o=!1;t=t||{};var r={convertPDPImpression:!1,convertWidgetOpenGoal:!1,convertATCGoal:!1,convertATCWidgetGoal:!1,convertConversionGoal:!1,convertRevenueGoal:!1};for(var a in r)t[a]="undefined"!=typeof t[a]?t[a]:r[a];var s=function(){if(e.mailBox[i])for(var t=0;t<e.mailBox[i].length;t++)e.mailBox[i][t]();o=!0,e.mailBox[i]=[]};s();var c=function(e){window._conv_q=window._conv_q||[],window._conv_q.push(["triggerConversion",e])},l=function(e){var t=document.createElement("script"),n=document.getElementsByTagName("script")[0];t.async=!0,t.src="//cdn-4.convertexperiments.com/js/"+e.accountId+"-"+e.projectId+".js",t.onload=function(){e.onload()},n.parentNode.insertBefore(t,n)},u=function(e){l({accountId:e.accountId,projectId:e.projectId,onload:function(){window.tngRunExperiment=1,window._conv_q=window._conv_q||[],window._conv_q=window._conv_q||[],window._conv_q.push({what:"addListener",params:{event:"experience.activated",handler:function(t){if(t.data.experience_id===e.experimentId){var i=t.data.variation_id;e.onExperimentReady(n,i)}}}}),window._conv_q.push(["executeExperiment",e.experimentId])}})};return{_unique_id:t._unique_id,isReady:function(){return o},activate:function(){return!0},setExperiment:function(e){e.provider===n&&t.runExperiment&&u(e)},trackImpression:function(){t.convertPDPImpression&&c(t.convertPDPImpression)},trackWidgetOpen:function(){t.convertWidgetOpenGoal&&c(t.convertWidgetOpenGoal)},trackWidgetClose:function(){return!1},trackATCClick:function(){t.convertATCGoal&&c(t.convertATCGoal)},trackATCWidgetClick:function(){t.convertATCWidgetGoal&&c(t.convertATCWidgetGoal)},trackOrder:function(e){t.convertRevenueGoal&&e&&0!==e.total&&(window._conv_q=window._conv_q||[],e.id=e.id||(new Date).getTime(),window._conv_q.push(["pushRevenue",e.total,e.items.length,t.convertRevenueGoal]))},trackCustomEvent:function(){return!1},trackWidgetEvent:function(e){return!1},trackImpressionOnJewelryConfigurators:function(e){return!1}}}}(),function(){var t="DataLayerAnalytics";e.state.plugins[t]=function(t,n){var i=!1;t=t||{};var o={singleEvent:!1,singleEventName:"tangiblee_interaction",isAvailable:!1};for(var r in o)t[r]="undefined"!=typeof t[r]?t[r]:o[r];var a=function(){if(e.mailBox[n])for(var t=0;t<e.mailBox[n].length;t++)e.mailBox[n][t]();i=!0,e.mailBox[n]=[]};return a(),{_unique_id:t._unique_id,isReady:function(){return i},activate:function(){return!0},setExperiment:function(){return!1},trackImpression:function(n){if(!t.isAvailable||t.isAvailable())if(t.singleEvent){var i="|cn:"+e.config.product.category+"|cid:"+e.config.product.categoryId,o={event:t.singleEventName,event_action:"tangiblee impression"};e.config.product.id&&(o.event_label=e.config.product.id),o.event_label=o.event_label+i,dataLayer&&dataLayer.push(o)}else dataLayer&&dataLayer.push({event:"Tangiblee Impression"})},trackWidgetOpen:function(){if(!t.isAvailable||t.isAvailable()){var n=(new Date).toISOString().substring(0,10),i="Widget Opened "+n;if(dataLayer)if(t.singleEvent){var o="|cn:"+e.config.product.category+"|cid:"+e.config.product.categoryId,r={event:t.singleEventName,event_action:"tangiblee open",tangiblee_widget:i};e.config.product.id&&(r.event_label=e.config.product.id),r.event_label=r.event_label+o,dataLayer&&dataLayer.push(r)}else dataLayer.push({TangibleeOpen:i}),dataLayer.push({event:"Tangiblee Open"})}},trackWidgetClose:function(){return!1},trackATCClick:function(){return!1},trackATCWidgetClick:function(){if(!t.isAvailable||t.isAvailable())if(t.singleEvent){var n="|cn:"+e.config.product.category+"|cid:"+e.config.product.categoryId,i={event:t.singleEventName,event_action:"tangiblee add to cart"};e.config.product.id&&(i.event_label=e.config.product.id),i.event_label=i.event_label+n,dataLayer&&dataLayer.push(i)}else dataLayer&&dataLayer.push({event:"Tangiblee ATC"})},trackOrder:function(e){return!1},trackCustomEvent:function(){return!1},trackWidgetEvent:function(e){return!1},trackImpressionOnJewelryConfigurators:function(e){return!1}}}}(),function(){var t="DataLayerClientAnalytics";e.state.plugins[t]=function(t,n){var i=!1;t=t||{};var o={dataLayer:"dataLayer",impressionEventName:!1,eventName:"trackEvent",eventCategory:"Tangiblee Experience",eventImpressionAction:"Tangiblee Impression",eventOpenAction:"Tangiblee Open",eventAltOpenAction:"Tangiblee Open AR",eventATCAction:"Tangiblee Add To Cart",ecommerceFetcher:!1,customTangibleeDimension:!1,customWidgetDimension:!1,customWidgetSessionDimension:!1,customTangibleeSessionDimension:!1,customTangibleeUserDimension:!1,isAvailable:!1};for(var r in o)t[r]="undefined"!=typeof t[r]?t[r]:o[r];var a=function(){if(e.mailBox[n])for(var t=0;t<e.mailBox[n].length;t++)e.mailBox[n][t]();i=!0,e.mailBox[n]=[]};return a(),{_unique_id:t._unique_id,isReady:function(){return i},activate:function(){return!0},setExperiment:function(){return!1},trackImpression:function(n){var i="|cn:"+e.config.product.category+"|cid:"+e.config.product.categoryId,o={event:t.impressionEventName||t.eventName,eventAction:t.eventImpressionAction,eventLabel:n[0]+i,nonInteraction:1};t.eventCategory&&(o.eventCategory=t.eventCategory),t.customTangibleeDimension&&(o["dimension"+t.customTangibleeDimension]=e.config.variation),t.customTangibleeSessionDimension&&(o["dimension"+t.customTangibleeSessionDimension]=e.config.variation),t.customTangibleeUserDimension&&(o["dimension"+t.customTangibleeUserDimension]=e.state.userId.split(";")[0]),window[t.dataLayer]&&window[t.dataLayer].push(o)},trackWidgetOpen:function(){if(!t.isAvailable||t.isAvailable()){var n=(new Date).toISOString().substring(0,10),i="Widget Opened "+n,o="|cn:"+e.config.product.category+"|cid:"+e.config.product.categoryId,r={event:t.eventName,eventAction:t.eventOpenAction,nonInteraction:1};t.eventCategory&&(r.eventCategory=t.eventCategory),e.config.product.id&&(r.eventLabel=e.config.product.id+o),t.customWidgetDimension&&(r["dimension"+t.customWidgetDimension]=i),t.customWidgetSessionDimension&&(r["dimension"+t.customWidgetSessionDimension]=i),window[t.dataLayer]&&window[t.dataLayer].push(r)}},trackWidgetClose:function(){return!1},trackATCClick:function(){return!1},trackATCWidgetClick:function(){if(t.eventATCAction){var e={event:t.eventName,eventAction:t.eventATCAction,nonInteraction:1};t.eventCategory&&(e.eventCategory=t.eventCategory),t.ecommerceFetcher&&(e={event:t.eventATCAction,ecommerce:t.ecommerceFetcher()}),window[t.dataLayer]&&window[t.dataLayer].push(e)}},trackOrder:function(e){return!1},trackCustomEvent:function(){return!1},trackWidgetEvent:function(e){return!1},trackImpressionOnJewelryConfigurators:function(e){return!1}}}}(),function(){var t="GoogleAnalytics",n="GoogleOptimize";e.state.plugins[t]=function(t,i){var o=!1;t=t||{};var r="tng_"+e.config.retailer.replace(/[^0-9a-z]/gi,"_"),a="tangiblee",s={disableCallerEvents:!1,trackingId:!1,inPageAnalytics:!1,trackerName:t.useCustomerTrackingId?r:a,page:!1,useCustomerTrackingId:!1,googleAnalyticsObject:!1,ecommerceTracking:!t.useCustomerTrackingId,enhancedEcommerce:!1,runExperiment:!1,forceGaScriptInjecting:!1,customTangibleeDimension:1,customWidgetDimension:2,customWidgetSessionDimension:3,customTangibleeSessionDimension:4,customTangibleeUserDimension:5,customTangibleeFlowDimension:6,isAvailable:!1,isManualActivation:!1,flowATCDependandStep:4,clientEventsPrefix:t.useCustomerTrackingId?"Tangiblee Experience":"Client",sendHitLog:!1,additionDimensions:[]};for(var c in s)t[c]="undefined"!=typeof t[c]?t[c]:s[c];var l="",u=function(e){var t=new Date,n=t.getFullYear(),i=t.getMonth()+1,o=t.getDate(),r=t.getHours(),a=t.getMinutes(),s=t.getSeconds(),c=Math.floor(t.getMilliseconds()/100);return""+e+"-"+n+"-"+i+"-"+o+"T"+r+":"+a+":"+s+":"+c},d=function(){return t.isAvailable&&!t.isAvailable()?function(){}:"function"==typeof t.googleAnalyticsObject?t.googleAnalyticsObject():window[t.googleAnalyticsObject||"ga"]},g=function(e){if(t.forceGaScriptInjecting&&"function"!=typeof t.googleAnalyticsObject&&!d()){window[t.googleAnalyticsObject||"ga"]=function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date;var n=document.createElement("script"),i=document.getElementsByTagName("script")[0];return n.async=1,n.src="https://www.google-analytics.com/analytics.js",n.onload=function(){e()},void i.parentNode.insertBefore(n,i)}if(d())e();else var o=setInterval(function(){d()&&(clearInterval(o),e())},500)},f=function(){if(l=""===t.trackerName?"":t.trackerName+".",!t.inPageAnalytics){var n={name:t.trackerName,cookieDomain:t.useCustomerTrackingId?"auto":document.location.hostname};if(t.useCustomerTrackingId||(n.cookieName="_ga_tng",n.cookieExpires=31536e3,n.cookieFlags="SameSite=None; Secure",e.state.userId&&(n.clientId=e.state.userId.split(";")[0])),d()("create",t.trackingId,n),t.sendHitLog){var i=function(t,n){var i=t.get("sendHitTask");t.set("sendHitTask",function(t){i(t);var n=decodeURIComponent(t.get("hitPayload"));if(n.indexOf("Client Impression")>-1||n.indexOf("Client Open")>-1){var o=n.indexOf("Client Impression")>-1?"Client Impression":"Client Open",r=new Date(new Date-e.state.timeDelta).toISOString(),a="https://anapi.tangiblee.com/api/Register/LogEvent?Domain="+e.config.retailer+"&EventAction="+encodeURIComponent(o)+"&Category="+encodeURIComponent(e.config.product.category+" - "+e.config.product.categoryId)+"&ExternId="+e.config.product.id+(e.state.userId?"&User="+encodeURIComponent(e.state.userId):"")+"&eventTime="+encodeURIComponent(r)+"&Origin=sendHitTask";e.utils.http.fetch(a,"POST")}})};d()("provide","localHitSender",i),d()(l+"require","localHitSender")}d()(l+"set","anonymizeIp",!0),t.page&&d()(l+"set","page",t.page)}t.ecommerceTracking&&(t.enhancedEcommerce?d()(l+"require","ec"):d()(l+"require","ecommerce"))},p=function(e){d()(l+"require",e.optimizeContainerId);var t=e.customDataLayerObject||window.dataLayer||[],i=function(){t.push(arguments)},o=function(t){e.onExperimentReady(n,t)};i("event","optimize.callback",{name:e.optimizeExperimentId,callback:o})},m=!0,v=function(n,i,o,r,a,s){!t.useCustomerTrackingId&&m&&(m=!1,d()(l+"send","pageview"));var c=!!t.nonInteractionAlwaysTrue||!a,u="|cn:"+e.config.product.category+"|cid:"+e.config.product.categoryId;(t.inPageAnalytics||t.useCustomerTrackingId)&&(n="Tangiblee Experience",s||(o+=u)),e.config.isEmbed&&(o+="|isEmbed:yes"),d()(l+"send","event",n,i,o,r,{nonInteraction:c})},h=function(e){for(var n=0;n<t.additionDimensions.length;n++){var i=t.additionDimensions[n],o=i.slot,r=i.dimensionValue;d()(l+"set","dimension"+o,r)}for(var n=0;n<e.length;n++){var i=e[n];if(i.slot){var o=i.slot,r=i.dimensionValue;d()(l+"set","dimension"+o,r)}}},y=function(){t.useCustomerTrackingId&&g(function(){if(f(),e.mailBox[i])for(var t=0;t<e.mailBox[i].length;t++)e.mailBox[i][t]();o=!0,e.mailBox[i]=[]})};return t.isManualActivation||y(),{_unique_id:t._unique_id,activate:function(){y()},isReady:function(){return o},setExperiment:function(e){e.provider===n&&t.runExperiment&&p(e)},trackImpression:function(){h([{slot:t.customTangibleeDimension,dimensionValue:e.config.variation},{slot:t.customTangibleeSessionDimension,dimensionValue:e.config.variation},{slot:t.customTangibleeUserDimension,dimensionValue:e.state.userId.split(";")[0]}]),v(e.config.product.category+" - "+e.config.product.categoryId,t.clientEventsPrefix+" Impression",e.config.product.label,1,!1)},trackWidgetOpen:function(){var n=(new Date).toISOString().substring(0,10),i="Widget Opened "+n;h([{slot:t.customWidgetDimension,dimensionValue:i},{slot:t.customWidgetSessionDimension,dimensionValue:i}]),v(e.config.product.category+" - "+e.config.product.categoryId,t.clientEventsPrefix+" Open",e.config.product.label,1,!0)},trackWidgetClose:function(){return!1},trackATCClick:function(){v(e.config.product.category+" - "+e.config.product.categoryId,t.clientEventsPrefix+" ATC",e.config.product.label,1,!0)},trackATCWidgetClick:function(){v(e.config.product.category+" - "+e.config.product.categoryId,t.clientEventsPrefix+" ATC Widget",e.config.product.label,1,!0)},trackOrder:function(n){if(!t.inPageAnalytics){v("Order Tracking",t.clientEventsPrefix+" Conversion",e.state.userId,n&&n.total||1,!1),n.id=n.id||u(e.config.variation);var i,o;if(t.enhancedEcommerce){for(d()(l+"set","currencyCode",n.currency||"USD"),i=0;i<n.items.length;i++)o=n.items[i],d()(l+"ec:addProduct",{id:o.sku||o.name,name:o.name,category:o.category||"",price:o.price,quantity:o.qty});d()(l+"ec:setAction","purchase",{id:n.id,affiliation:e.config.retailer,revenue:n.total})}else{for(d()(l+"ecommerce:addTransaction",{id:n.id,affiliation:e.config.retailer,revenue:n.total,currency:n.currency||"USD"}),i=0;i<n.items.length;i++)o=n.items[i],d()(l+"ecommerce:addItem",{id:n.id,name:o.name,sku:o.sku||o.name,category:o.category||"",price:o.price,quantity:o.qty,currency:n.currency||"USD"});d()(l+"ecommerce:send")}v("Tracking","Order",n.id,Math.round(n.total),!1)}},trackCustomEvent:function(n){var i=t.inPageAnalytics||t.useCustomerTrackingId;if(!i||!n.tngGAOnly){var o=!n.retailer_additional_dims||n.retailer_additional_dims&&i;if(o&&n.dimensions){for(var r=[],a=0;a<n.dimensions.length;a++)r.push({slot:n.dimensions[a].index,dimensionValue:n.dimensions[a].value});h(r)}v(n.category||e.config.product.category+" - "+e.config.product.categoryId,n.action,n.label,n.value||1,n.isInteraction,!0)}},trackWidgetEvent:function(e){return!1},trackImpressionOnJewelryConfigurators:function(e){return!1}}}}(),function(){var t="GoogleAnalytics4",n="GoogleOptimize";e.state.plugins[t]=function(t,i){function o(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"===e?t:3&t|8;return n.toString(16)})}function r(){clearTimeout(t.timer),t.timer=setTimeout(function(){c(),t.timer=null},3e4)}function a(){window[t.currentDataLayerName].push(arguments)}function s(){t.isCustomerGA&&t.gtmConfig.enabled&&!t.isGTMPingEnable||(t.isCustomerGA?t.isCustomerGA&&(t.clientIntervalId&&clearInterval(t.clientIntervalId),t.clientIntervalId=setInterval(function(){var n={send_to:t.trackingId,tng_sku:e.config.product.id,tng_sku_category_name:e.config.product.category,tng_sku_category_id:""+e.config.product.categoryId,tng_scope:"widget"};l("event",t.eventPingAction,n)},5e3)):(t.tngIntervalId&&clearInterval(t.tngIntervalId),t.tngIntervalId=setInterval(function(){var n={send_to:t.trackingId,tng_sku:e.config.product.id,tng_sku_category_name:e.config.product.category,tng_sku_category_id:""+e.config.product.categoryId,tng_scope:"widget"};l("event",t.eventPingAction,n)},5e3)))}function c(){t.isCustomerGA&&t.clientIntervalId?clearInterval(t.clientIntervalId):!t.isCustomerGA&&t.tngIntervalId&&clearInterval(t.tngIntervalId)}function l(e,n,i){if(t.gtmConfig.enabled){if("js"===e||"config"===e||"set"===e)return;var o=i;switch(o.event_action=n,n){case"tng_impressed_direct":o.event=t.gtmConfig.events.impressed;break;case"tng_interacted_direct":o.event=t.gtmConfig.events.interacted;break;case"tng_session_pinged_direct":o.event="tng_session_pinged"}o.send_to&&delete o.send_to,window[t.currentDataLayerName].push(o)}else window[t.currentDataLayerName].push(arguments)}var u=!1;t=t||{};var d={isDebugMode:!1,trackingId:!1,isFirstImpression:!0,eventImpressionAction:"tng_impressed_direct",eventFirstImpressionAction:"tng_first_cta_displayed_direct",eventOpenAction:"tng_interacted_direct",eventATCAction:"tng_item_added_to_cart_direct",eventTYPVisitAction:"tng_thank_you_page_visited_direct",eventPingAction:"tng_session_pinged_direct",eventPurchase:"purchase",isAvailable:!0,ecommerceTracking:!0,currentDataLayerName:"tngDataLayer",isManualActivation:!1,isFirstOpen:!0,cookieLastOpenWidget:"tangiblee_widget_open_last_date",gtagConfig:{debug_mode:t.isDebugMode||!1},sendGAEventsDirectly:!0,sendReducedEventSetToClientGA:!0,isCustomerGA:!1,runExperiment:!1,gtmConfig:{enabled:!1,events:{impressed:"tng_impressed",interacted:"tng_interacted"}},isGTMPingEnable:!1,timer:null,isWidgetOpen:!1,tngIntervalId:null,clientIntervalId:null,isDisabledConfigEvent:!1,tng_mode:""};for(var g in d)t[g]="undefined"!=typeof t[g]?t[g]:d[g];window[t.currentDataLayerName]=window[t.currentDataLayerName]||[];var f=function(t,n,i){var o=new Date(new Date-e.state.timeDelta).toISOString(),r="https://anapi.tangiblee.com/api/v2/collect/event?"+(t?"sku="+t:"")+"&domain="+e.config.retailer+"&eventTime="+encodeURIComponent(o)+(n?"&gaEventName="+n:"")+(i?"&params[extern_id_variation]="+i:"");return r},p=function(){if(t.isCustomerGA)t.isDisabledConfigEvent||l("config",t.trackingId,{send_page_view:!1});else{var e=document.createElement("script"),n=document.getElementsByTagName("script")[0];e.async=1,e.src="https://www.googletagmanager.com/gtag/js?id="+t.trackingId+"&l="+t.currentDataLayerName,n.parentNode.insertBefore(e,n),l("js",new Date),l("config",t.trackingId,t.gtagConfig)}},m=function(){if(p(),e.mailBox[i])for(var t=0;t<e.mailBox[i].length;t++)e.mailBox[i][t]();u=!0,e.mailBox[i]=[]};return!t.isManualActivation&&t.sendGAEventsDirectly&&m(),{isReady:function(){return u},activate:function(){t.sendGAEventsDirectly&&m()},setExperiment:function(e){if(e.provider===n&&t.runExperiment){var i=document.createElement("script"),o=document.getElementsByTagName("script")[0];i.async=1,i.onload=function(){var i=function(t){e.onExperimentReady(n,t)};a("event","optimize.callback",{name:e.optimizeExperimentId,callback:i}),window[t.currentDataLayerName].push({event:"tng.activate"})},i.src="https://www.googleoptimize.com/optimize.js?id="+e.optimizeContainerId+"&l="+t.currentDataLayerName,o.parentNode.insertBefore(i,o)}},trackImpression:function(n){var i=e.utils.storage.getCookie(t.cookieLastOpenWidget),o=new Date-e.state.timeOfInit,r={send_to:t.trackingId,tng_sku:e.config.product.id,tng_sku_category_name:e.config.product.category,tng_sku_category_id:""+e.config.product.categoryId,tng_is_on:e.config.variationGA4,tng_scope:"hit",tng_widget_container:e.config.isEmbed?"embed":"popup"},a={send_to:t.trackingId,tng_sku:e.config.product.id,tng_sku_category_name:e.config.product.category,tng_sku_category_id:""+e.config.product.categoryId,tng_scope:"page",tng_widget_container:e.config.isEmbed?"embed":"popup",tng_metric:o};if(i&&(r.tng_interacted_last_date=i),l("set","user_properties",{tng_user_is_on:e.config.variationGA4}),l("event",t.eventImpressionAction,r),t.isFirstImpression){var s=[],c=0;if(n.forEach(function(t){if(c<=1700)s.push(t),c+=t.length;else if(c>1700){var n=f(s.join(),"tng_impressed",null);e.utils.http.fetch(n,"POST"),c=0,s=[],s.push(t),c+=t.length}}),c>0){var u=f(s.join(),"tng_impressed",null);e.utils.http.fetch(u,"POST")}t.isCustomerGA||l("event",t.eventFirstImpressionAction,a),t.isFirstImpression=!1}},trackWidgetOpen:function(){t.isWidgetOpen=!0;var n=(new Date).toISOString().substring(0,10),i=n,o={send_to:t.trackingId,tng_sku:e.config.product.id,tng_sku_category_name:e.config.product.category,tng_sku_category_id:""+e.config.product.categoryId,tng_is_on:e.config.variationGA4,tng_scope:"hit",tng_widget_container:e.config.isEmbed?"embed":"popup"},a={send_to:t.trackingId,tng_sku:e.config.product.id,tng_sku_category_name:e.config.product.category,tng_sku_category_id:""+e.config.product.categoryId,tng_is_on:e.config.variationGA4,tng_scope:"page",tng_widget_container:e.config.isEmbed?"embed":"popup"};t.gtmConfig.enabled&&(o.tng_user_interacted_date=i),l("set","user_properties",{tng_user_interacted_date:i}),l("event",t.eventOpenAction,o),t.isFirstOpen&&(l("event",t.eventOpenAction,a),t.isFirstOpen=!1),e.utils.storage.setCookie(t.cookieLastOpenWidget,i),null===t.timer&&s(),r()},trackWidgetClose:function(){t.isWidgetOpen=!1,c(),clearTimeout(t.timer),t.timer=null},trackATCClick:function(){var n={send_to:t.trackingId,tng_sku:e.config.product.id,tng_sku_category_name:e.config.product.category,tng_sku_category_id:""+e.config.product.categoryId,tng_is_on:e.config.variationGA4,tng_scope:"page",tng_widget_container:e.config.isEmbed?"embed":"popup"};t.tng_mode&&(n.tng_mode=t.tng_mode),l("event",t.eventATCAction,n)},trackATCWidgetClick:function(n){null===t.timer&&s(),r();var i={send_to:t.trackingId,tng_sku:e.config.product.id,tng_sku_category_name:e.config.product.category,tng_sku_category_id:""+e.config.product.categoryId,tng_is_on:e.config.variationGA4,tng_scope:"widget",tng_widget_container:e.config.isEmbed?"embed":"popup"};t.tng_mode&&(i.tng_mode=t.tng_mode),n.atcTitle&&(t.atcTitle=n.atcTitle,i.tng_cta_title=n.atcTitle),n.variants&&n.variants.length>0&&(i.tng_items_ids=n.variants.join()),l("event",t.eventATCAction,i)},trackOrder:function(n){if(t.ecommerceTracking){for(var i=[],r=0;r<n.items.length;r++){var a=n.items[r],s={item_id:a.sku,item_name:a.name,price:a.price,quantity:a.qty};i.push(s)}l("event",t.eventPurchase,{send_to:t.trackingId,currency:n.currency,transaction_id:n.id||o(e.config.variationGA4),items:i,value:n.total})}},trackCustomEvent:function(n){if(!t.isCustomerGA||!n.tngGAOnly){var i={send_to:t.trackingId};if("TYP Visit"!==n.action&&(i.tng_is_on=e.config.variationGA4),n.dimensions)for(var o=0;o<n.dimensions.length;o++)i[n.dimensions[o].index]=n.dimensions[o].value;return"TYP Visit"===n.action?void l("event",t.eventTYPVisitAction,i):void l("event",n.action,i)}},trackWidgetEvent:function(n){if(!(t.isCustomerGA&&t.gtmConfig.enabled||t.isCustomerGA&&t.sendReducedEventSetToClientGA)){"tng_mode_switched"===n.eventName&&(t.tng_mode=n.dimension?n.dimension:""),null===t.timer&&t.isWidgetOpen&&s(),t.isWidgetOpen&&r();var i={send_to:t.trackingId,tng_sku:n.product&&n.product.id||e.config.product.id,tng_sku_category_name:n.product&&n.product.category.name||e.config.product.category,tng_sku_category_id:n.product&&n.product.category.id||""+e.config.product.categoryId,tng_is_on:e.config.variationGA4,tng_scope:"widget",tng_widget_container:e.config.isEmbed?"embed":"popup"};n.item&&(n.item.name?i.tng_item_name=n.item.name:"",n.item.id?i.tng_item_id=n.item.id:""),n.dimension&&(n.dimension?i.tng_dimension=n.dimension:""),n.itemType&&(n.itemType?i.tng_item_type=n.itemType:""),("tng_item_stacked"===n.eventName||"tng_item_unstacked"===n.eventName&&n.optionalParams)&&(n.optionalParams.ids?i.tng_items_ids=n.optionalParams.ids:"",n.optionalParams.names?i.tng_items_names=n.optionalParams.names:""),
n.eventName.indexOf("tng_arclip")>-1&&(n.optionalParams.time?i.tng_metric=1e3*+n.optionalParams.time:""),("tng_human_height_changed"===n.eventName||"tng_human_size_changed"===n.eventName&&n.optionalParams)&&(n.optionalParams.name?i.tng_item_type=n.optionalParams.name:""),l("event",n.eventName,i)}},trackImpressionOnJewelryConfigurators:function(t){var n=t.variation?t.variation:"",i=f(e.config.product.id,"tng_impressed",n);e.utils.http.fetch(i,"POST")}}}}(),function(){var t="GoogleClientAnalytics",n="GoogleOptimize";e.state.plugins[t]=function(t,i){var o=!1;t=t||{};var r={trackingId:!1,inPageAnalytics:!1,trackerName:"tng",useCustomerTrackingId:!1,googleAnalyticsObject:!1,runExperiment:!1,forceGaScriptInjecting:!1,customTangibleeDimension:1,customWidgetDimension:2,customWidgetSessionDimension:3,customTangibleeSessionDimension:4,customTangibleeUserDimension:5,customTangibleeFlowDimension:6,isAvailable:!1,isManualActivation:!1,eventsCategory:"Tangiblee Experience",eventsImpressionAction:"Impression",eventsOpenAction:"Open",eventsATCAction:"Add To Cart"};for(var a in r)t[a]="undefined"!=typeof t[a]?t[a]:r[a];var s="",c=function(){return t.isAvailable&&!t.isAvailable()?function(){}:"function"==typeof t.googleAnalyticsObject?t.googleAnalyticsObject():window[t.googleAnalyticsObject||"ga"]},l=function(e){if(t.forceGaScriptInjecting&&"function"!=typeof t.googleAnalyticsObject&&!c()){window[t.googleAnalyticsObject||"ga"]=function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date;var n=document.createElement("script"),i=document.getElementsByTagName("script")[0];return n.async=1,n.src="https://www.google-analytics.com/analytics.js",n.onload=function(){e()},void i.parentNode.insertBefore(n,i)}if(c())e();else var o=setInterval(function(){c()&&(clearInterval(o),e())},500)},u=function(){if(s=""===t.trackerName?"":t.trackerName+".",!t.inPageAnalytics){var n={name:t.trackerName,cookieDomain:t.useCustomerTrackingId?"auto":document.location.hostname};t.useCustomerTrackingId||(n.cookieName="_ga_tng",n.cookieExpires=31536e3,n.cookieFlags="SameSite=None; Secure",e.state.userId&&(n.clientId=e.state.userId.split(";")[0])),c()("create",t.trackingId,n),c()(s+"set","anonymizeIp",!0)}},d=function(e){c()(s+"require",e.optimizeContainerId);var t=e.customDataLayerObject||window.dataLayer||[],i=function(){t.push(arguments)},o=function(t){e.onExperimentReady(n,t)};i("event","optimize.callback",{name:e.optimizeExperimentId,callback:o})},g=!0,f=function(n,i,o,r,a,l){!t.useCustomerTrackingId&&g&&(g=!1,c()(s+"send","pageview"));var u=!!t.nonInteractionAlwaysTrue||!a,d="|cn:"+e.config.product.category+"|cid:"+e.config.product.categoryId;l||(o+=d),c()(s+"send","event",n,i,o,r,{nonInteraction:u})},p=function(e){for(var t="",n=0;n<e.length;n++){var i=e[n];if(i.slot){var o=i.slot,r=i.dimensionValue;c()(s+"set","dimension"+o,r),t+="dimension"+o+"-"+r+";"}}},m=function(){l(function(){if(u(),e.mailBox[i])for(var t=0;t<e.mailBox[i].length;t++)e.mailBox[i][t]();o=!0,e.mailBox[i]=[]})};return t.isManualActivation||m(),{_unique_id:t._unique_id,activate:function(){m()},isReady:function(){return o},setExperiment:function(e){e.provider===n&&t.runExperiment&&d(e)},trackImpression:function(){p([{slot:t.customTangibleeDimension,dimensionValue:e.config.variation},{slot:t.customTangibleeSessionDimension,dimensionValue:e.config.variation},{slot:t.customTangibleeUserDimension,dimensionValue:e.state.userId.split(";")[0]}]),f(t.eventsCategory,t.eventsImpressionAction,e.config.product.category,1,!1)},trackWidgetOpen:function(){var n=(new Date).toISOString().substring(0,10),i="Widget Opened "+n;p([{slot:t.customWidgetDimension,dimensionValue:i},{slot:t.customWidgetSessionDimension,dimensionValue:i}]),f(t.eventsCategory,t.eventsOpenAction,e.config.product.category,1,!1)},trackWidgetClose:function(){return!1},trackATCClick:function(){return!1},trackATCWidgetClick:function(){f(t.eventsCategory,t.eventsATCAction,e.config.product.category,1,!1)},trackOrder:function(e){return!1},trackCustomEvent:function(e){var n=t.inPageAnalytics||t.useCustomerTrackingId,i=!e.retailer_additional_dims||e.retailer_additional_dims&&n;if(i&&e.dimensions){for(var o=[],r=0;r<e.dimensions.length;r++)o.push({slot:e.dimensions[r].index,dimensionValue:e.dimensions[r].value});p(o)}f(e.category,e.action,e.label,e.value||1,!1,!0)},trackWidgetEvent:function(e){return!1},trackImpressionOnJewelryConfigurators:function(e){return!1}}}}(),function(){var t="InfoPortalAnalytics";e.state.plugins[t]=function(t,n){var i=!1;t=t||{};var o={analyticsUrl:"https://info.tangiblee.com",trackingId:!1,isManualActivation:!1};for(var r in o)t[r]="undefined"!=typeof t[r]?t[r]:o[r];e.config.trackingIdForIP=t.trackingId;var a=function(){};t.isManualActivation||a();var s=function(e){if(t.trackingId){var n=t.trackingId(),i=[];for(var o in n)i.push(e);e=i.join(";")}return e},c=function(){if(!t.trackingId)return"";var e=t.trackingId(),n=[];for(var i in e)e[i]&&n.push(i);return n.length>0?"&trackingId="+n.join(","):""},l=function(n){var i=e.state.buttonDisplayedAt-e.state.timeOfInit,o=t.analyticsUrl+"/api/registertimetobutton/"+n+"?domain="+encodeURIComponent(e.config.retailer)+(e.state.userId?"&user="+encodeURIComponent(s(e.state.userId)):"")+"&time="+i+c();e.utils.http.fetch(o,"POST")};return{_unique_id:t._unique_id,isReady:function(){return i},activate:function(){a()},setExperiment:function(){return!1},trackImpression:function(n){e.state.buttonDisplayedAt=new Date;var i=t.analyticsUrl+"/api/regimpr?ids="+n.join()+"&domain="+e.config.retailer+"&platformType=auto"+(e.state.userId?"&user="+encodeURIComponent(s(e.state.userId)):"")+("1"===e.utils.getParam("xtng_fake")?"&fake=suppressimpression":"")+c();e.utils.http.fetch(i,"POST"),l(n[0])},trackWidgetOpen:function(){var n=e.state.buttonDisplayedAt?new Date-e.state.buttonDisplayedAt:0;e.state.buttonDisplayedAt=null;var i=t.analyticsUrl+"/api/RegisterOpen/"+encodeURIComponent(e.config.product.id)+"?domain="+e.config.retailer+"&timeToOpen="+n+(e.state.userId?"&user="+encodeURIComponent(s(e.state.userId)):"")+c();e.utils.http.fetch(i,"POST"),e.utils.storage.setLS("tangiblee:widget:opened","true")},trackWidgetClose:function(){return!1},trackATCClick:function(){return!1},trackATCWidgetClick:function(){return!1},trackOrder:function(e){return!1},trackCustomEvent:function(){return!1},trackWidgetEvent:function(e){return!1},trackImpressionOnJewelryConfigurators:function(e){return!1}}}}(),function(){var t="InfoPortalAnalyticsForGA4";e.state.plugins[t]=function(t,n){var i=!1;t=t||{};var o={analyticsUrl:"https://anapi.tangiblee.com/",eventDefaultEndpoint:"api/v2/collect/event?",trackingId:!1,isManualActivation:!1,eventImpressionAction:"tng_impressed",eventFirstImpressionAction:"tng_first_cta_displayed",eventOpenAction:"tng_interacted",eventATCAction:"tng_item_added_to_cart",isFirstOpen:!0,isFirstImpression:!0,connectedClientGA:!1,cookieLastOpenWidget:"tangiblee_widget_open_last_date",sendGAEventsViaInfoPortal:!0,userId:""};for(var r in o)t[r]="undefined"!=typeof t[r]?t[r]:o[r];var a=null,s=function(){if(t.userId=e.state.userId,e.utils.setSessionId(t.trackingId),e.utils.setSessionCount(t.trackingId),e.utils.setSessionEngaged(t.trackingId),e.config.useAnalyticsCookies&&t.userId.split(";").length>1?t.userId=t.userId.split(";")[1]:t.userId=t.userId.split(";")[0],e.mailBox[n])for(var o=0;o<e.mailBox[n].length;o++)e.mailBox[n][o]();i=!0,e.mailBox[n]=[]};!t.isManualActivation&&t.sendGAEventsViaInfoPortal&&s();var c=function(t){for(var n="",i=0;i<t.length;i++){var o=t[i];if(o.eventDimensionName){var r=o.eventDimensionName,a=decodeURIComponent(o.eventDimensionValue);e.state.customDimensions[r]=a,n+="&gaEventDimensions["+r+"]="+a}}return n},l=function(t){for(var n="",i=0;i<t.length;i++){var o=t[i];if(o.eventDimensionName){var r=o.eventDimensionName,a=decodeURIComponent(o.eventDimensionValue);e.state.customDimensions[r]=a,n+="&gaUserDimensions["+r+"]="+a}}return n},u=function(t){for(var n="",i=0;i<t.length;i++){var o=t[i];if(o.eventMetricName){var r=o.eventMetricName,a=decodeURIComponent(o.eventMetricValue);e.state.customMetrics[r]=a,n+="&gaEventMetrics["+r+"]="+a}}return n},d=function(e){for(var t="",n=0;n<e.length;n++){var i=e[n];i&&(t+="&params["+i.name+"]="+i.value)}return t},g=function(n,i,o,r,s,c){a=new Date(new Date-e.state.timeDelta).toISOString();var l=t.analyticsUrl+t.eventDefaultEndpoint+(n?"sku="+n:"")+"&domain="+e.config.retailer+(t.userId?"&gaUserId="+t.userId:"")+(e.state.sessionId?"&gaSessionId="+e.state.sessionId:"")+(e.state.sessionCount?"&gaSessionCount="+e.state.sessionCount:"")+(e.state.sessionEngaged?"&gaSessionEngaged="+e.state.sessionEngaged:"")+(s?s:"")+"&eventTime="+encodeURIComponent(a)+(i?"&gaEventName="+i:"")+(o?o:"")+(c?c:"")+(r?r:"")+(document.URL?"&pageUrl="+document.URL:"")+(document.referrer?"&referrer="+document.referrer:"");return l},f=function(n,i,o,r,s){a=new Date(new Date-e.state.timeDelta).toISOString();var c=t.analyticsUrl+t.eventDefaultEndpoint+(n?"gaEventName="+n:"")+(i&&i.id?"&sku="+encodeURIComponent(i.id):e.config.product.id?"&sku="+encodeURIComponent(e.config.product.id):"")+"&gaEventDimensions[tng_scope]=widget"+(i&&i.id?"&gaEventDimensions[tng_sku]="+encodeURIComponent(i.id):"")+(i&&i.category.name?"&gaEventDimensions[tng_sku_category_name]="+encodeURIComponent(i.category.name):"")+(i&&i.category.id?"&gaEventDimensions[tng_sku_category_id]="+encodeURIComponent(i.category.id):"")+(o&&o.name?"&gaEventDimensions[tng_item_name]="+encodeURIComponent(o.name):"")+(o&&o.id?"&gaEventDimensions[tng_item_id]="+encodeURIComponent(o.id):"")+(e.config.isEmbed?"&gaEventDimensions[tng_widget_container]=embed":"&gaEventDimensions[tng_widget_container]=popup")+(r?"&gaEventDimensions[tng_dimension]="+encodeURIComponent(r):"")+(s?"&gaEventDimensions[tng_item_type]="+encodeURIComponent(s):"")+"&domain="+e.config.retailer+(t.userId?"&gaUserId="+t.userId:"")+(e.state.sessionId?"&gaSessionId="+e.state.sessionId:"")+(e.state.sessionCount?"&gaSessionCount="+e.state.sessionCount:"")+(e.state.sessionEngaged?"&gaSessionEngaged="+e.state.sessionEngaged:"")+"&eventTime="+encodeURIComponent(a)+(document.referrer?"&referrer="+document.referrer:"")+(document.URL?"&pageUrl="+document.URL:"");return c};return{_unique_id:t._unique_id,isReady:function(){return i},activate:function(){t.sendGAEventsViaInfoPortal&&s()},setExperiment:function(){return!1},trackImpression:function(n){for(var i=[],o=0;o<n.length;o++)n[o]&&i.push(n[o]);if(0!==i.length){var r=e.utils.storage.getCookie(t.cookieLastOpenWidget),a=[{eventDimensionName:"tng_is_on",eventDimensionValue:e.config.variationGA4},{eventDimensionName:"tng_scope",eventDimensionValue:"hit"},{eventDimensionName:"tng_interacted_last_date",eventDimensionValue:r},{eventDimensionName:"tng_sku",eventDimensionValue:e.config.product.id},{eventDimensionName:"tng_sku_category_name",eventDimensionValue:e.config.product.category},{eventDimensionName:"tng_sku_category_id",eventDimensionValue:e.config.product.categoryId},{eventDimensionName:"tng_widget_container",eventDimensionValue:e.config.isEmbed?"embed":"popup"}],s=[{eventDimensionName:"tng_sku",eventDimensionValue:e.config.product.id},{eventDimensionName:"tng_sku_category_name",eventDimensionValue:e.config.product.category},{eventDimensionName:"tng_sku_category_id",eventDimensionValue:e.config.product.categoryId},{eventDimensionName:"tng_widget_container",eventDimensionValue:e.config.isEmbed?"embed":"popup"}],f=[{eventDimensionName:"tng_user_is_on",eventDimensionValue:e.config.variationGA4}],p=new Date-e.state.timeOfInit,m=[{eventMetricName:"tng_metric",eventMetricValue:p}],v=[];"debug"===e.utils.getParam("xtng_fake")&&v.push({name:"fake",value:"debug"}),"1"===e.utils.getParam("xtng_fake")&&v.push({name:"fake",value:"suppressimpression"});var h=g(encodeURIComponent(i.join()),t.eventImpressionAction,c(a),null,d(v),l(f)),y=g(encodeURIComponent(i.join()),t.eventFirstImpressionAction,c(s),u(m),d(v),l(f));e.utils.http.fetch(h,"POST"),t.isFirstImpression&&(e.utils.http.fetch(y,"POST"),t.isFirstImpression=!1)}},trackWidgetOpen:function(){if(e.config.product.id){var n=(new Date).toISOString().substring(0,10),i=n,o=[{eventDimensionName:"tng_is_on",eventDimensionValue:e.config.variationGA4},{eventDimensionName:"tng_scope",eventDimensionValue:"hit"},{eventDimensionName:"tng_sku",eventDimensionValue:e.config.product.id},{eventDimensionName:"tng_sku_category_name",eventDimensionValue:e.config.product.category},{eventDimensionName:"tng_sku_category_id",eventDimensionValue:e.config.product.categoryId},{eventDimensionName:"tng_widget_container",eventDimensionValue:e.config.isEmbed?"embed":"popup"}],r=[{eventDimensionName:"tng_user_interacted_date",eventDimensionValue:i}],a=[{eventDimensionName:"tng_is_on",eventDimensionValue:e.config.variationGA4},{eventDimensionName:"tng_scope",eventDimensionValue:"page"},{eventDimensionName:"tng_sku",eventDimensionValue:e.config.product.id},{eventDimensionName:"tng_sku_category_name",eventDimensionValue:e.config.product.category},{eventDimensionName:"tng_sku_category_id",eventDimensionValue:e.config.product.categoryId},{eventDimensionName:"tng_widget_container",eventDimensionValue:e.config.isEmbed?"embed":"popup"}],s=[];"debug"===e.utils.getParam("xtng_fake")&&s.push({name:"fake",value:"debug"});var u=g(encodeURIComponent(e.config.product.id),t.eventOpenAction,c(o),null,d(s),l(r)),f=g(encodeURIComponent(e.config.product.id),t.eventOpenAction,c(a),null,d(s),l(r));e.utils.http.fetch(u,"POST"),t.isFirstOpen&&(e.utils.http.fetch(f,"POST"),t.isFirstOpen=!1),e.utils.storage.setCookie(t.cookieLastOpenWidget,i)}},trackWidgetClose:function(){return!1},trackATCClick:function(){if(e.config.product.id){var n=[{eventDimensionName:"tng_scope",eventDimensionValue:"page"},{eventDimensionName:"tng_sku",eventDimensionValue:e.config.product.id},{eventDimensionName:"tng_sku_category_name",eventDimensionValue:e.config.product.category},{eventDimensionName:"tng_sku_category_id",eventDimensionValue:e.config.product.categoryId},{eventDimensionName:"tng_widget_container",eventDimensionValue:e.config.isEmbed?"embed":"popup"}],i=[];"debug"===e.utils.getParam("xtng_fake")&&i.push({name:"fake",value:"debug"});var o=g(encodeURIComponent(e.config.product.id),t.eventATCAction,c(n),null,d(i));e.utils.http.fetch(o,"POST")}},trackATCWidgetClick:function(){if(e.config.product.id){var n=[{eventDimensionName:"tng_scope",eventDimensionValue:"widget"},{eventDimensionName:"tng_sku",eventDimensionValue:e.config.product.id},{eventDimensionName:"tng_sku_category_name",eventDimensionValue:e.config.product.category},{eventDimensionName:"tng_sku_category_id",eventDimensionValue:e.config.product.categoryId},{eventDimensionName:"tng_widget_container",eventDimensionValue:e.config.isEmbed?"embed":"popup"}],i=[];"debug"===e.utils.getParam("xtng_fake")&&i.push({name:"fake",value:"debug"});var o=g(encodeURIComponent(e.config.product.id),t.eventATCAction,c(n),null,d(i));e.utils.http.fetch(o,"POST")}},trackOrder:function(e){return!1},trackCustomEvent:function(t){var n=[];"debug"===e.utils.getParam("xtng_fake")&&n.push({name:"fake",value:"debug"}),g(encodeURIComponent(e.config.product.id),t.action,t.label,null,d(n))},trackWidgetEvent:function(t){var n=f(t.eventName,t.product,t.item,t.dimension,t.itemType);e.utils.http.fetch(n,"POST")},trackImpressionOnJewelryConfigurators:function(n){var i=n.variation?"&params[extern_id_variation]="+n.variation:"",o=g(encodeURIComponent(n.sku)||encodeURIComponent(e.config.product.id),t.eventImpressionAction,null,null,i,null);e.utils.http.fetch(o,"POST")}}}}(),function(){var t="InfoPortalAnalyticsV2";e.state.plugins[t]=function(t,n){var i=!1;t=t||{};var o={analyticsUrl:"https://anapi.tangiblee.com",trackingId:!1,isManualActivation:!1,customTangibleeDimension:1,customWidgetDimension:2,customMethodCall:!1,firstCall:!0,isGA360:!1};for(var r in o)t[r]="undefined"!=typeof t[r]?t[r]:o[r];e.config.trackingIdForIP=t.trackingId;var a=null,s=function(){if(t.isGA360){if(e.mailBox[n])for(var o=0;o<e.mailBox[n].length;o++)e.mailBox[n][o]();i=!0,e.mailBox[n]=[]}};t.isManualActivation||s();var c=function(e){if(t.trackingId){var n=t.trackingId(),i=[];for(var o in n)i.push(e);e=i.join(";")}return e},l=function(){if(!t.trackingId)return"";var e=t.trackingId(),n=[];for(var i in e)e[i]&&n.push(i);return n.length>0?"&trackingId="+n.join(","):""},u=function(){e.state.registerSessionIntervalIdForGA3&&clearInterval(e.state.registerSessionIntervalIdForGA3),e.state.registerSessionIntervalIdForGA3=setInterval(function(){if(a=new Date(new Date-e.state.timeDelta).toISOString(),e.config.product.id){var n=t.analyticsUrl+"/api/Register/Ping?id="+encodeURIComponent(e.config.product.id)+"&domain="+e.config.retailer+(e.state.userId?"&user="+encodeURIComponent(c(e.state.userId)):"")+l()+"&eventTime="+encodeURIComponent(a);e.utils.http.fetch(n,"POST")}},5e3)},d=function(){e.state.registerSessionIntervalIdForGA3&&clearInterval(e.state.registerSessionIntervalIdForGA3)},g=function(n){if(t.firstCall){a=new Date(new Date-e.state.timeDelta).toISOString();var i=e.state.buttonDisplayedAt-e.state.timeOfInit,o=t.analyticsUrl+"/api/Register/TimeToButton?id="+n+"&domain="+encodeURIComponent(e.config.retailer)+(e.state.userId?"&user="+encodeURIComponent(c(e.state.userId)):"")+"&time="+i+l()+"&eventTime="+encodeURIComponent(a);e.utils.http.fetch(o,"POST")}},f=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.slot){var o=i.slot,r=decodeURIComponent(i.dimensionValue);e.state.customDimensions[o]=r}}},p=function(){var t=[],n=[];for(var i in e.state.customDimensions)t.push(i),n.push(e.state.customDimensions[i]);return t.length>0?"&cdi="+t.join()+"&cdv="+n.join():""},m=function(){var t="";return window.screen&&(t+="&sr="+window.screen.width+"x"+window.screen.height),t+="&vp="+window.innerWidth+"x"+window.innerHeight,t+="&ul="+navigator.language||navigator.userLanguage,t+="&de="+document.characterSet,t+="&dc="+(e.utils.isItTablet()?"tablet":e.utils.isItMobileOrTablet()?"mobile":"desktop")};return{_unique_id:t._unique_id,isReady:function(){return i},activate:function(){s(),e.utils.storage.removeCookie(e.config.cookieCDKey)},setExperiment:function(){return!1},trackImpression:function(n){a=new Date(new Date-e.state.timeDelta).toISOString();for(var i=[],o=0;o<n.length;o++)n[o]&&i.push(n[o]);if(0!==i.length){e.state.buttonDisplayedAt=new Date,f([{slot:t.customTangibleeDimension,dimensionValue:e.config.variation}]);var r=t.analyticsUrl+"/api/Register/Impression?id="+i.join()+"&domain="+e.config.retailer+(e.state.userId?"&user="+encodeURIComponent(c(e.state.userId)):"")+("1"===e.utils.getParam("xtng_fake")?"&fake=suppressimpression":"")+p()+m()+l()+"&eventTime="+encodeURIComponent(a);e.utils.http.fetch(r,"POST"),g(i[0]),t.firstCall=!1}},trackWidgetOpen:function(){if(e.config.product.id){a=new Date(new Date-e.state.timeDelta).toISOString();var n=e.state.buttonDisplayedAt?new Date-e.state.buttonDisplayedAt:0;e.state.buttonDisplayedAt=null;var i=(new Date).toISOString().substring(0,10),o="Widget Opened "+i;f([{slot:t.customWidgetDimension,dimensionValue:o}]);var r=t.analyticsUrl+"/api/Register/Open?id="+encodeURIComponent(e.config.product.id)+"&domain="+e.config.retailer+"&timeToOpen="+n+(e.state.userId?"&user="+encodeURIComponent(c(e.state.userId)):"")+p()+m()+l()+"&eventTime="+encodeURIComponent(a);e.utils.http.fetch(r,"POST"),e.utils.storage.setLS("tangiblee:widget:opened","true"),u()}},trackWidgetClose:function(){d()},trackATCClick:function(){return!1},trackATCWidgetClick:function(){return!1},trackOrder:function(e){return!1},trackCustomEvent:function(){return!1},trackWidgetEvent:function(e){return!1},trackImpressionOnJewelryConfigurators:function(e){return!1}}}}(),function(){var t="InfoPortalAnalyticsV3";e.state.plugins[t]=function(t,n){var i=!1;t=t||{};var o={analyticsUrl:"https://anapi.tangiblee.com",trackingId:!1,isManualActivation:!1,customTangibleeDimension:1,customWidgetDimension:2,customWidgetSessionDimension:3,customTangibleeSessionDimension:4,customTangibleeUserDimension:5,eventDefaultEndpoint:"/api/register/event"};for(var r in o)t[r]="undefined"!=typeof t[r]?t[r]:o[r];e.config.trackingIdForIP=t.trackingId;var a=null,s=function(){};t.isManualActivation||s();var c=function(){if(!t.trackingId)return"";var e=t.trackingId(),n=[];for(var i in e)e[i]&&n.push(i);return n.length>0?"&trackingId="+n.join(","):""},l=function(n){a=new Date(new Date-e.state.timeDelta).toISOString();var i=e.state.buttonDisplayedAt-e.state.timeOfInit,o=t.analyticsUrl+"/api/Register/TimeToButton?id="+n+"&domain="+encodeURIComponent(e.config.retailer)+"&user="+e.state.userId+"&time="+i+c()+"&eventTime="+encodeURIComponent(a);e.utils.http.fetch(o,"POST")},u=function(t){for(var n="",i=0;i<t.length;i++){var o=t[i];if(o.slot){var r=o.slot,a=decodeURIComponent(o.dimensionValue);e.state.customDimensions[r]=a,n+="&dims["+r+"]="+a}}return n},d=function(n,i,o,r){a=new Date(new Date-e.state.timeDelta).toISOString();var s=t.analyticsUrl+t.eventDefaultEndpoint+(n?"?id="+n:"")+"&domain="+e.config.retailer+"&user="+e.state.userId+(t.trackingId?"&trackingId="+t.trackingId:"")+"&eventTime="+encodeURIComponent(a)+(i?i:"")+(o?"&action="+o:"")+(r?"&label="+r:"")+(document.referrer?"&referrer="+document.referrer:"")+"&value=1&isAggregated=false";return s};return{_unique_id:t._unique_id,isReady:function(){return i},activate:function(){s()},setExperiment:function(){return!1},trackImpression:function(n){for(var i=[],o=0;o<n.length;o++)n[o]&&i.push(n[o]);if(0!==i.length){e.state.buttonDisplayedAt=new Date;var r=[{slot:t.customTangibleeDimension,dimensionValue:e.config.useAnalyticsCookies&&e.config.useCookies?e.config.variation:e.config.variation+"|NoStorage"},{slot:t.customTangibleeSessionDimension,dimensionValue:e.config.useAnalyticsCookies&&e.config.useCookies?e.config.variation:e.config.variation+"|NoStorage"},{slot:t.customTangibleeUserDimension,dimensionValue:e.state.userId}],a=d(i.join(),u(r),"Client Impression",e.state.userId)+("1"===e.utils.getParam("xtng_fake")?"&fake=suppressimpression":"");e.utils.http.fetch(a,"POST"),l(i[0])}},trackWidgetOpen:function(){if(e.config.product.id){var n=(new Date).toISOString().substring(0,10),i="Widget Opened "+n,o=[{slot:t.customWidgetDimension,dimensionValue:i},{slot:t.customWidgetSessionDimension,dimensionValue:i}],r=d(encodeURIComponent(e.config.product.id),u(o),"Client Open",encodeURIComponent(e.config.product.id)+"-"+document.URL);e.utils.http.fetch(r,"POST")}},trackWidgetClose:function(){return!1},trackATCClick:function(){if(e.config.product.id){var t=d(encodeURIComponent(e.config.product.id),null,"Client ATC",encodeURIComponent(e.config.product.id)+"-"+document.URL);e.utils.http.fetch(t,"POST")}},trackATCWidgetClick:function(){if(e.config.product.id){var t=d(encodeURIComponent(e.config.product.id),null,"Client ATC Widget",encodeURIComponent(e.config.product.id)+"-"+document.URL);e.utils.http.fetch(t,"POST")}},trackOrder:function(e){return!1},trackCustomEvent:function(t){var n=d(encodeURIComponent(e.config.product.id),null,t.action,t.label);e.utils.http.fetch(n,"POST")},trackWidgetEvent:function(e){return!1},trackImpressionOnJewelryConfigurators:function(e){return!1}}}}(),function(){var t="logsInfoPortalAnalytics";e.state.plugins[t]=function(t,n){var i=!1;t=t||{};var o={analyticsUrl:"https://anapi.tangiblee.com",trackingId:!1,isManualActivation:!1,eventImpression:"Client Impression",eventOpen:"Client Open",cleanIds:[]};for(var r in o)t[r]="undefined"!=typeof t[r]?t[r]:o[r];var a=null,s=function(){};return t.isManualActivation||s(),{_unique_id:t._unique_id,isReady:function(){return i},activate:function(){s(),e.utils.storage.removeCookie(e.config.cookieCDKey)},setExperiment:function(){return!1},trackImpression:function(n){a=new Date(new Date-e.state.timeDelta).toISOString();for(var i=0;i<n.length;i++)n[i]&&t.cleanIds.push(n[i]);if(0!==t.cleanIds.length){var o=t.analyticsUrl+"/api/Register/LogEvent?Domain="+e.config.retailer+"&EventAction="+encodeURIComponent(t.eventImpression)+"&Category="+encodeURIComponent(e.config.product.category+" - "+e.config.product.categoryId)+"&ExternId="+t.cleanIds[0]+(e.state.userId?"&User="+encodeURIComponent(e.state.userId):"")+("1"===e.utils.getParam("xtng_fake")?"&fake=suppressimpression":"")+"&eventTime="+encodeURIComponent(a)+"&Origin=frontend";e.utils.http.fetch(o,"POST")}},trackWidgetOpen:function(){if(a=new Date(new Date-e.state.timeDelta).toISOString(),0!==t.cleanIds.length){var n=t.analyticsUrl+"/api/Register/LogEvent?Domain="+e.config.retailer+"&EventAction="+encodeURIComponent(t.eventOpen)+"&Category="+encodeURIComponent(e.config.product.category+" - "+e.config.product.categoryId)+"&ExternId="+t.cleanIds[0]+(e.state.userId?"&User="+encodeURIComponent(e.state.userId):"")+"&eventTime="+encodeURIComponent(a)+"&Origin=frontend";e.utils.http.fetch(n,"POST")}},trackWidgetClose:function(){return!1},trackATCClick:function(){return!1},trackATCWidgetClick:function(){return!1},trackOrder:function(e){return!1},trackCustomEvent:function(){return!1},trackWidgetEvent:function(e){return!1},trackImpressionOnJewelryConfigurators:function(e){return!1}}}}(),function(){var t=function(t){if(!t.id)return!1;var n=e.utils.storage.getLS("latest_tng_orders")||[],i=20;return n.indexOf(t.id)>-1||(n.unshift(t.id),n.slice(0,Math.min(n.length,i)),e.utils.storage.setLS("latest_tng_orders",n),!1)},n=function(t,n){for(var i=0;i<e.state.activatedPlugins.length;i++){var o=function(i){return function(){e.state.activatedPlugins[i][t](n)}}(i);e.state.activatedPlugins[i].isReady()||"activate"===t?o():(e.mailBox[i]||(e.mailBox[i]=[]),e.mailBox[i].push(o))}},i=function(t,i){var o=function(){var e=t();if(!e||!e.items||!e.items.length)return console.error("Wrong order data format, please check Tangiblee Documentation"),!1;e.total=0;for(var n=0;n<e.items.length;n++)e.total+=e.items[n].price*e.items[n].qty;return 0===e.total?(console.warn("Order Total is 0, please check Tangiblee Documentation"),!1):e};if(e.utils.pageChecker.isParseRevenuePage()){var r=o();r&&e.utils.storage.setLS("tng_order",r)}if(e.utils.pageChecker.isTrackRevenuePage()){var r=o();r||(r=e.utils.storage.getLS("tng_order"),i&&(r.id=i()||!1)),r&&(n("trackOrder",r),e.utils.storage.removeLS("tng_order"))}},o={setAnalyticsPlugin:function(t,n){if(e.config.isUserInitialized||(r(),e.utils.transferCookies(),e.config.isUserInitialized=!0),n._unique_id)for(var i=0;i<e.state.activatedPlugins.length;i++)if(e.state.activatedPlugins[i]._unique_id===n._unique_id)return;e.state.activatedPlugins.push(e.state.plugins[t](n,e.state.activatedPlugins.length))},setVariation:function(t){e.config.variation=t,e.config.variationGA4=t},getVariation:function(){return e.config.variation},setExperiment:function(e){e.provider||(e.provider="GoogleOptimize"),n("setExperiment",e)},setRetailer:function(t){e.config.retailer=t},setEmbedState:function(t){e.config.isEmbed=t},setProduct:function(t){e.config.product={id:t.id,category:t.category||"Default",categoryId:t.categoryId||-1,label:t.id?t.id:"Unknown"}},setCookieUserKey:function(t){e.config.cookieUserKey=t},setCurrentServerTime:function(t){var n=new Date-Date.parse(t);e.state.timeDelta=n},setAutoTracking:function(t){e.config.parseOn=t.parseOn,e.config.trackOn=t.trackOn,i(t.parseOrder,t.transactionIdFetcher)},getTangibleeUserId:function(t){var n=500,i=0,o=function(){if(e.state.userId){var o=e.state.userId,r=e.state.sessionId,a="",s=e.state.sessionCount,c=e.state.sessionEngaged,l=document.referrer?document.referrer:"",u=document.URL?document.URL:"";return a=e.config.useAnalyticsCookies&&o.split(";").length>1?o.split(";")[1]:o.split(";")[0],t(o,r,a,s,c,l,u),o}n>i&&(setTimeout(waitForUserId,50),i++)};o()},startRegisteringSession:function(){},stopRegisteringSession:function(){},trackOrder:function(e){if(n("trackCustomEvent",{category:"Tangiblee Experience",action:"TYP visit",label:window.location.href,value:1,isInteraction:!1,tngGAOnly:!0}),!e||!e.items||!e.items.length)return console.log("Wrong order data format, please check Tangiblee Documentation"),!1;if(e.total=0,t(e))return console.log("Duplicated order was not sent"),!1;for(var i=0;i<e.items.length;i++)e.total+=e.items[i].price*e.items[i].qty;return 0===e.total?(console.warn("Order Total is 0, please check Tangiblee Documentation"),!1):void n("trackOrder",e)},activate:function(){r(),n("activate")},trackImpression:function(e){n("trackImpression",e)},trackATCClick:function(){n("trackATCClick")},trackATCWidgetClick:function(e,t){var i={atcTitle:e,variants:t};n("trackATCWidgetClick",i)},trackWidgetOpen:function(){n("trackWidgetOpen")},trackWidgetClose:function(){n("trackWidgetClose")},trackCustomEvent:function(e){n("trackCustomEvent",e)},trackWidgetEvent:function(e){n("trackWidgetEvent",e)},trackImpressionOnJewelryConfigurators:function(e){n("trackImpressionOnJewelryConfigurators",e)}},r=function(){var t=e.utils.storage.getCookie("_ga");if("function"==typeof tangiblee&&(e.config.useAnalyticsCookies=tangiblee("useAnalyticsCookies"),e.config.useCookies=tangiblee("useCookies")),!e.config.useAnalyticsCookies||!e.config.useCookies)return e.utils.setUserID(),void(t&&/GA\d+\.\d+\.(.+)/gi.test(t)&&(e.state.userId+=";"+/GA\d+\.\d+\.(.+)/gi.exec(t)[1]));var n=e.utils.storage.getLS("tangiblee:widget:user"),i=e.utils.storage.getCookie(e.config.cookieUserKey);e.state.userId=n,i&&i!==e.state.userId&&(e.state.userId=i);var o=window.crypto||window.msCrypto;if(e.state.userId)e.utils.storage.setLS("tangiblee:widget:user",e.state.userId),e.utils.storage.setCookie(e.config.cookieUserKey,e.state.userId,365);else if("undefined"!=typeof o&&o.getRandomValues){var r=function(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(e){return(e^o.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)})};e.state.userId=r(),e.utils.storage.setLS("tangiblee:widget:user",e.state.userId),e.utils.storage.setCookie(e.config.cookieUserKey,e.state.userId,365)}else{var a=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"===e?t:3&t|8;return n.toString(16)})};e.state.userId=a(),e.utils.storage.setLS("tangiblee:widget:user",e.state.userId),e.utils.storage.setCookie(e.config.cookieUserKey,e.state.userId,365)}t&&/GA\d+\.\d+\.(.+)/gi.test(t)&&(e.state.userId+=";"+/GA\d+\.\d+\.(.+)/gi.exec(t)[1])},a=function(){if(!window.taScriptLoaded){window.taScriptLoaded=!0;var e=window.tangibleeAnalytics&&window.tangibleeAnalytics.q||[];window.tangibleeAnalytics=function(){try{for(var e=arguments[0],t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);return o[e].apply(this,t)}catch(i){}},window.tangibleeAnalytics.loaded=!0;for(var t=0;t<e.length;t++)window.tangibleeAnalytics.apply(this,e[t])}};a()}()}()}catch(p){window.TrackJS&&window.TrackJS.isInstalled()&&window.TrackJS.track(p.message)}}();